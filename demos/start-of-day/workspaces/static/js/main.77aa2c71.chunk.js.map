{"version":3,"sources":["../../node_modules/tslib/tslib.es6.js","../../src/defaultComponents/HeaderButton.tsx","../../src/defaultComponents/popups/addApplication/ApplicationItem.tsx","../../src/defaultComponents/popups/addApplication/ApplicationsList.tsx","../../src/defaultComponents/popups/addApplication/ContainerSwitch.tsx","../../src/withGlueInstance.tsx","../../src/defaultComponents/popups/addApplication/AddApplicationPopup.tsx","../../src/defaultComponents/popups/Feedback.tsx","../../src/defaultComponents/popups/helpers.ts","../../src/defaultComponents/popups/addWorkspace/WorkspaceLayoutItem.tsx","../../src/defaultComponents/popups/addWorkspace/WorkspaceLayoutsList.tsx","../../src/defaultComponents/popups/addWorkspace/AddWorkspacePopup.tsx","../../src/defaultComponents/popups/saveWorkspace/SaveContextCheckbox.tsx","../../src/defaultComponents/popups/saveWorkspace/SaveWorkspaceButton.tsx","../../src/defaultComponents/popups/saveWorkspace/SaveWorkspacePopup.tsx","../../../workspaces-ui-core/dist/export.js","../../src/workspacesManager.ts","../../node_modules/reactjs-popup/dist/reactjs-popup.esm.js","../../src/WorkspacePopup.tsx","../../src/Portal.tsx","../../src/WorkspacesWrapper.tsx","../../src/WorkspacesElementCreationWrapper.tsx","../../src/index.tsx","../../src/config/index.ts","../../src/config/checkSingleton.ts","../../src/enterprise/index.ts","../../node_modules/decoder-validate/dist/index.es5.js","../../src/shared/decoders.ts","../../src/windows/protocol.ts","../../node_modules/callback-registry/lib/index.js","../../src/windows/webWindow.ts","../../src/windows/controller.ts","../../src/shared/promise-plus.ts","../../src/communication/constants.ts","../../src/communication/bridge.ts","../../src/appManager/protocol.ts","../../src/appManager/controller.ts","../../src/appManager/instance.ts","../../src/appManager/application.ts","../../src/layouts/protocol.ts","../../src/layouts/controller.ts","../../src/notifications/controller.ts","../../src/intents/protocol.ts","../../src/intents/controller.ts","../../src/channels/controller.ts","../../src/system/protocol.ts","../../src/system/controller.ts","../../src/shared/ioc.ts","../../../core/dist/core.es.js","../../src/index.ts","../../src/web.ts","App.tsx","reportWebVitals.ts","../../src/communication/interop-transport.ts","../../src/shared/promisePlus.ts","../../src/builders/parentBuilder.ts","../../src/builders/baseBuilder.ts","../../src/builders/workspaceBuilder.ts","../../src/models/row.ts","../../src/models/column.ts","../../src/models/group.ts","../../src/models/workspace.ts","../../src/models/window.ts","../../src/models/frame.ts","../../src/shared/privateDataManager.ts","../../src/models/base/base.ts","../../src/controllers/base.ts","../../src/controllers/main.ts","../../src/main.ts","index.tsx"],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","this","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","v","op","TypeError","pop","push","__spreadArrays","il","r","k","a","j","jl","ApplicationItem","_a","appName","onClick","React","preventDefault","className","ApplicationsList","glue","inLane","parent","hidePopup","searchTerm","updatePopupHeight","filter","filterApps","isActivity","isShell","type","app","userProperties","includeInWorkspaces","includeInCanvas","workspacesFriendlyApps","appManager","applications","useEffect","id","title","name","toLowerCase","map","key","callback","w","workspaceWindow","focus","unsub","onWindowLoaded","workspace","addGroup","children","newGroup","addWindow","console","warn","error_1","ContainerSwitch","setInLane","wordInLabel","labelToPut","toUpperCase","substring","htmlFor","role","withGlueInstance","WrappedComponent","props","window","useContext","GlueContext","Error","workspaceId","boxId","resizePopup","_b","useState","_c","setParent","_d","setSearchTerm","containerRef","createRef","shouldUpdate","workspaces","getAllWorkspaces","allWorkspaces","myWorkspace","find","getBox","refreshPopupHeight","containerHeight","current","getBoundingClientRect","height","width","ref","placeholder","onChange","target","Feedback","message","regexResult","exec","getFeedbackErrorMessage","WorkspaceLayoutItem","onCloseClick","WorkspaceLayoutsList","frameId","showFeedback","layoutSummaries","setLayoutSummaries","getSummaries","layouts","summary","layoutName","restoreWorkspace","stopPropagation","feedbackText","setFeedbackText","resizePopupWithContainerHeight","createWorkspace","frame","reuseFrameId","itemType","errMessage","SaveContextCheckbox","changeChecked","refreshHeight","inputRef","checked","SaveWorkspaceButton","inputValue","clearInput","shouldSaveContext","hideFeedback","buildMode","shouldSave","setShouldSave","workspaceName","save","saveContext","setTitle","error","instance","agm","payload","operation","operationArguments","invoke","returned","layout","downloadElement","document","createElement","data","encodeURIComponent","JSON","stringify","append","setAttribute","click","remove","err","setShouldSaveContext","feedbackMessage","setFeedbackMessage","setWorkspaceName","bounds","o","l","globalThis","global","self","path","exports","require","config","container","controls","errors","items","utils","F","extend","createObject","contructor","objectKeys","keys","getHashValue","location","hash","match","RegExp","getQueryStringParam","search","substr","split","copy","animFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","setTimeout","Int8Array","isFunction","toString","fnBind","Function","bind","concat","slice","removeFromArray","splice","now","Date","getTime","getUniqueId","Math","random","replace","filterXss","stripTags","trim","EventEmitter","_mSubscriptions","ALL_EVENT","on","fn","ctx","emit","unshift","unbind","off","trigger","DragListener","_eElement","_oDocument","_eBody","_nButtonCode","_nDelay","_nDistance","_nX","_nY","_nOriginalX","_nOriginalY","_bDragging","_fMove","onMouseMove","_fUp","onMouseUp","_fDown","onMouseDown","timeout","destroy","button","_getCoordinates","x","one","_timeout","_startDrag","abs","clearTimeout","removeClass","css","addClass","originalEvent","touches","pageX","pageY","LayoutManager","$","noConflict","isInitialised","_isFullPage","_resizeTimeoutId","_components","lm-react-component","ReactComponentHandler","_itemAreas","_resizeFunction","_onResize","_unloadFunction","_onUnload","_maximizedItem","_maximizePlaceholder","_creationTimeoutPassed","_subWindowsCreated","_dragSources","_dragProxies","_updatingColumnsResponsive","_firstLoad","_componentFactory","root","openPopouts","selectedItem","isSubWindow","eventHub","EventHub","_createConfig","dropTargetIndicator","transitionIndicator","tabDropPlaceholder","_typeToItem","column","RowOrColumn","row","stack","Stack","component","Component","__lm","minifyConfig","ConfigMinifier","unminifyConfig","registerComponent","toConfig","AbstractContentItem","settings","dimensions","labels","context","workspacesOptions","content","contentItems","_$reconcilePopoutWindows","maximizedItemId","getComponent","ConfigurationError","init","_createSubWindows","readyState","_adjustToWindowMode","_setContainer","DropTargetIndicator","TransitionIndicator","updateSize","_create","_bindEvents","_adjustColumnsResponsive","ready","callDownwards","element","forEach","_dragListener","_element","_itemConfig","createContentItem","componentName","join","Root","createPopout","c","h","u","isRoot","addId","isNaN","screenX","screenLeft","screenY","screenTop","left","offset","top","BrowserPopout","createDragSource","constrainDragToContainer","DragSource","selectItem","selectionEnabled","deselect","select","_$maximiseItem","_$minimizeItem","after","prepend","_$minimiseItem","removeId","_$closeWindow","close","_$getArea","x1","x2","y1","y2","surface","_$createRootItemAreas","allowDrop","allowDropLeft","allowDropTop","allowDropRight","allowDropBottom","side","_$calculateItemAreas","_getAllContentItems","isStack","workspacesConfig","contentItem","_contentAreaDimensions","header","highlightArea","mode","_$normalizeContentItem","isPlainObject","getWindow","closed","resize","localStorage","getItem","parse","removeItem","defaultConfig","hasHeaders","headerHeight","popin","html","offsetHeight","__glInstance","parentId","indexInParent","margin","padding","overflow","getItemsById","toggleMaximise","closePopoutsOnUnload","_useResponsiveLayout","minItemWidth","isRow","is","max","floor","_findAllStackContainers","_addChildContentItemsToContainer","responsiveMode","addChild","removeChild","_findAllStackContainersRecursive","isComponent","default","GoldenLayout","reorderEnabled","popoutWholeStack","blockedPopoutsThrowError","showMinimizeIcon","showPopoutIcon","showMaximizeIcon","showCloseIcon","tabOverlapAllowance","reorderOnTabMenuClick","tabControlOffset","borderWidth","borderGrabWidth","minItemHeight","dragProxyWidth","dragProxyHeight","maximize","restore","minimize","popout","tabDropdown","itemDefaultConfig","isClosable","ItemContainer","layoutManager","isHidden","_config","_contentElement","getElement","hide","show","setSize","isColumn","getState","componentState","extendState","setState","emitBubblingEvent","_$setSize","offsetWidth","clientWidth","clientHeight","_dimensions","_parentId","_indexInParent","_layoutManager","_popoutWindow","_id","_createWindow","getGlInstance","popIn","_createUrl","_serializeWindowOptions","innerWidth","innerHeight","menubar","toolbar","personalbar","resizable","scrollbars","status","open","_positionWindow","_onClose","setInterval","_onInitialised","clearInterval","setItem","href","moveTo","DragProxy","_contentItem","_originalParent","_area","_lastValidArea","_onDrag","_onDrop","_template","_side","_sided","attr","childElementContainer","disableDragProxy","_updateTree","_setDimensions","_minX","_minY","_maxX","_maxY","_width","_height","_setDropPosition","_$highlightDropZone","canceled","_$destroy","_$onDrop","_$setParent","_createDragListener","_onDragStart","transitionElements","highlight","Header","_onHeaderClick","createLogo","domNode","createAddWorkspace","createSystemButtons","tabsContainer","tabDropdownContainer","controlsContainer","workspaceControlsContainer","tabsControlsContainer","_updateTabSizesWithoutDropdown","tabs","activeContentItem","closeButton","tabDropdownButton","hideAdditionalTabsDropdown","_hideAdditionalTabsDropdown","mouseup","_lastVisibleTabIndex","_tabControlOffset","_createControls","createTab","Tab","before","removeTab","setActiveContentItem","setActive","activeItemIndex","position","_header","_setupHeaderPosition","_$setClosable","_isClosable","_getHeaderSetting","_showAdditionalTabsDropdown","HeaderButton","_onPopoutClick","minimizeLabel","minimizeButton","_updateTabSizes","toggle","outerWidth","tab","outerHeight","parseInt","z-index","margin-left","_action","Splitter","_isVertical","_size","_grabSize","_createElement","titleElement","closeElement","isActive","_onTabClickFn","_onTabClick","_onCloseClickFn","_onCloseClick","noTabHeader","_onCloseMousedown","isMaximized","windowId","allowExtract","getActiveContentItem","_toElement","_fromDimensions","_totalAnimationDuration","_animationStartTime","_nextAnimationFrame","_measure","opacity","node","_extendItemNode","isVisible","_pendingEventPropagations","_throttledEvents","_propagateEvent","_createContentItems","_$init","replaceChild","parentNode","_$hide","hasId","getItemsByFilter","getItemsByType","_$getItemsByProperty","getComponentsByName","_callOnActiveComponents","_$show","BubblingEvent","isPropagationStopped","_scheduleEventPropagationToLayoutManager","origin","_propagateEventToLayoutManager","_$shown","shown","_containerElement","_splitterSize","_splitterGrabSize","_isColumn","_dimension","_splitter","_splitterPosition","_splitterMinPosition","_splitterMaxPosition","_createSplitter","_calculateRelativeSizes","_setAbsoluteSizes","_calculateAbsoluteSizes","additionalPixel","itemSizes","totalWidth","totalHeight","round","_respectMinItemWidth","_onSplitterDrag","_onSplitterDragStop","_onSplitterDragStart","_getItemsForSplitter","_getMinimumDimensions","minWidth","minHeight","horizontal","vertical","allowSplitters","_activeContentItem","_dropZones","_dropSegment","_dropIndex","_$validateClosability","_resetHeaderDropZone","hoverArea","_highlightHeaderDropZone","_highlightBodyDropZone","right","bottom","min","placeHolderTop","_keys","_values","_nextLevel","_min","_max","_dontPropagateToParent","_childEventSource","_onEventFromThis","_boundOnEventFromChild","_onEventFromChild","_propagateToParent","_propagateToChildren","_$onEventFromParent","__gl","__glArgs","createEvent","opener","initEvent","createEventObject","eventType","eventName","dispatchEvent","fireEvent","_reactComponent","_originalComponentWillUpdate","_container","_initialState","_reactClass","_getReactClass","_render","_destroy","ReactDOM","render","_getReactComponent","componentWillUpdate","_onUpdate","unmountComponentAtNode","glEventHub","glContainer","errorHandling","add","includes","isArray","reduce","execute","clear","clearKey","[object Object]","_idToLayout","workspaceLayout","getByContainerIdCore","innerText","getById","windows","mergeWindows","hibernatedWindows","lastActive","some","getWorkspaceContentItem","values","workspaceTitles","workspaceIds","getWorkspaceTitle","_workspaceLayout","containerElement","setupEvents","MutationObserver","from","classList","contains","handleTabCountChanged","removedNodes","attributeName","handleTabHeaderResized","observe","childList","subtree","attributes","attributeFilter","attributeOldValue","characterData","characterDataOldValue","disconnect","visibleTabs","refreshTabClasses","visibilityState","logo","addWorkspace","systemButtons","workspaceContents","componentsFactory","_decoratedFactory","callbackRegistry","observer","getWorkspaceIdFromContents","style","display","decoratedFactory","createWorkspaceContents","subscribeForWorkspaceContentsVisibility","subscribeForWorkspaceContentsResize","getElementById","m","windowContentItem","index","getByWindowId","url","getUserFriendlyParent","itemId","isFocused","isLoaded","positionIndex","showCloseButton","wrapper","getSummaryCore","containerContentItem","populateChildrenAllowDrop","populateChildrenAllowExtact","showMaximizeButton","showEjectButton","showAddWindowButton","getByContainerId","getUserFriendlyType","findElementInConfig","stateResolver","workspaceContentItem","getWindowSummarySync","transformComponentsToWindowSummary","getContainerSummary","transformParentsToContainerSummary","lastFocusedWindowId","focusedWindowId","focusedGroupId","isWindowSelected","hibernateConfig","tabIndex","findIndex","isHibernated","isSelected","showSaveButton","populateChildrenAllowExtract","showAddWindowButtons","hibernatedWorkspaceIconLabel","querySelectorAll","getWorkspaceTabElement","hasClass","HibernationIconClass","SaveWorkspaceButtonLabel","getWindowContentItem","getContainer","E","C","_maximizedId","_workspaceLayoutElementId","_registry","_emptyVisibleWindowName","_stackMaximizeLabel","_stackRestoreLabel","_options","_emitter","_stateResolver","_configFactory","_frameId","_showLoadingIndicator","showLoadingIndicator","initWorkspaceConfig","refreshLayoutSize","all","workspaceConfigs","initWorkspaceContents","emitter","raiseEvent","setupOuterLayout","setupContentLayouts","isWorkspaceHibernated","hideAddButton","getWindowInfoFromConfig","placementId","registerWindowComponent","applyLockConfig","onContentComponentCreated","wrapInGroup","getId","bundleWorkspace","onContentItemCreated","getContainerConfig","getWorkspaceLayoutComponentName","registerWorkspaceComponent","removeLayout","reuseWorkspaceId","getWorkspaceLayoutItemById","removeById","getElementsByTagName","getDragElement","addedNodes","setDragElementSize","waitForWindowContainer","getElementsByClassName","showWindowAddButtons","hideWindowAddButtons","showWorkspaceSaveButton","hideWorkspaceSaveButton","showWorkspaceCloseButton","hideWorkspaceCloseButton","showWindowCloseButton","hideWindowCloseButton","hideMaximizeButton","hideEjectButton","hideAddWindowButton","addOrUpdate","showAddButton","signal","promise","getDefaultWorkspaceSettings","registerEmptyWindowComponent","raiseEventWithDynamicName","layoutId","item","onclick","args","laneId","disableCustomButtons","toBack","toFront","refreshTabSizeClass","isWindowLoaded","catch","getElementByClass","appendChild","waitForLayout","composedPath","activeElement","blur","onOuterLayoutContainerResized","onContentContainerResized","parentType","log","I","W","S","T","A","lastIndexOf","D","z","at","B","get","characters","seed","lookup","shuffled","L","crypto","msCrypto","M","getRandomValues","Uint8Array","LN2","O","pow","N","test","H","generate","worker","isValid","_idToFrame","_glue","startCore","contentWindow","postMessage","glue42core","setImmediate","loading","src","waitForWindow","onWindowAdded","list","q","LAST_SESSION_KEY","sessionStorage","U","URLSearchParams","emptyFrame","workspaceNames","build","cleanUpUrl","removeQueryParams","history","replaceState","pathname","G","resolver","_configConverter","_layoutsType","_layoutComponentType","_initialWorkspaceConfig","generateInitialConfig","getWorkspaceByName","layoutData","getLastSession","getDefaultFrameConfig","workspacesFrameCache","addWorkspaceIds","convertToRendererConfig","getAll","export","components","state","metadata","saveWorkspaceCore","getWorkspaceContext","import","saveWorkspaceCoreSync","set","getWorkspaceConfig","removeWorkspaceIds","applyWindowLayoutState","convertToAPIConfig","removeWorkspaceItemIds","windowSummariesToWindowLayout","addWindowUrlsToWindows","workspaceSummaryToWorkspaceLayout","findById","getContext","application","details","getWindowLayoutState","layoutState","contexts","V","_layoutEventEmitter","frameController","waitForWindowContentItem","getWorkspaceSummary","getFrameSnapshot","hasFrame","X","_pattern","sort","Y","_titleGenerator","_defaultWorkspaceLayoutSettings","createWindowConfigurationCore","getTitle","getDefaultWorkspaceConfig","wrap","instances","J","registry","action","Z","flat","convertToRendererConfigCore","convertToApiConfigCore","applyDefaultRendererConfig","every","getGroupWithEmptyVisibleWindow","convertSizeToRendererConfigSafely","createEmptyVisibleWindowConfig","activeTabIndex","getAppNameFromWindowId","createGDWindowConfig","createApiWindow","Q","_externalPopupManager","_componentPopupManager","createAddApplicationPopup","showAddWindowPopup","createAddWorkspacePopup","showOpenWorkspacePopup","createSaveWorkspacePopup","showSaveWorkspacePopup","K","_addApplicationType","_openWorkspaceType","_saveWorkspaceType","_showPopupMethod","initPopup","registerHideMethod","registerResizeMethod","getPopupSize","showElement","_popup","getPopupInteropId","servers","interopId","tt","_popupSizes","hideSystemPopups","showInternalAddAppPopup","showInternalOpenWorkspacePopup","showInternalSaveWorkspacePopup","onblur","tagName","et","askForSettings","interop","domain","nt","_frameController","_manager","_delayedExecutor","WAIT_FOR_WINDOWS_TIMEOUT","idToWindowPromise","onFrameRemoved","loadingStrategy","defaultStrategy","getComponentsByVisibility","visibleComponents","start","getSettings","startExecution","notImmediatelyVisibleComponents","batchSize","delayed","batch","executionInterval","interval","initialDelay","initialOffsetInterval","waitFor","onLoaded","onFailed","getTitleByAppName","vaidateTitle","getUrlByAppName","getURL","workspacesEventEmitter","raiseWindowEvent","windowSummary","notifyFrameWillStart","startFrame","moveFrame","getWindowSummary","getAppNameByWindowId","raiseFailed","closeTab","ot","actionsInProgress","splitInBatches","executeBatch","it","_isLayoutInitialized","_initPromise","_workspacesEventEmitter","getComponentBounds","_controller","subscribeForWindowClicked","onFrameContentClicked","cleanUp","_isDisposing","extractWindowSummariesFromSnapshot","_applicationFactory","notifyFrameWillClose","raiseWorkspaceEvent","frameSummary","workspaceSummary","_layoutsManager","saveWorkspacesFrame","raiseFrameEvent","_facade","loadConfig","_initialized","_popupManager","initLayout","reInitialize","getActiveWorkspace","reinitializeWorkspace","setInitialWorkspaceConfig","delete","maximizeWindow","restoreWindow","closeWorkspace","closeContainer","addContainer","setWorkspaceTitle","setWindowTitle","closeItem","reuseId","waitForFrameLoaded","resumeWorkspace","focusWorkspace","focusWindow","my","removeLayoutElement","removeWindow","generateLayout","showSaveIcon","disableWorkspaceDrop","enableWorkspaceDrop","disableWorkspaceExtract","enableWorkspaceExtract","disableSplitters","enableSplitters","disableWorkspaceCloseButton","enableWorkspaceCloseButton","disableWorkspaceSaveButton","enableWorkspaceSaveButton","handleColumnLockRequested","handleRowLockRequested","handleGroupLockRequested","windowPlacementId","disableWindowExtract","enableWindowExtract","disableWindowCloseButton","enableWindowCloseButton","showHibernationIcon","checkForEmptyWorkspace","getInitialConfig","subscribeForPopups","subscribeForLayout","showDelayedIndicator","getLoadingStrategy","handleWindows","reportLayoutStructure","onContentItemResized","onTabCloseRequested","onWorkspaceTabCloseRequested","onTabElementMouseDown","onTabDragStart","bringToFront","onTabDragEnd","selectionChanged","onSelectionChanged","onWorkspaceAdded","selectionChangedDeep","onWorkspaceSelectionChanged","isWindowVisible","onAddButtonClicked","peerId","onContentLayoutInit","onWorkspaceAddButtonClicked","workspaceLayoutHeader","onWorkspaceSaveRequested","onStackMaximized","maximizeTab","onStackRestored","restoreTab","onEjectRequested","eject","onComponentSelectedInWorkspace","onWorkspaceContainerResized","refreshWorkspaceSize","onWorkspaceContentsShown","onWorkspaceContentsHidden","onWorkspaceEvent","onWindowTitleChanged","setItemTitle","onFrameLoaded","hideLoadingIndicator","closeHibernatedWorkspaceCore","closeWorkspaceCore","getSnapshot","startDelayed","startDirect","startLazy","isPlatformFrame","executeAfterControlIsDone","removeWorkspace","onWindowEvent","disableGroupExtract","enableGroupExtract","disableGroupAddWindowButton","enableGroupAddWindowButton","disableGroupEjectButton","enableGroupEjectButton","disableGroupMaximizeButton","enableGroupMaximizeButton","disableGroupDrop","enableGroupDrop","disableRowDrop","enableRowDrop","disableColumnDrop","enableColumnDrop","st","_workspacesControlMethod","_workspacesEventMethod","_inDisposing","_controlPromise","handleControlCore","initPromise","handleIsWindowInWorkspace","handleAddWindow","handleAddContainer","handleGetWorkspaceSnapshot","handleOpenWorkspace","handleSaveLayout","handleExportAllLayouts","handleDeleteLayout","handleGetAllWorkspaceSummaries","handleMaximizeItem","handleRestoreItem","handleCloseItem","handleSetItemTitle","handleAddWorkspaceChildren","handleEject","handleCreateWorkspace","handleForceLoadWindow","handleFocusItem","handleBundleWorkspace","handleGetFrameSummary","handleMoveFrame","handleGetFrameSnapshot","handleGetSnapshot","handleMoveWindowTo","handleGenerateLayout","handlePing","handleHibernateWorkspace","handleResumeWorkspace","handleLockWorkspace","handleLockContainer","handleLockWindow","handleControl","_converter","registerAgmMethods","onFrameEvent","publishEventData","onContainerEvent","finally","registerAsync","openWorkspace","restoreOptions","exportAllLayouts","saveWorkspace","deleteLayout","summaries","restoreItem","maximizeItem","definition","loadWindow","focusItem","inWorkspace","isWindowInWorkspace","getFrameSummary","move","moveWindowTo","containerId","generateWorkspaceLayout","live","hibernateWorkspace","lockWorkspace","lockWindow","lockContainer","methods","rt","getPrototypeOf","nodeType","nonce","noModule","text","getAttribute","head","jquery","toArray","pushStack","merge","prevObject","each","first","eq","last","even","grep","odd","end","expando","isReady","noop","isEmptyObject","globalEval","makeArray","inArray","guid","support","lt","R","ID","CLASS","TAG","ATTR","PSEUDO","CHILD","bool","needsContext","String","fromCharCode","charCodeAt","_t","disabled","nodeName","dir","childNodes","ownerDocument","qsa","wt","scope","vt","removeAttribute","cacheLength","shift","ct","dt","ht","attrHandle","ut","sourceIndex","nextSibling","pt","ft","mt","isDisabled","gt","isXML","namespaceURI","documentElement","setDocument","defaultView","addEventListener","attachEvent","createComment","getElementsByName","getAttributeNode","innerHTML","matchesSelector","matches","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector","msMatchesSelector","disconnectedMatch","compareDocumentPosition","sortDetached","specified","escape","uniqueSort","detectDuplicates","sortStable","getText","textContent","firstChild","nodeValue","selectors","createPseudo","relative",">"," ","+","~","preFilter","lastChild","uniqueID","pseudos","setFilters","not","has","lang","hasFocus","enabled","selected","selectedIndex","empty","input","nth","radio","checkbox","file","password","image","submit","reset","yt","Ct","It","bt","kt","filters","tokenize","compile","selector","defaultValue","expr","unique","isXMLDoc","escapeSelector","parseHTML","contents","prev","closest","prevAll","addBack","parents","parentsUntil","nextAll","nextUntil","prevUntil","siblings","contentDocument","reverse","fail","Callbacks","once","stopOnFalse","memory","disable","lock","locked","fireWith","fire","fired","Deferred","always","pipe","progress","notify","notifyWith","resolveWith","exceptionHook","stackTrace","rejectWith","getStackHook","when","readyException","removeEventListener","readyWait","doScroll","uid","cache","defineProperty","configurable","access","hasData","removeData","_data","_removeData","queue","dequeue","_queueHooks","stop","clearQueue","source","composed","getRootNode","cur","cssNumber","unit","createDocumentFragment","checkClone","cloneNode","noCloneChecked","option","thead","col","tr","td","_default","tbody","tfoot","colgroup","caption","th","optgroup","htmlPrefilter","createTextNode","xt","Et","Wt","event","St","namespace","handler","isTrigger","special","delegateType","stopImmediatePropagation","Event","events","handle","triggered","dispatch","bindType","origType","delegateCount","setup","teardown","removeEvent","fix","delegateTarget","preDispatch","handlers","currentTarget","elem","isImmediatePropagationStopped","rnamespace","handleObj","postDispatch","addProp","enumerable","writable","load","noBubble","beforeunload","returnValue","isDefaultPrevented","defaultPrevented","relatedTarget","timeStamp","isSimulated","altKey","bubbles","cancelable","changedTouches","ctrlKey","detail","eventPhase","metaKey","shiftKey","view","char","code","charCode","keyCode","buttons","clientX","clientY","offsetX","offsetY","pointerId","pointerType","targetTouches","toElement","which","mouseenter","mouseleave","pointerenter","pointerleave","Tt","At","Dt","Bt","Lt","Mt","Pt","Ft","zt","clone","_evalUrl","Ot","cleanData","detach","insertBefore","replaceWith","appendTo","prependTo","insertAfter","replaceAll","$t","Rt","getComputedStyle","Nt","Ht","jt","getPropertyValue","pixelBoxStyles","maxWidth","qt","cssText","marginLeft","parseFloat","backgroundClip","clearCloneStyle","boxSizingReliable","pixelPosition","reliableMarginLeft","scrollboxSize","reliableTrDimensions","Ut","Gt","Vt","Xt","cssProps","Yt","Jt","Zt","visibility","Qt","letterSpacing","fontWeight","Kt","te","ceil","ee","getClientRects","ne","cssHooks","animationIterationCount","columnCount","fillOpacity","flexGrow","flexShrink","gridArea","gridColumn","gridColumnEnd","gridColumnStart","gridRow","gridRowEnd","gridRowStart","lineHeight","order","orphans","widows","zIndex","zoom","setProperty","isFinite","border","expand","Tween","prop","easing","options","propHooks","run","duration","pos","fx","scrollTop","scrollLeft","linear","swing","cos","PI","oe","ie","se","re","ae","hidden","tick","le","ce","de","he","tweeners","prefilters","startTime","tweens","opts","specialEasing","originalProperties","originalOptions","createTween","complete","timer","anim","Animation","*","tweener","unqueued","overflowX","overflowY","prefilter","speed","speeds","old","fadeTo","animate","finish","timers","slideDown","slideUp","slideToggle","fadeIn","fadeOut","fadeToggle","slow","fast","delay","checkOn","optSelected","radioValue","ue","pe","removeAttr","attrHooks","fe","me","ge","we","ye","removeProp","propFix","for","class","toggleClass","ve","val","valHooks","focusin","_e","Ce","parentWindow","simulate","triggerHandler","Ie","be","ke","parseXML","DOMParser","parseFromString","xe","Ee","We","Se","Te","param","serialize","serializeArray","Ae","De","Be","Le","Me","Pe","Fe","ze","Oe","$e","Re","Ne","dataTypes","He","ajaxSettings","flatOptions","active","lastModified","etag","isLocal","protocol","processData","async","contentType","accepts","xml","json","responseFields","converters","* text","text html","text json","text xml","ajaxSetup","ajaxPrefilter","ajaxTransport","ajax","statusCode","getResponseHeader","getAllResponseHeaders","setRequestHeader","overrideMimeType","mimeType","abort","method","dataType","crossDomain","host","traditional","hasContent","ifModified","headers","beforeSend","success","send","dataFilter","throws","statusText","getJSON","getScript","text script","wrapAll","firstElementChild","wrapInner","unwrap","visible","xhr","XMLHttpRequest","je","0","1223","qe","cors","username","xhrFields","onload","onerror","onabort","ontimeout","onreadystatechange","responseType","responseText","binary","response","script","scriptAttrs","charset","scriptCharset","Ue","Ge","Ve","jsonp","jsonpCallback","createHTMLDocument","implementation","animated","setOffset","using","pageYOffset","pageXOffset","offsetParent","scrollTo","Height","Width","delegate","undelegate","hover","Xe","proxy","holdReady","parseJSON","isWindow","camelCase","isNumeric","Ye","jQuery","Je","dispose","initialized","subscribeForWorkspaceEvents","getFrameId","notifyMoveAreaChanged","registerPopup","removePopup","removePopupById","unmount","subscribeForWindowFocused","notifyWorkspacePopupChanged","requestFocus","WorkspacesManagerDecorator","componentFactory","workspacesManager","elementId","cb","_extends","useIsomorphicLayoutEffect","useLayoutEffect","Style","popupContent","tooltip","modal","popupArrow","background","color","overlay","POSITION_TYPES","getCoordinatesForPosition","triggerBounding","ContentBounding","arrow","_ref","CenterTop","CenterLeft","transform","arrowTop","arrowLeft","popupIdCounter","forwardRef","_ref$trigger","_ref$onOpen","onOpen","_ref$onClose","onClose","_ref$defaultOpen","defaultOpen","_ref$open","_ref$disabled","_ref$nested","nested","_ref$closeOnDocumentC","closeOnDocumentClick","_ref$repositionOnResi","repositionOnResize","_ref$closeOnEscape","closeOnEscape","_ref$on","_ref$contentStyle","contentStyle","_ref$arrowStyle","arrowStyle","_ref$overlayStyle","overlayStyle","_ref$className","_ref$position","_ref$modal","_ref$lockScroll","lockScroll","_ref$arrow","_ref$offsetX","_ref$offsetY","_ref$mouseEnterDelay","mouseEnterDelay","_ref$mouseLeaveDelay","mouseLeaveDelay","_ref$keepTooltipInsid","keepTooltipInside","_useState","isOpen","setIsOpen","triggerRef","useRef","contentRef","arrowRef","focusedElBeforeOpen","popupId","isModal","timeOut","setPosition","focusContentOnOpen","lockScrolll","resetScroll","openPopup","closePopup","togglePopup","onMouseEnter","onContextMenu","onMouseLeave","_contentRef$current","focusableEls","firstEl","useImperativeHandle","_arrowStyle$top","_arrowStyle$left","cords","_ref2","bestCoords","wrapperBox","boundingBox","querySelector","positions","contentBox","calculatePosition","scrollY","scrollX","listener","els","firstFocusableEl","lastFocusableEl","refs","PopupRoot","renderContent","popupContentStyle","childrenElementProps","pointerEvents","data-testid","viewBox","fill","ovStyle","data-popup","Fragment","triggerProps","aria-describedby","onAsArray","len","onFocus","onBlur","comp","cloneElement","createPortal","Portal","templateId","WorkspacesWrapper","template","onCreateLogoRequested","onCreateAddWorkspaceRequested","onCreateSystemButtonsRequested","onCreateWorkspaceContentsRequested","onCreateSaveWorkspacePopupRequested","onCreateAddApplicationPopupRequested","onCreateAddWorkspacePopupRequested","onHideSystemPopupsRequested","externalPopupApplications","_super","_this","saveWorkspacePopup","addApplicationPopup","addWorkspacePopup","LogoCustomElement","LogoComponent","AddWorkspaceCustomComponent","AddWorkspaceComponent","SystemButtonsCustomComponent","SystemButtonsComponent","WorkspaceContentsComponent","WorkspaceContents","wc","SaveWorkspaceCustomComponent","popups","SaveWorkspaceComponent","SaveWorkspacePopup","AddApplicationCustomComponent","AddApplicationComponent","AddApplicationPopup","AddWorkspacePopup","undefined","WorkspacesElementCreationWrapper","_g","additionalProperties","addApplicationComponent","saveWorkspaceComponent","addWorkspaceComponent","onCreateAddApplicationRequested","onCreateSaveWorkspaceRequested","addApplication","renderLogoComponent","renderAddWorkspaceComponent","renderSystemButtonsComponent","renderWorskpaceContents","renderSaveWorkspacePopupComponent","renderAddApplicationPopupComponent","renderAddWorkspacePopupComponent","onHideSystemPopups","logger","gateway","webPlatform","libraries","parseConfig","combined","systemLogger","level","checkSingleton","glue42CoreNamespace","webStarted","enterprise","enterpriseConfig","channels","Glue","ok","asPromise","withDefault","withException","map2","ar","br","mapError","andThen","freeze","isOk","isErr","successes","results","acc","isEqual","isJsonArray","isJsonObject","expectedGot","expected","got","typeString","printPath","paths","prependAt","newAt","rest","Decoder","decode","kind","runPromise","runWithException","where","errorMessage","succeed","string","number","boolean","constant","object","decoders","obj","array","decoder","arr","err$$1","decodeValue_1","tuple","union","ad","bd","_i","oneOf","intersection","ds","anyJson","unknownJson","dict","optional","errorsList","valueAt","jsonAtPath","fixedValue","lazy","mkDecoder","request","operations","openWindow","dataDecoder","openWindowConfigDecoder","resultDecoder","coreWindowDataDecoder","windowHello","windowHelloDecoder","helloSuccessDecoder","windowAdded","windowRemoved","simpleWindowDecoder","getBounds","windowBoundsResultDecoder","getUrl","windowUrlResultDecoder","moveResize","windowMoveResizeConfigDecoder","windowTitleConfigDecoder","createRegistry","_userErrorHandler","callbacks","callbacksForKey","WebWindowModel","_name","_bridge","CallbackRegistryFactory","myCtxKey","ctxUnsubscribe","contextLib","subscribe","api","resizeTo","updateContext","setContext","onContextUpdated","dimension","targetBounds","boundsDecoder","commandArgs","nonNegativeNumberDecoder","ttl","nonEmptyStringDecoder","anyDecoder","update","WindowsController","allWindowProjections","coreGlue","ioc","subLogger","trace","publicWindowId","connection","transport","actualWindowId","addWindowOperationExecutors","bridge","platformRegistration","registerWithPlatform","toApi","operationName","windowOperationTypesDecoder","operationData","windowOpenSettingsDecoder","windowSuccess","buildWebWindow","projection","onWindowRemoved","handleWindowAdded","handleWindowRemoved","handleGetBounds","handleGetTitle","handleGetUrl","handleMoveResize","handleSetTitle","helloSuccess","sayHello","isWorkspaceFrame","myWindow","currentWindows","webWindowProjection","removed","model","clean","targetTop","targetLeft","targetHeight","targetWidth","moveMethod","moveBy","resizeMethod","resizeBy","PromiseWrap","timeoutMilliseconds","timeoutMessage","promiseActive","operationResult","executor","appHello","appHelloSuccessDecoder","applicationAdded","baseApplicationDataDecoder","applicationRemoved","applicationChanged","instanceStarted","instanceDataDecoder","instanceStopped","applicationStart","applicationStartConfigDecoder","instanceStop","basicInstanceDataDecoder","appRemoveConfigDecoder","appsExportOperationDecoder","AppManagerController","addOperationsExecutors","appManagerOperationTypesDecoder","startOptions","waitForAGMReady","relativeTo","relativeDirection","openResult","applicationName","buildInstance","myInstance","inMemory","getApplication","getApplications","getInstances","onAppAdded","onAppChanged","onAppRemoved","onInstanceStarted","onInstanceStopped","handleApplicationAddedMessage","handleApplicationRemovedMessage","handleApplicationChangedMessage","handleInstanceStartedMessage","handleInstanceStoppedMessage","appData","buildApplication","appIndex","version","icon","instanceData","instIdx","inst","instIdxApps","definitions","importModeDecoder","parseResult","soFar","decodeResult","allApplicationDefinitionsDecoder","valid","invalid","imported","verifiedName","apps","instancesSoFar","findMyInstance","foundInstance","InstanceModel","getInteropInstance","ApplicationModel","controller","startApplication","layoutAdded","glueLayoutDecoder","layoutChanged","layoutRemoved","simpleLayoutConfigDecoder","optionalSimpleLayoutResult","getAllLayoutsConfigDecoder","allLayoutsSummariesResultDecoder","allLayoutsFullConfigDecoder","layoutsImportConfigDecoder","LayoutsController","layoutsOperationTypesDecoder","onAdded","onChanged","onRemoved","handleOnAdded","handleOnChanged","handleOnRemoved","layoutTypeDecoder","newLayoutOptionsDecoder","restoreOptionsDecoder","NotificationsController","notifications","raise","permissionPromise","Notification","permission","requestPermission","notification","raiseUsingWebApi","clickInterop","interopOptions","getIntents","wrappedIntentsDecoder","findIntent","wrappedIntentFilterDecoder","raiseIntent","intentRequestDecoder","intentResultDecoder","IntentsController","myIntents","Set","GlueWebIntentsPrefix","intents","intentsOperationTypesDecoder","addIntentListener","requestObj","raiseRequestDecoder","intent","addIntentListenerIntentDecoder","subscribed","intentName","methodName","unsubscribe","unregister","intentFlag","register","flags","intentFilter","intentFilterObj","findFilterDecoder","ChannelsController","GlueWebChannelsPrefix","SubsKey","ChangedKey","subscribeFor","publish","leave","changed","channelName","contextName","startsWith","channelContextName","unsubscribeFunc","currentChannelName","createContextName","___","extraData","updaterId","setPathSupported","pathValues","setPaths","channelNames","getAllChannelNames","channelNameDecoder","updateData","channelContexts","switchToChannel","info","getEnvironment","getBase","SystemController","setEnvironment","environment","base","MetricTypes","getMetricTypeByValue","metric","getTypeByValue","serializeMetric","serializedMetrics","memo","innerType","composite","defineNestedComposite","description","normalizeMetricName","getMetricValueByType","publishNestedComposite","Boolean","flatten","toFlatten","composeMsgForRootStateMetric","system","merged","getAggregateState","highestState","msg","idx","aggregateDescription","Helpers","BaseMetric","createMetric","repo","newValue","updateMetric","NumberMetric","incrementBy","num","increment","decrement","decrementBy","ObjectMetric","mergeValues","StringMetric","TimestampMetric","separator","_transport","_description","_repo","_parent","_path","_buildPath","shadowedSystem","_state","_subSystems","_metrics","_getOrCreateMetric","metricObject","expectedType","metricDef","matching","shadowedMetric","existing","subSystem","nameSystem","descriptionSystem","_system","stateDescription","updateSystem","stringMetric","timestampMetric","objectMetric","numberMetric","aggState","shadowedSubSystem","createSystem","Repository","addSystemMetrics","clickStream","rootSystem","useClickStream","navigator","userAgent","clickStream_1","documentClickHandler","timestamp","page","urlMetric","appNameMetric","startUrl","glue42gd","NullProtocol","PerfTracker","initialPublishTimeout","publishInterval","lastCount","scheduleCollection","collect","collectMemory","collectEntries","performance","totalJSHeapSize","usedJSHeapSize","allEntries","getEntries","jsonfiedEntries","toJSON","metrics","joinPromise","session","replayRepo","replaySystem","subSystems","ss","createMetricsMsg","Description","Value","metricClone","cloneMetric","updateMetricCore","canUpdate","publishMetricsMsg","sendFireAndForget","canUpdateMetric","resolveReadyPromise","onJoined","reconnect","defineRootMetricsMsg","service","shadowedUpdateMetric","stateObj","rootMetric","peer_id","gw3","disableAutoAppSystem","featureMetric","reportingSystem","def","featureMetricFunc","addFAVSupport","perfConfig","pagePerformanceMetrics","initPerf","_handleError","exceptionArtifact","errParam","replayArgumentsArr","replayArgument","allForKey","argumentsArr","lib","InProcTransport","gw","facade","connect","_client","messageHandler","client","sendObject","_msg","onMessage","onConnectedChanged","SharedWorkerTransport","workerFile","SharedWorker","port","onmessage","Utils","getGDMajorVersion","glueDesktop","ver","Number","isNode","_isNode","process","PromiseWrapper","resolved","time","timerName","marks","endTime","period","mark","currentTime","diff","timerObj","WebSocketConstructor","WebSocket","WS","startupTimer","_running","wsRequests","ws","waitForSocketConnection","pw","failed","openSocket","retryInterval","retriesLeft","reconnectInterval","notifyForSocketState","debug","initiateSocket","retries","reason","seen_1","WeakSet","notifyStatusChanged","onclose","onopen","identity","wsRequest","alphabet","previousSeed","randomFromSeed","nextValue","_seed_","ORIGINAL","setCharacters","_alphabet_","ind","getShuffled","characterIndex","sourceArray","targetArray","shuffle","alphabet_1","randomByteBrowser","dest","encode_1","loopCounter","str","decode_1","lib$1","module","createCommonjsModule","counter","previousSeconds","clusterWorkerId","seconds","seedValue","workerId","newCharacters","shortid","domainSession","successMessages","errorMessages","_latestOptions","isJoined","tryReconnecting","_connectionOn","disconnected","loggedIn","handleSuccessMessage","handleErrorMessage","sm","requestsMap","destination","wasReconnect","handleJoined","requestId","request_id","entry","getNextRequestId","tag","skipPeerId","successMsg","_tag","errorMsg","onLeft","connected","GW3ProtocolImpl","protocolVersion","datePrefix","datePrefixLen","dateMinLen","datePrefixFirstChar","_isLoggedIn","shouldTryLogin","initialLogin","initialLoginAttempts","sessions","handleDisconnected","ping","processStringMessage","milliseconds","ex","msgType","createStringMessage","oldToJson","datePrefix_1","processObjectMessage","createObjectMessage","login","authentication","e_1","helloMsg","sendOptions","welcomeMsg","token","err_1","loginConfig","gatewayToken","getNewGWToken","flowName","provider","flowCallback","sessionId","secret","globalDomain","maxRetries","reconnectAttempts","Buffer","resolvedIdentity","resolved_identity","availableDomains","available_domains","access_token","setLoggedIn","logout","promises","pingTimer","domainName","domainLogger","authToken","res","getGWToken","MessageReplayerImpl","specs","specsNames","messages","subs","subsRefCount","specs_1","spec","name_1","_loop_1","refCount","this_1","sub","processMessage","types","isDone","name_2","drain","PromisePlus","WebPlatformTransport","parentReady","iAmConnected","parentPingTimeout","connectionRequestTimeout","defaultTargetString","connectionAccepted","handleConnectionAccepted","connectionRejected","handleConnectionRejected","connectionRequest","handleConnectionRequest","handleParentReady","parentPing","handleParentPing","platformPing","handlePlatformPing","platformUnload","handlePlatformUnload","platformReady","handlePlatformReady","clientUnload","handleClientUnload","manualUnload","handleManualUnload","setUpMessageListener","setUpUnload","waitParent","initiateRemoteConnection","connectionResolve","connectionReject","myClientId","bridgeInstanceId","clientId","clientType","parentPingResolve","checkMessageTypeValid","messageType","ownWindowId","handleAcceptanceOfMyRequest","handleAcceptanceOfGrandChildRequest","parentWindowId","child","grandChildId","rejectConnectionRequest","typeToValidate","rejection","Connection","messageHandlers","ids","_connected","isTrace","inproc","sharedWorker","canPublish","handleConnectionChanged","handleTransportMessage","replaySpecs","replayer","isObjectBasedTransport","strMessage","isLoggedIn","authRequest","distributeMessage","handlerId","loggerError","msgObj","Logger","logFn","subLoggers","customLogFn","loggerFullName","includeTimeAndLevel","existingSub","publishLevel","_publishLevel","consoleLevel","_consoleLevel","publishMessage","compareWith","loggerName","Interop","InteropMethodName","prefix","date","getHours","getMinutes","getSeconds","getMilliseconds","toPrint","GW_MESSAGE_CREATE_CONTEXT","GW_MESSAGE_ACTIVITY_CREATED","GW_MESSAGE_ACTIVITY_DESTROYED","GW_MESSAGE_CONTEXT_CREATED","GW_MESSAGE_CONTEXT_ADDED","GW_MESSAGE_SUBSCRIBE_CONTEXT","GW_MESSAGE_SUBSCRIBED_CONTEXT","GW_MESSAGE_UNSUBSCRIBE_CONTEXT","GW_MESSAGE_DESTROY_CONTEXT","GW_MESSAGE_CONTEXT_DESTROYED","GW_MESSAGE_UPDATE_CONTEXT","GW_MESSAGE_CONTEXT_UPDATED","GW_MESSAGE_JOINED_ACTIVITY","ContextMessageReplaySpec","GW3ContextData","contextId","isAnnounced","activityId","updateCallbacks","hasCallbacks","applyContextDelta","delta","deepClone","commands","command","deletePath","setValueToPath","added_1","added","updated_1","updated","mergeObjectsProperties","WeakMap","what","withWhat","deepEqual","pathArr","isSubset","superObj","subObj","ele","InvokeStatus","GW3Bridge","_contextNameToData","_gw3Subscriptions","_nextCallbackSubscriptionNumber","_contextNameToId","_contextIdToName","_protocolVersion","_connection","_logger","_gw3Session","subscribeToContextCreatedMessages","subscribeToContextUpdatedMessages","subscribeToContextDestroyedMessages","handleContextCreatedMessage","handleContextUpdatedMessage","handleContextDestroyedMessage","contextsDomainInfo","uri","createContext","lifetime","createContextMsg","context_id","contextData","currentContext","calculatedDelta","calculateContextDeltaV2","calculateContextDeltaV1","gwResponse","handleUpdated","setPath","pathValues_1","pathValue","pathValues_2","_r","un","thisCallbackSubscriptionNumber","hadCallbacks","joinedActivity","sentExplicitSubscription","sendSubscribe","subscriptionKey","sendUnsubscribe","oldContext","invokeUpdateCallbacks","createdMessageTypes_1","createdMessageType","contextCreatedMsg","activity_id","updatedMessageTypes_1","updatedMessageType","contextUpdatedMsg","justSeen","context_snapshot","updater_id","updateCallbackIndex","updateCallback","destroyedMessageTypes_1","destroyedMessageType","destroyedMsg","to","ContextsModule","checkName","checkData","checkPath","paths_1","promisify","successCallback","errorCallback","rejectAfter","ms","clearTimeoutIfThere","Client","configuration","callProtocolSubscribe","targetServers","stream","successProxy","errorProxy","methodResponseTimeout","waitTimeoutMs","methodDef","method_response_timeout","wait_for_method_timeout","delayTillNow","currentServers","getServerMethodsByFilterAndTarget","retry_1","streamInfo","methodFilter","filterCopy","getServers","serverMethodMap","server","getMethods","methodsForInstance","getMethodsForInstance","methodAdded","onMethodAdded","methodRemoved","onMethodRemoved","serverAdded","onServerAdded","serverRemoved","onServerRemoved","serverMethodAdded","onServerMethodAdded","serverMethodRemoved","onServerMethodRemoved","argumentObj","additionalOptions","methodDefinition","serversMethodMap","errorObj","additionalOptionsCopy","invokePromises","invocationMessages","methodResponseTimeoutMs","tryToAwaitForMethods","supportsStreaming","objectTypes","called_with","executed_by","serversMethodPair","invId","invokePromise","race","invocationId","getInvocationResultObj","getInvokePromise","invocationResults","calledWith","all_return_values","invokeMessage","Success","allValues","currentValue","all_errors","allErrors","currError","invResult","filterByTarget","myMatches","serverMethodPair","instanceMatch","localMachine","instanceFilter","instanceDefinition","containsProps","methodMatch","repoMethod","isMatch","filterValue","repoMethodValue","filterValueEl","matchingServers","resultMethodsObject","methodKey","identifier","matchingMethods","ServerSubscription","subscription","branchKey","closeSingleSubscription","pushDataToSingle","Request","requestContext","accept","acceptRequestOnBranch","acceptOnBranch","branch","rejectRequest","ServerStreaming","onSubRequest","rc","rm","handleSubRequest","onSubAdded","handleSubAdded","onSubRemoved","handleSubRemoved","streamCallbacks","subscriptionRequestHandler","subscriptionAddedHandler","subscriptionRemovedHandler","ServerBranch","subscriptions","getSubscriptionList","closeAllSubscriptions","pushData","ServerStream","_protocol","_repoMethod","_server","branches","bList","getBranchList","def2","displayName","returns","updateRepoMethod","Server","serverRepository","invocations","currentlyUnregistering","streaming","onInvoked","onMethodInvoked","createStream","streamDef","existingStream","streamMethodDefinition","getList","serverMethod","protocolState","streamUserObject","repoId","wrappedCallbackFunction","resultCallback","resultValue","userCallback","registerCore","wrappedCallback","resultCalled_1","methodResult","userCallbackAsync","forStream","methodToBeRemoved","unregisterWithPredicate","removeMethodsOrStreams","filterPredicate","methodsOrStreamsToRemove","methodsToRemove","methodUnregPromises","addAsCurrentlyUnregistering","theFunction","unregisterInProgress","methodToExecute","invocationArgs","unStrException","_value","methodInvocationResult","InstanceWrapper","API","wrapped","getStreams","refreshWrappedObject","refresh","user","pid","machine","region","hideMethodSystemFlags","ClientRepository","methodsCount","myServer","unwrappedInstance","addServer","serverId","serverEntry","removeServerById","methodId","removeServerMethod","addServerMethod","createMethodIdentifier","that","gatewayId","display_name","object_types","input_signature","result_signature","getServersByMethod","clientMethodDefinition","extractMethodsFromServers","hideServerMethodSystemFlags","serversWithMethodsToReplay","returnUnsubWithDelayedReplay","methodsToReplay","unsubCalled","getServerById","methodInfo","allServers","collectionToReplay","clientMethods","entries","ServerRepository","nextId","SUBSCRIPTION_REQUEST","SUBSCRIPTION_ADDED","SUBSCRIPTION_REMOVED","ServerStreaming$1","repository","ERR_URI_SUBSCRIPTION_FAILED","nextStreamId","handleAddInterest","handleRemoveInterest","streamingMethod","subscriptionsMap","branchKeyToStreamIdMap","streamId","getStreamId","subscription_id","subscribeMsg","stream_id","sendSubscriptionFailed","dropSubscriptionMessage","closeMultipleSubscriptions","subscriptionsToClose","drop","allSubscriptions","onSubscriptionLifetimeEvent","method_id","handlerFunc","getNextStreamId","caller_id","arguments_kv","subscriptionId","reason_uri","needleBranch","ServerProtocol","clientRepository","handleInvokeMessage","isStreaming","registerMsg","restrictions","invocation_id","callerId","UserSubscription","subscriptionData","params","trackedServers","pair","onData","dataCallback","queued","dataItem","onClosed","closedCallback","onConnected","setNewSubscription","newSub","STATUS_AWAITING_ACCEPT","STATUS_SUBSCRIBED","ERR_MSG_SUB_FAILED","ON_CLOSE_MSG_CLIENT_INIT","ClientStreaming","subscriptionsList","subscriptionIdToLocalKeyMap","nextSubLocalKey","handleErrorSubscribing","errorResponse","subLocalKey","pendingSub","timeoutId","callArgs","callOnClosedHandlers","handleSubscribed","acceptingServer","isFirstResponse","serverInstance","handleEventData","trackedServersFound","isPrivateData","oob","sendingServerId","receivedStreamData","requestArguments","private","onDataHandlers","queuedData","handleSubscriptionCancelled","expectedNewLength","closers","getNextSubscriptionLocalKey","registerSubscription","server_id","drainSubscriptions","subsInfo","localKey","closeSubscription","closingServer","closersCount","closingServerId","ClientProtocol","handlePeerAdded","handlePeerRemoved","handleMethodsAddedMessage","handleMethodsRemovedMessage","handleResultMessage","handleInvocationError","newPeerId","new_peer_id","remoteId","meta","local","serverInfo","removedPeerId","removed_id","methodIdList","gW3ProtocolFactory","libConfig","readyPromise","existingSubscriptions_1","registeredMethods","registeredMethods_1","handleReconnect","protocolPromise","waitForMethod","MessageBus","topic","routingKey","removeEmptyValues","routing_key","target_identity","watchOnEvent","keysMatch","cleaned","obj1","obj2","keysObj1","allMatch","GlueCore","userConfig","ext","gdVersion","preloadPromise","gdPreloadPromise","_interop","_contexts","_bus","_allowTrace","glueInitTimer","internalConfig","nodeStartingContext","startingContextString","_GD_STARTING_CONTEXT_","_f","applicationConfig","instanceId","gwConfig","gwURL","uniqueAppName","env","appInstanceId","getConnection","windowAsAny","containerApplication","htmlContainer","containerName","bus","auth","gwToken","getAuth","gdConsoleLevel","defaultLevel","consoleLogLevel","getLogger","libs","customLogger","prepareConfig","registerLib","inner","initTime","initEndTime","initStartTime","setupMetrics","initTimer","metricsPublishingEnabledFunc","getMetricsPublishingEnabled","setupInterop","agmConfig","setupContexts","hasActivities","activities","setupBus","setupExternalLibs","externalLibs","createCallback","setupExternalLib","authPromise","authConfig","libsReadyPromises","coreVersion","feedback","feedbackInfo","timing","extOptions","enrichGlue","updatePerfData","deprecatedDecorator","wrong","proper","agmAny","method_added","method_removed","server_added","server_method_aded","server_method_removed","coreFactoryFunction","createGlueCore","IoC","controllers","App","reportWebVitals","onPerfEntry","getCLS","getFID","getFCP","getLCP","getTTFB","isWindowInSwimlaneResultDecoder","allParentDecoder","subParentDecoder","frameStateDecoder","checkThrowCallback","allowUndefined","argumentType","workspaceBuilderCreateConfigDecoder","saveLayout","deleteLayoutConfigDecoder","swimlaneWindowDefinitionDecoder","strictSwimlaneWindowDefinitionDecoder","parentDefinitionDecoder","strictParentDefinitionDecoder","newFrameConfigDecoder","loadingStrategyDecoder","restoreWorkspaceConfigDecoder","lockdown","activateFrame","newFrame","inMemoryLayout","openWorkspaceConfigDecoder","workspaceDefinitionDecoder","builderConfigDecoder","workspaceCreateConfigDecoder","saveConfig","getFrameSummaryConfigDecoder","frameSummaryDecoder","eventTypeDecoder","focused","streamRequestArgumentsDecoder","workspaceEventActionDecoder","workspaceConfigResultDecoder","baseChildSnapshotConfigDecoder","parentSnapshotConfigDecoder","swimlaneWindowSnapshotConfigDecoder","customWorkspaceSubParentSnapshotDecoder","customWorkspaceChildSnapshotDecoder","customWorkspaceWindowSnapshotDecoder","workspaceSnapshotResultDecoder","windowLayoutItemDecoder","groupLayoutItemDecoder","columnLayoutItemDecoder","rowLayoutItemDecoder","workspaceLayoutDecoder","workspacesImportLayoutDecoder","exportedLayoutsResultDecoder","frameSummaryResultDecoder","frameSummariesResultDecoder","workspaceSummaryResultDecoder","workspaceSummariesResultDecoder","frameSnapshotResultDecoder","layoutSummaryDecoder","layoutSummariesDecoder","simpleWindowOperationSuccessResultDecoder","voidResultDecoder","frameStateResultDecoder","resizeConfigDecoder","moveConfigDecoder","simpleItemConfigDecoder","frameStateConfigDecoder","requestedState","setItemTitleConfigDecoder","moveWindowConfigDecoder","resizeItemConfigDecoder","moveFrameConfigDecoder","addWindowConfigDecoder","addContainerConfigDecoder","addItemResultDecoder","pingResultDecoder","bundleConfigDecoder","containerSummaryResultDecoder","frameStreamDataDecoder","workspaceStreamDataDecoder","containerStreamDataDecoder","containerSummary","windowStreamDataDecoder","workspaceLayoutSaveConfigDecoder","workspaceSelectorDecoder","workspaceLockConfigDecoder","lockWorkspaceDecoder","windowLockConfigDecoder","lockWindowDecoder","rowLockConfigDecoder","columnLockConfigDecoder","groupLockConfigDecoder","lockRowDecoder","lockColumnDecoder","lockGroupDecoder","lockContainerDecoder","webPlatformMethodName","webPlatformWspStreamName","METHODS","control","isStream","frameStream","workspaceStream","containerStream","windowStream","STREAMS","payloadDecoder","OPERATIONS","argsDecoder","getAllFramesSummaries","getAllWorkspacesSummaries","getWorkspaceSnapshot","getAllLayoutsSummaries","importLayout","resizeItem","changeFrameState","getFrameState","forceLoadWindow","ejectWindow","activeSubscriptions","coreSubscriptionReady","handleCoreEvent","registryKey","scopeId","scopeConfig","receivedIds","checkScopeMatch","operationArgs","operationDefinition","transmitControl","operationResultRaw","activeSub","getActiveSubscription","getRegistryKey","getBranchKey","gdSub","streamData","requestedArgumentsResult","actionResult","streamType","validatedPayload","keyToExecute","levelId","callbacksCount","verifiedAction","verifiedType","verifiedPayload","defaultTransportTimeout","coreEventMethodInitiated","verifyMethodLive","eventCallback","subscribePlatform","corePlatformSubPromise","streamName","streamBranch","subscriptionArgs","invocationArguments","baseErrorMessage","invocationResult","invocationErrorMessage","privateData","wrapChildren","serializeChildren","getBuilder","validatedDefinition","childBuilder","addParent","predicate","lockConfigResult","verifiedConfig","getWorkspaceId","getPositionIndex","getAllChildren","getMyParent","getMyFrame","getMyWorkspace","getAllowDrop","getAllowExtract","getShowMaximizeButton","getShowEjectButton","getShowAddWindowButton","getData","manager","getWorkspaceData","getDataManager","dataManager","refreshReference","iterateFindChild","wsp","setWorkspaceContext","updateWorkspaceContext","subscribeWorkspaceContextUpdated","newSnapshot","currentChildrenFlat","flatChildren","newChildren","refreshChildren","existingChildren","currentFrame","remapFrame","actualFrame","frameCreateConfig","getModel","remapWorkspace","allParents","iterateFilterChildren","getAllBoxes","allWindows","bundleTo","currentLockConfig","processLocalSubscription","windowParent","foundWindow","win","getWindowData","newWindowId","getGdWindow","myId","getGDWindow","getParent","checkIsWindowLoaded","getFrameData","validatedConfig","getWorkspaces","validatedOptions","getWorkspace","foundParent","parentsData","workspacesData","windowsData","framesData","windowPlacementIdData","keyForDeleting","newData","getParentData","getWindowFromPlacementId","placemenId","getWindowByPlacementId","typeToAdd","parentDefinition","transformDefinition","newParentId","modelData","createConfig","snapshot","frameConfig","workspaceConfig","allFrameSummaries","frames","frameToCheck","bridgeResults","allSummaries","summaryResult","addedUnSub","changedUnSub","gdWindow","controlResult","newChildSnapshot","childToAdd","privateDataManager","remapChild","foundChild","foundChildren","grandChildren","innerFound","getLayoutSummaries","allLayouts","handleEnterpriseLocalSubscription","handleCoreLocalSubscription","handleEnterpriseGlobalSubscription","handleCoreGlobalSubscription","getFrame","getFrames","iterateWorkspaces","foundWorkspace","matchingWorkspaces","allSummariesResult","getAllWorkspaceSummaries","resultWindow","resultParent","allLayoutsResult","matchingLayouts","handleOnSaved","frameResult","notifyWindowAdded","createCoreEventSubscription","originalCB","wrappedCB","callbackData","handleCoreSubscription","ended","workspaceSummaries","fetchWorkspace","initiate","frameData","setFrameData","windowPrivateData","newWindow","setWindowData","newParent","parentBase","builtChildren","buildChildren","parentPrivateData","setParentData","newWorkspace","workspacePrivateData","setWorkspaceData","baseBuilder","_baseController","_controllerInstance","baseController","_bridgeInstance","CallbackFactory","_transportInstance","_privateDataManagerInstance","_parentBaseInstance","checkIsInSwimlane","getAllFrames","exportLayout","onSaved","onFrameOpened","processGlobalSubscription","onFrameClosed","onWorkspaceOpened","onWorkspaceClosed","GlueWorkspaces","StrictMode","glueFactory","GlueWeb"],"mappings":"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","file":"static/js/main.77aa2c71.chunk.js","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import React from \"react\";\r\n\r\nconst HeaderButton: React.FC<{ title: string, className: string }> = ({ title, className, children, ...props }) => {\r\n    return (\r\n        <li {...props} title={title} className={className}>\r\n            {children}\r\n        </li>\r\n    )\r\n};\r\n\r\nexport default HeaderButton;\r\n","import React from \"react\";\r\nimport { ApplicationItemProps } from \"../../../types/internal\";\r\n\r\nconst ApplicationItem: React.FC<ApplicationItemProps> = ({ appName, onClick }) => {\r\n    return (\r\n        <a onClick={(e) => {\r\n            e.preventDefault();\r\n            if (typeof onClick === \"function\") {\r\n                return onClick(e);\r\n            }\r\n        }} className=\"list-group-item list-group-item-action px-3\">\r\n            {appName}\r\n        </a>\r\n    )\r\n};\r\n\r\nexport default ApplicationItem;","import React, { useEffect } from \"react\";\r\nimport { ApplicationListProps } from \"../../../types/internal\";\r\nimport ApplicationItem from \"./ApplicationItem\";\r\n\r\nconst ApplicationsList: React.FC<ApplicationListProps> = ({ glue, inLane, parent, hidePopup, searchTerm, updatePopupHeight, filterApps }) => {\r\n    const hasFlag = (app: any) => app?.userProperties?.includeInWorkspaces ?? app?.userProperties?.includeInCanvas;\r\n    const isFromSupportedType = (a: any) => !a.type || (a.type !== \"activity\" &&\r\n        a.type !== \"canvas\" &&\r\n        a.type !== \"workspaces\" &&\r\n        a.type !== \"node\");\r\n\r\n    const defaultFilter = (a: any) => !a.isActivity &&\r\n        !a.isShell &&\r\n        isFromSupportedType(a) && hasFlag(a);\r\n\r\n    const filter = filterApps || defaultFilter;\r\n\r\n    const workspacesFriendlyApps: any[] = glue.appManager.applications().filter(filter);\r\n\r\n    const getElementOnClick = (appName: string) => {\r\n        return async () => {\r\n            let workspaceWindow: any;\r\n            let unsub: any;\r\n\r\n            const callback = (w: any) => {\r\n                if (!workspaceWindow) {\r\n                    unsub();\r\n                } else if (workspaceWindow.id === w.id) {\r\n                    w.focus();\r\n                    unsub();\r\n                }\r\n            }\r\n            if (!parent.type) {\r\n                unsub = await parent.onWindowLoaded(callback);\r\n            } else {\r\n                unsub = await parent.workspace.onWindowLoaded(callback);\r\n            }\r\n\r\n            try {\r\n                if (parent.type === \"group\" && inLane) {\r\n                    const newGroup = await parent.parent.addGroup({ type: \"group\", children: [{ type: \"window\", appName }] });\r\n                    workspaceWindow = newGroup.children[0];\r\n                } else if (parent.type !== \"group\" && !inLane) {\r\n                    const newGroup = await parent.addGroup({ type: \"group\", children: [{ type: \"window\", appName }] });\r\n                    workspaceWindow = newGroup.children[0];\r\n                } else {\r\n                    workspaceWindow = await parent.addWindow({ type: \"window\", appName });\r\n                }  \r\n            } catch (error) {\r\n                console.warn(error);\r\n            }\r\n\r\n            hidePopup();\r\n        };\r\n    }\r\n\r\n    useEffect(() => {\r\n        updatePopupHeight();\r\n    }, []);\r\n\r\n    return (\r\n        <nav id=\"applicationsList\" className=\"nav list-group\">\r\n            {workspacesFriendlyApps\r\n                .filter((a) => (a.title || a.name).toLowerCase().indexOf(searchTerm.toLowerCase()) !== -1)\r\n                .map((app: any, i) => {\r\n                    return <ApplicationItem\r\n                        key={i}\r\n                        onClick={() => { getElementOnClick(app.name)() }}\r\n                        appName={app.title || app.name} />\r\n                })}\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default ApplicationsList;","import React, { useEffect } from \"react\";\r\nimport { ContainerSwitchProps } from \"../../../types/internal\";\r\n\r\nconst ContainerSwitch: React.FC<ContainerSwitchProps> = ({ inLane, setInLane, parent }) => {\r\n    let wordInLabel = \"\";\r\n    if (!parent.type) {\r\n        wordInLabel = `workspace`;\r\n    } else if (parent.type === \"group\" && !parent.children.length) {\r\n        wordInLabel = \"\";\r\n    } else if (parent.type === \"group\") {\r\n        wordInLabel = `${parent.parent.type || \"\"}`;\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!wordInLabel || wordInLabel === \"workspace\") {\r\n            setInLane(false);\r\n        }\r\n    }, [wordInLabel])\r\n\r\n    if (!wordInLabel || wordInLabel === \"workspace\") {\r\n        return null;\r\n    }\r\n\r\n    const labelToPut = `This ${wordInLabel[0].toUpperCase() + wordInLabel.substring(1)}`;\r\n\r\n    return (\r\n        <div className=\"form-group\">\r\n            <label htmlFor=\"Application placement\">Application Placement</label>\r\n            <div className=\"btn-group d-flex mb-2\" role=\"group\" aria-label=\"Application placement\">\r\n                <button\r\n                    onClick={() => setInLane(true)}\r\n                    type=\"button\"\r\n                    id=\"laneButton\"\r\n                    className={`btn btn-outline-primary w-100 ${inLane ? \"active\" : \"\"}`}>\r\n                    {labelToPut}\r\n                </button>\r\n                <button\r\n                    onClick={() => setInLane(false)}\r\n                    type=\"button\"\r\n                    id=\"tabGroupButton\"\r\n                    className={`btn btn-outline-primary w-100 ${!inLane ? \"active\" : \"\"}`}>\r\n                    This Tab Group\r\n            </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ContainerSwitch;","import { GlueContext } from \"@glue42/react-hooks\";\r\nimport React, { useContext } from \"react\"\r\n\r\nconst withGlueInstance = <T extends { glue?: any }>(WrappedComponent: React.ComponentType<T>) => {\r\n    return (props: T) => {\r\n        const glue = props.glue || (window as any).glue || useContext(GlueContext);\r\n        if (!glue) {\r\n            throw new Error(\"An instance of Glue is not provided\");\r\n        }\r\n        return (\r\n            <WrappedComponent {...Object.assign({}, props, { glue })} />\r\n        )\r\n    }\r\n}\r\n\r\nexport default withGlueInstance;","import React, { useEffect, useState } from \"react\";\r\nimport { AddApplicationPopupProps } from \"../../../types/internal\";\r\nimport ApplicationsList from \"./ApplicationsList\";\r\nimport ContainerSwitch from \"./ContainerSwitch\";\r\nimport withGlueInstance from \"../../../withGlueInstance\";\r\n\r\ndeclare const window: Window & { glue?: any };\r\n\r\nconst AddApplicationPopup: React.FC<AddApplicationPopupProps> = ({ workspaceId, boxId, hidePopup, resizePopup, glue, frameId, filterApps, ...props }) => {\r\n    const [inLane, setInLane] = useState(false);\r\n    const [parent, setParent] = useState(undefined);\r\n    const [searchTerm, setSearchTerm] = useState(\"\");\r\n    const containerRef = React.createRef<HTMLDivElement>();\r\n\r\n    useEffect(() => {\r\n        let shouldUpdate = true;\r\n        glue.workspaces.getAllWorkspaces().then((allWorkspaces: any) => {\r\n            const myWorkspace = allWorkspaces.find((w: any) => w.id === workspaceId);\r\n            const parent = myWorkspace.getBox((p: any) => p.id === boxId) || myWorkspace;\r\n\r\n            if (!shouldUpdate) {\r\n                return;\r\n            }\r\n            setParent(parent);\r\n        });\r\n\r\n        return () => {\r\n            shouldUpdate = false;\r\n        }\r\n    }, [boxId, workspaceId]);\r\n\r\n    const refreshPopupHeight = () => {\r\n        const containerHeight = containerRef.current?.getBoundingClientRect().height;\r\n        resizePopup({\r\n            width: 300,\r\n            height: containerHeight\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        refreshPopupHeight();\r\n    }, [searchTerm, parent]);\r\n\r\n    return (\r\n        <div {...props} ref={containerRef} className=\"container-fluid add-application\">\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h5 className=\"border-bottom border-secondary pb-1 my-3\">Add Application</h5>\r\n                </div>\r\n            </div>\r\n            <div id=\"applicationPlacementSection\" className=\"row\">\r\n                <div className=\"col\">\r\n                    {parent && <ContainerSwitch\r\n                        inLane={inLane}\r\n                        setInLane={setInLane}\r\n                        parent={parent} />}\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <div className=\"input-group position-relative mb-2\">\r\n                        <input type=\"text\" id=\"appSearch\" className=\"form-control pr-4\" placeholder=\"Search аpplication\"\r\n                            value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)} aria-label=\"Search аpplication\" aria-describedby=\"\" />\r\n                        <div className=\"icon-search\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <div className=\"applications mb-2\">\r\n                        <ApplicationsList\r\n                            glue={glue}\r\n                            hidePopup={hidePopup}\r\n                            inLane={inLane}\r\n                            parent={parent}\r\n                            searchTerm={searchTerm}\r\n                            filterApps={filterApps}\r\n                            updatePopupHeight={() => { refreshPopupHeight() }}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withGlueInstance(AddApplicationPopup);","import React from \"react\";\r\nimport { getFeedbackErrorMessage } from \"./helpers\";\r\n\r\nconst Feedback: React.FC<{ errMessage: string }> = ({ errMessage }) => {\r\n    const message = getFeedbackErrorMessage(errMessage);\r\n    return (\r\n        <div className=\"row\">\r\n            <div className=\"col\">\r\n                <div id=\"feedbackContainer\" className=\"d-flex flex-row pb-2\">\r\n                    <div className=\"invalid-feedback mt-0 d-block\">\r\n                        {message || \"Something went wrong.\"}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Feedback;","export const getFeedbackErrorMessage = (message: string) => {\r\n    const innerMessageRegex = /Inner message:\\s+(.+)/gm;\r\n    const regexResult = innerMessageRegex.exec(message);\r\n    const innerMessage = (regexResult && regexResult[1]) || message;\r\n\r\n    return innerMessage;\r\n}","import React from \"react\";\r\nimport { WorkspaceLayoutItemProps } from \"../../../types/internal\";\r\n\r\nconst WorkspaceLayoutItem: React.FC<WorkspaceLayoutItemProps> = ({ name, onClick, onCloseClick }) => {\r\n    return (\r\n        <a onClick={(e) => {\r\n            e.preventDefault();\r\n            if (typeof onClick === \"function\") {\r\n                return onClick(e);\r\n            }\r\n        }} className=\"list-group-item list-group-item-action ry-2\">\r\n            <div className=\"align-items-center workspace d-flex flex-row\">\r\n                <div className=\"workspace__icon mr-2\"></div>\r\n                <div className=\"workspace__description\">\r\n                    <h5 className=\"mb-0 text-truncate\">{name}</h5>\r\n                </div>\r\n                <div onClick={onCloseClick} className=\"close-icon ml-auto\"></div>\r\n            </div>\r\n        </a>\r\n    );\r\n}\r\n\r\n\r\nexport default WorkspaceLayoutItem;","import React, { useEffect, useState } from \"react\";\r\nimport { WorkspaceLayoutsListProps } from \"../../../types/internal\";\r\nimport WorkspaceLayoutItem from \"./WorkspaceLayoutItem\";\r\n\r\nconst WorkspaceLayoutsList: React.FC<WorkspaceLayoutsListProps> = ({ glue, frameId, showFeedback, hidePopup, resizePopup }) => {\r\n    const [layoutSummaries, setLayoutSummaries] = useState([] as any[]);\r\n\r\n    const getSummaries = () => {\r\n        return glue.workspaces.layouts.getSummaries();\r\n    };\r\n\r\n    useEffect(() => {\r\n        let shouldUpdate = true;\r\n        getSummaries().then((s: any) => {\r\n            if (!shouldUpdate) {\r\n                return;\r\n            }\r\n            setLayoutSummaries(s);\r\n        });\r\n        return () => {\r\n            shouldUpdate = false;\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        resizePopup();\r\n    }, [layoutSummaries]);\r\n\r\n    const getOnClickCallback = (layoutName: string) => {\r\n        return () => {\r\n            glue.workspaces.restoreWorkspace(layoutName, { frameId, title: layoutName }).catch((e: Error) => {\r\n                showFeedback(e.message);\r\n            }).finally(() => {\r\n                hidePopup();\r\n            });\r\n        };\r\n    };\r\n\r\n    const getOnCloseClickCallback = (layoutName: string) => {\r\n        return () => {\r\n            glue.workspaces.layouts.delete(layoutName).catch((e: Error) => {\r\n                showFeedback(e.message);\r\n            }).then(() => {\r\n                getSummaries().then((s: any) => { setLayoutSummaries(s); });\r\n            });\r\n        };\r\n    }\r\n\r\n    return (\r\n        <nav id=\"workspacesList\" className=\"nav flex-column\">\r\n            {layoutSummaries.map((summary, i) => {\r\n                return <WorkspaceLayoutItem\r\n                    key={i}\r\n                    name={summary.name}\r\n                    onClick={() => getOnClickCallback(summary.name)()}\r\n                    onCloseClick={(e) => { e.stopPropagation(); getOnCloseClickCallback(summary.name)(); }}\r\n                />\r\n            })}\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default WorkspaceLayoutsList;","import React, { useEffect, useState } from \"react\";\r\nimport { AddWorkspacePopupProps } from \"../../../types/internal\";\r\nimport Feedback from \"../Feedback\";\r\nimport WorkspaceLayoutsList from \"./WorkspaceLayoutsList\";\r\nimport withGlueInstance from \"../../../withGlueInstance\";\r\n\r\nconst AddWorkspacePopup: React.FC<AddWorkspacePopupProps> = ({ frameId, hidePopup, resizePopup, glue, ...props }) => {\r\n    const [feedbackText, setFeedbackText] = useState<string | undefined>(undefined);\r\n    const containerRef = React.createRef<HTMLDivElement>();\r\n\r\n    const resizePopupWithContainerHeight = () => {\r\n        const containerHeight = containerRef.current?.getBoundingClientRect().height;\r\n        resizePopup({\r\n            width: 300,\r\n            height: containerHeight\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        resizePopupWithContainerHeight();\r\n    }, [feedbackText]);\r\n    const onCreateNewClicked = () => {\r\n        glue.workspaces.createWorkspace({\r\n            children: [],\r\n            frame: {\r\n                reuseFrameId: frameId\r\n            }\r\n        });\r\n        hidePopup();\r\n    }\r\n\r\n    return (\r\n        <div {...props} ref={containerRef} className=\"container-fluid add-workspace\">\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h5 className=\"border-bottom border-secondary pb-1 my-3\">Add Workspace</h5>\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h5 onClick={onCreateNewClicked} itemType=\"h5\" id=\"createNewButton\" className=\"btn btn-primary mb-3 w-100\">Create New</h5>\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h3>Load Workspace</h3>\r\n                    <div className=\"workspaces mb-2\">\r\n                        <WorkspaceLayoutsList\r\n                            frameId={frameId}\r\n                            glue={glue}\r\n                            showFeedback={setFeedbackText}\r\n                            hidePopup={hidePopup}\r\n                            resizePopup={resizePopupWithContainerHeight}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {feedbackText && <Feedback errMessage={feedbackText} />}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default withGlueInstance(AddWorkspacePopup);","import React, { useEffect } from \"react\";\r\nimport { SaveContextCheckboxProps } from \"../../../types/internal\";\r\n\r\nconst SaveContextCheckbox: React.FC<SaveContextCheckboxProps> = ({ changeChecked, refreshHeight }) => {\r\n    const inputRef = React.createRef<HTMLInputElement>();\r\n\r\n    useEffect(() => {\r\n        refreshHeight();\r\n    }, []);\r\n\r\n    const onInputChanged = () => {\r\n        if (!inputRef?.current) {\r\n            return;\r\n        }\r\n\r\n        changeChecked(inputRef.current.checked);\r\n    }\r\n\r\n    return (\r\n        <div className=\"form-check\">\r\n            <input onChange={onInputChanged} ref={inputRef} className=\"form-check-input\" type=\"checkbox\" value=\"\" id=\"saveContextCheckbox\" />\r\n            <label className=\"form-check-label\" htmlFor=\"saveContextCheckbox\">Save context</label>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default SaveContextCheckbox;","import React, { useEffect, useState } from \"react\";\r\nimport { SaveWorkspaceButtonProps } from \"../../../types/internal\";\r\n\r\nconst SaveWorkspaceButton: React.FC<SaveWorkspaceButtonProps> = ({ workspaceId,\r\n    inputValue,\r\n    clearInput,\r\n    showFeedback,\r\n    shouldSaveContext,\r\n    hideFeedback,\r\n    glue,\r\n    hidePopup,\r\n    buildMode }) => {\r\n    const [shouldSave, setShouldSave] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (!shouldSave) {\r\n            return;\r\n        }\r\n        let shouldUpdate = true;\r\n        let workspace: any;\r\n        const workspaceName = inputValue;\r\n        glue.workspaces.getAllWorkspaces().then((allWorkspaces: any) => {\r\n            workspace = allWorkspaces.find((w: any) => w.id === workspaceId);\r\n\r\n            return glue.workspaces.layouts.save({\r\n                name: workspaceName,\r\n                workspaceId: workspace.id,\r\n                saveContext: shouldSaveContext\r\n            });\r\n        }).then(() => {\r\n            return workspace.setTitle(workspaceName);\r\n        }).catch((error: Error) => {\r\n            if (shouldUpdate) {\r\n                showFeedback(error.message)\r\n            }\r\n        }).finally(() => {\r\n            if (shouldUpdate) {\r\n                clearInput();\r\n                setShouldSave(false);\r\n                hidePopup();\r\n            }\r\n        });\r\n\r\n        return () => {\r\n            shouldUpdate = false;\r\n        }\r\n    }, [shouldSave]);\r\n\r\n    const exportJson = (layout: object, name: string) => {\r\n        const downloadElement = document.createElement(\"a\");\r\n        const data = \"text/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(layout));\r\n\r\n        document.body.append(downloadElement);\r\n        downloadElement.setAttribute(\"href\", \"data:\" + data);\r\n        downloadElement.setAttribute(\"download\", `${name}.txt`);\r\n        downloadElement.click();\r\n        downloadElement.remove();\r\n    }\r\n\r\n    const generateLayout = async (name: string, workspaceId: string) => {\r\n        const instance = glue.agm.instance;\r\n        const payload = { operation: \"generateLayout\", operationArguments: { name, workspaceId } };\r\n\r\n        return (await glue.agm.invoke(\"T42.Workspaces.Control\", payload, instance || \"best\")).returned;\r\n    }\r\n\r\n    const onClick = () => {\r\n        const workspaceName = inputValue;\r\n\r\n        if (workspaceId && !buildMode) {\r\n            hideFeedback();\r\n            if (!workspaceName) {\r\n                showFeedback(\"Please provide a valid name\");\r\n                return;\r\n            }\r\n\r\n            if (shouldSave) {\r\n                return;\r\n            }\r\n\r\n            setShouldSave(true);\r\n        } else if (workspaceId) {\r\n            generateLayout(workspaceName, workspaceId).then((layout) => {\r\n                exportJson(layout, workspaceName);\r\n            }).catch((err) => {\r\n                showFeedback(err.message);\r\n            });\r\n        }\r\n    }\r\n\r\n    return (<button onClick={onClick} id=\"saveButton\" type=\"button\" className=\"btn btn-primary\">\r\n        {buildMode ? \"Download\" : \"Save\"}\r\n    </button>);\r\n};\r\n\r\nexport default SaveWorkspaceButton;","import React, {\r\n    useContext,\r\n    useEffect,\r\n    useLayoutEffect,\r\n    useState\r\n} from \"react\";\r\nimport { SaveWorkspacePopupProps } from \"../../../types/internal\";\r\nimport Feedback from \"../Feedback\";\r\nimport SaveContextCheckbox from \"./SaveContextCheckbox\";\r\nimport SaveWorkspaceButton from \"./SaveWorkspaceButton\";\r\nimport withGlueInstance from \"../../../withGlueInstance\";\r\n\r\nconst SaveWorkspacePopup: React.FC<SaveWorkspacePopupProps> = ({ workspaceId, resizePopup, hidePopup, buildMode, glue, ...props }) => {\r\n    const inputRef = React.createRef<HTMLInputElement>();\r\n    const containerRef = React.createRef<HTMLDivElement>();\r\n\r\n    const [shouldSaveContext, setShouldSaveContext] = useState(false);\r\n    const [feedbackMessage, setFeedbackMessage] = useState(\"\");\r\n    const [workspaceName, setWorkspaceName] = useState(\"\");\r\n\r\n    const refreshHeight = () => {\r\n        if (!containerRef?.current) {\r\n            return;\r\n        }\r\n\r\n        const bounds = containerRef.current.getBoundingClientRect();\r\n        resizePopup({\r\n            height: bounds.height,\r\n            width: 300\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        refreshHeight();\r\n    }, [feedbackMessage, workspaceId]);\r\n\r\n    useEffect(() => {\r\n        let shouldUpdate = true;\r\n        \r\n        glue.workspaces.getAllWorkspaces().then((allWorkspaces: any[]) => {\r\n            const myWorkspace = allWorkspaces.find((w) => w.id === workspaceId);\r\n            if (shouldUpdate) {\r\n                setWorkspaceName(myWorkspace.layoutName || \"\");\r\n            }\r\n        });\r\n\r\n        return () => {\r\n            shouldUpdate = false;\r\n        }\r\n    }, [workspaceId]);\r\n\r\n    const clearInput = () => {\r\n        setWorkspaceName(\"\");\r\n    }\r\n\r\n    return (\r\n        <div {...props} onClick={(e) => e.stopPropagation()} ref={containerRef} className=\"container-fluid save-workspace\">\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h5 className=\"border-bottom border-secondary pb-1 my-3\">Save Workspace</h5>\r\n                </div>\r\n            </div>\r\n            <div className=\"row mb-2\">\r\n                <div className=\"col\">\r\n                    <input ref={inputRef}\r\n                        value={workspaceName}\r\n                        onChange={(e) => setWorkspaceName(e.target.value)}\r\n                        onClick={(e) => setFeedbackMessage(\"\")}\r\n                        className=\"form-control mr-1\"\r\n                        type=\"text\"\r\n                        placeholder=\"Workspace name\"\r\n                        id=\"js-workspace-name\" />\r\n                </div>\r\n            </div>\r\n            <div className=\"row  align-items-center pb-2\">\r\n                <div className=\"col\">\r\n                    {!buildMode &&\r\n                        <SaveContextCheckbox\r\n                            changeChecked={(v) => setShouldSaveContext(v)}\r\n                            refreshHeight={refreshHeight}\r\n                        />}\r\n                </div>\r\n\r\n                <div className=\"col  text-right\">\r\n                    <SaveWorkspaceButton\r\n                        clearInput={clearInput}\r\n                        inputValue={workspaceName}\r\n                        workspaceId={workspaceId}\r\n                        shouldSaveContext={shouldSaveContext}\r\n                        showFeedback={setFeedbackMessage}\r\n                        hideFeedback={() => setFeedbackMessage(\"\")}\r\n                        hidePopup={hidePopup}\r\n                        buildMode={buildMode}\r\n                        glue={glue}\r\n                    />\r\n                </div>\r\n            </div>\r\n            {feedbackMessage && <Feedback errMessage={feedbackMessage} />}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default withGlueInstance(SaveWorkspacePopup);","/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\nfunction t(t,e,n,o){return new(n||(n=Promise))((function(i,s){function r(t){try{l(o.next(t))}catch(t){s(t)}}function a(t){try{l(o.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,a)}l((o=o.apply(t,e||[])).next())}))}var e=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{};function n(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error(\"Dynamic requires are not currently supported by @rollup/plugin-commonjs\")}(null==e&&n.path)}},n.exports),n.exports}var o=n((function(t,e){!function(e){var n={config:{},container:{},controls:{},errors:{},items:{},utils:{}};n.utils.F=function(){},n.utils.extend=function(t,e){t.prototype=n.utils.createObject(e.prototype),t.prototype.contructor=t},n.utils.createObject=function(t){return\"function\"==typeof Object.create?Object.create(t):(n.utils.F.prototype=t,new n.utils.F)},n.utils.objectKeys=function(t){var e,n;if(\"function\"==typeof Object.keys)return Object.keys(t);for(n in e=[],t)e.push(n);return e},n.utils.getHashValue=function(t){var e=location.hash.match(new RegExp(t+\"=([^&]*)\"));return e?e[1]:null},n.utils.getQueryStringParam=function(t){if(window.location.hash)return n.utils.getHashValue(t);if(!window.location.search)return null;var e,o,i=window.location.search.substr(1).split(\"&\"),s={};for(o=0;o<i.length;o++)s[(e=i[o].split(\"=\"))[0]]=e[1];return s[t]||null},n.utils.copy=function(t,e){for(var n in e)t[n]=e[n];return t},n.utils.animFrame=function(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)})((function(){t()}))},n.utils.indexOf=function(t,e){if(!(e instanceof Array))throw new Error(\"Haystack is not an Array\");if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},\"function\"!=typeof/./&&\"object\"!=typeof Int8Array?n.utils.isFunction=function(t){return\"function\"==typeof t||!1}:n.utils.isFunction=function(t){return\"[object Function]\"===toString.call(t)},n.utils.fnBind=function(t,e,n){if(void 0!==Function.prototype.bind)return Function.prototype.bind.apply(t,[e].concat(n||[]));var o=function(){var i=(n||[]).concat(Array.prototype.slice.call(arguments,0));if(!(this instanceof o))return t.apply(e,i);t.apply(this,i)};return o.prototype=t.prototype,o},n.utils.removeFromArray=function(t,e){var o=n.utils.indexOf(t,e);if(-1===o)throw new Error(\"Can't remove item from array. Item is not in the array\");e.splice(o,1)},n.utils.now=function(){return\"function\"==typeof Date.now?Date.now():(new Date).getTime()},n.utils.getUniqueId=function(){return(1e15*Math.random()).toString(36).replace(\".\",\"\")},n.utils.filterXss=function(t,e){var n=t.replace(/javascript/gi,\"j&#97;vascript\").replace(/expression/gi,\"expr&#101;ssion\").replace(/onload/gi,\"onlo&#97;d\").replace(/script/gi,\"&#115;cript\").replace(/onerror/gi,\"on&#101;rror\");return!0===e?n:n.replace(/>/g,\"&gt;\").replace(/</g,\"&lt;\")},n.utils.stripTags=function(t){return e.trim(t.replace(/(<([^>]+)>)/gi,\"\"))},n.utils.EventEmitter=function(){this._mSubscriptions={},this._mSubscriptions[n.utils.EventEmitter.ALL_EVENT]=[],this.on=function(t,e,o){if(!n.utils.isFunction(e))throw new Error(\"Tried to listen to event \"+t+\" with non-function callback \"+e);this._mSubscriptions[t]||(this._mSubscriptions[t]=[]),this._mSubscriptions[t].push({fn:e,ctx:o})},this.emit=function(t){var e,o,i;i=Array.prototype.slice.call(arguments,1);var s=this._mSubscriptions[t];if(s)for(s=s.slice(),e=0;e<s.length;e++)o=s[e].ctx||{},s[e].fn.apply(o,i);i.unshift(t);var r=this._mSubscriptions[n.utils.EventEmitter.ALL_EVENT].slice();for(e=0;e<r.length;e++)o=r[e].ctx||{},r[e].fn.apply(o,i)},this.unbind=function(t,e,n){if(this._mSubscriptions[t]){var o,i=!1;for(o=0;o<this._mSubscriptions[t].length;o++)e&&this._mSubscriptions[t][o].fn!==e||n&&n!==this._mSubscriptions[t][o].ctx||(this._mSubscriptions[t].splice(o,1),i=!0);if(!1===i)throw new Error(\"Nothing to unbind for \"+t)}},this.off=this.unbind,this.trigger=this.emit},n.utils.EventEmitter.ALL_EVENT=\"__all\",n.utils.DragListener=function(t,o){n.utils.EventEmitter.call(this),this._eElement=e(t),this._oDocument=e(document),this._eBody=e(document.body),this._nButtonCode=o||0,this._nDelay=200,this._nDistance=10,this._nX=0,this._nY=0,this._nOriginalX=0,this._nOriginalY=0,this._bDragging=!1,this._fMove=n.utils.fnBind(this.onMouseMove,this),this._fUp=n.utils.fnBind(this.onMouseUp,this),this._fDown=n.utils.fnBind(this.onMouseDown,this),this._eElement.on(\"mousedown touchstart\",this._fDown)},n.utils.DragListener.timeout=null,n.utils.copy(n.utils.DragListener.prototype,{destroy:function(){this._eElement.unbind(\"mousedown touchstart\",this._fDown),this._oDocument.unbind(\"mouseup touchend\",this._fUp),this._eElement=null,this._oDocument=null,this._eBody=null},onMouseDown:function(t){if(t.preventDefault(),0==t.button||\"touchstart\"===t.type){var e=this._getCoordinates(t);this._nOriginalX=e.x,this._nOriginalY=e.y,this._oDocument.on(\"mousemove touchmove\",this._fMove),this._oDocument.one(\"mouseup touchend\",this._fUp),this._timeout=setTimeout(n.utils.fnBind((function(){this._startDrag(t)}),this),this._nDelay)}},onMouseMove:function(t){if(null!=this._timeout){t.preventDefault();var e=this._getCoordinates(t);this._nX=e.x-this._nOriginalX,this._nY=e.y-this._nOriginalY,!1===this._bDragging&&(Math.abs(this._nX)>this._nDistance||Math.abs(this._nY)>this._nDistance)&&(clearTimeout(this._timeout),this._startDrag(t)),this._bDragging&&this.emit(\"drag\",this._nX,this._nY,t)}},onMouseUp:function(t){null!=this._timeout&&(clearTimeout(this._timeout),this._eBody.removeClass(\"lm_dragging\"),this._eElement.removeClass(\"lm_dragging\"),this._oDocument.find(\"iframe\").css(\"pointer-events\",\"\"),this._oDocument.unbind(\"mousemove touchmove\",this._fMove),this._oDocument.unbind(\"mouseup touchend\",this._fUp),!0===this._bDragging&&(this._bDragging=!1,this.emit(\"dragStop\",t,this._nOriginalX+this._nX)))},_startDrag:function(t){this._bDragging=!0,this._eBody.addClass(\"lm_dragging\"),this._eElement.addClass(\"lm_dragging\"),this._oDocument.find(\"iframe\").css(\"pointer-events\",\"none\"),this.emit(\"dragStart\",this._nOriginalX,this._nOriginalY,t)},_getCoordinates:function(t){return{x:(t=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0]:t).pageX,y:t.pageY}}}),n.LayoutManager=function(t,o,i){if(!e&&window.$&&(e=window.$),!e||\"function\"!=typeof e.noConflict){throw'Please either expose $ on GoldenLayout\\'s scope (e.g. window) or add \"jquery\" to ',\"your paths when using RequireJS/AMD\",new Error('jQuery is missing as dependency for GoldenLayout. Please either expose $ on GoldenLayout\\'s scope (e.g. window) or add \"jquery\" to your paths when using RequireJS/AMD')}n.utils.EventEmitter.call(this),this.isInitialised=!1,this._isFullPage=!1,this._resizeTimeoutId=null,this._components={\"lm-react-component\":n.utils.ReactComponentHandler},this._itemAreas=[],this._resizeFunction=n.utils.fnBind(this._onResize,this),this._unloadFunction=n.utils.fnBind(this._onUnload,this),this._maximizedItem=null,this._maximizePlaceholder=e('<div class=\"lm_maximise_place\"></div>'),this._creationTimeoutPassed=!1,this._subWindowsCreated=!1,this._dragSources=[],this._dragProxies=[],this._updatingColumnsResponsive=!1,this._firstLoad=!0,this._componentFactory=i,this.width=null,this.height=null,this.root=null,this.openPopouts=[],this.selectedItem=null,this.isSubWindow=!1,this.eventHub=new n.utils.EventHub(this),this.config=this._createConfig(t),this.container=o,this.dropTargetIndicator=null,this.transitionIndicator=null,this.tabDropPlaceholder=e('<div class=\"lm_drop_tab_placeholder\"></div>'),!0===this.isSubWindow&&e(\"body\").css(\"visibility\",\"hidden\"),this._typeToItem={column:n.utils.fnBind(n.items.RowOrColumn,this,[!0]),row:n.utils.fnBind(n.items.RowOrColumn,this,[!1]),stack:n.items.Stack,component:n.items.Component}},n.LayoutManager.__lm=n,n.LayoutManager.minifyConfig=function(t){return(new n.utils.ConfigMinifier).minifyConfig(t)},n.LayoutManager.unminifyConfig=function(t){return(new n.utils.ConfigMinifier).unminifyConfig(t)},n.utils.copy(n.LayoutManager.prototype,{registerComponent:function(t,e){if(\"function\"!=typeof e)throw new Error(\"Please register a constructor function\");if(void 0!==this._components[t])throw new Error(\"Component \"+t+\" is already registered\");this._components[t]=e},toConfig:function(t){var e,o,i;if(!1===this.isInitialised)throw new Error(\"Can't create config, layout not yet initialised\");if(t&&!(t instanceof n.items.AbstractContentItem))throw new Error(\"Root must be a ContentItem\");for((e={settings:n.utils.copy({},this.config.settings),dimensions:n.utils.copy({},this.config.dimensions),labels:n.utils.copy({},this.config.labels),context:n.utils.copy({},this.config.context),workspacesOptions:n.utils.copy({},this.config.workspacesOptions)}).content=[],(o=function(t,e){var n,i;for(n in e.config)\"content\"!==n&&(t[n]=e.config[n]);if(e.contentItems.length)for(t.content=[],i=0;i<e.contentItems.length;i++)t.content[i]={},o(t.content[i],e.contentItems[i])})(e,t?{contentItems:[t]}:this.root),this._$reconcilePopoutWindows(),e.openPopouts=[],i=0;i<this.openPopouts.length;i++)e.openPopouts.push(this.openPopouts[i].toConfig());return e.maximizedItemId=this._maximizedItem?\"__glMaximised\":null,e},getComponent:function(t){if(void 0===this._components[t])throw new n.errors.ConfigurationError('Unknown component \"'+t+'\"');return this._components[t]},init:function(){if(!1===this._subWindowsCreated&&(this._createSubWindows(),this._subWindowsCreated=!0),\"loading\"!==document.readyState&&null!==document.body){if(!0===this.isSubWindow&&!1===this._creationTimeoutPassed)return setTimeout(n.utils.fnBind(this.init,this),7),void(this._creationTimeoutPassed=!0);!0===this.isSubWindow&&this._adjustToWindowMode(),this._setContainer(),this.dropTargetIndicator=new n.controls.DropTargetIndicator(this.container),this.transitionIndicator=new n.controls.TransitionIndicator,this.updateSize(),this._create(this.config),this._bindEvents(),this.isInitialised=!0,this._adjustColumnsResponsive(),this.emit(\"initialised\")}else e(document).ready(n.utils.fnBind(this.init,this))},updateSize:function(t,e){2===arguments.length?(this.width=t,this.height=e):(this.width=this.container.width(),this.height=this.container.height()),!0===this.isInitialised&&(this.root.callDownwards(\"setSize\",[this.width,this.height]),this._maximizedItem&&(this._maximizedItem.element.width(this.width),this._maximizedItem.element.height(this.height),this._maximizedItem.callDownwards(\"setSize\")),this._adjustColumnsResponsive())},destroy:function(){!1!==this.isInitialised&&(this._onUnload(),e(window).off(\"resize\",this._resizeFunction),e(window).off(\"unload beforeunload\",this._unloadFunction),this.root.callDownwards(\"_$destroy\",[],!0),this.root.contentItems=[],this.tabDropPlaceholder.remove(),this.dropTargetIndicator.destroy(),this.transitionIndicator.destroy(),this.eventHub.destroy(),this._dragSources.forEach((function(t){\"function\"==typeof t._dragListener.destroy&&t._dragListener.destroy(),t._element=null,t._itemConfig=null,t._dragListener=null})),this._dragSources=[])},createContentItem:function(t,e){var o;if(\"string\"!=typeof t.type)throw new n.errors.ConfigurationError(\"Missing parameter 'type'\",t);if(\"react-component\"===t.type&&(t.type=\"component\",t.componentName=\"lm-react-component\"),!this._typeToItem[t.type])throw o=\"Unknown type '\"+t.type+\"'. Valid types are \"+n.utils.objectKeys(this._typeToItem).join(\",\"),new n.errors.ConfigurationError(o);return\"component\"!==t.type||e instanceof n.items.Stack||!e||!0===this.isSubWindow&&e instanceof n.items.Root||(t={type:\"stack\",width:t.width,height:t.height,content:[t]}),new this._typeToItem[t.type](this,t,e)},createPopout:function(t,e,o,i){var s,r,a,l,c,d,h=t,u=t instanceof n.items.AbstractContentItem,p=this;if(o=o||null,u){for(h=this.toConfig(t).content,o=n.utils.getUniqueId(),l=t.parent,c=t;1===l.contentItems.length&&!l.isRoot;)l=l.parent,c=c.parent;l.addId(o),isNaN(i)&&(i=n.utils.indexOf(c,l.contentItems))}else h instanceof Array||(h=[h]);return!e&&u&&(s=window.screenX||window.screenLeft,r=window.screenY||window.screenTop,e={left:s+(a=t.element.offset()).left,top:r+a.top,width:t.element.width(),height:t.element.height()}),e||u||(e={left:window.screenX||window.screenLeft+20,top:window.screenY||window.screenTop+20,width:500,height:309}),u&&t.remove(),(d=new n.controls.BrowserPopout(h,e,o,i,this)).on(\"initialised\",(function(){p.emit(\"windowOpened\",d)})),d.on(\"closed\",(function(){p._$reconcilePopoutWindows()})),this.openPopouts.push(d),d},createDragSource:function(t,o,i){this.config.settings.constrainDragToContainer=!1;var s=new n.controls.DragSource(e(t),o,this,i);return this._dragSources.push(s),s},selectItem:function(t,e){if(!0!==this.config.settings.selectionEnabled)throw new Error(\"Please set selectionEnabled to true to use this feature\");t!==this.selectedItem&&(null!==this.selectedItem&&this.selectedItem.deselect(),t&&!0!==e&&t.select(),this.selectedItem=t,this.emit(\"selectionChanged\",t))},_$maximiseItem:function(t){null!==this._maximizedItem&&this._$minimizeItem(this._maximizedItem),this._maximizedItem=t,this._maximizedItem.addId(\"__glMaximised\"),t.element.addClass(\"lm_maximised\"),t.element.after(this._maximizePlaceholder),this.root.element.prepend(t.element),t.element.width(this.container.width()),t.element.height(this.container.height()),t.callDownwards(\"setSize\"),this._maximizedItem.emit(\"maximized\"),this.emit(\"stateChanged\")},_$minimiseItem:function(t){t.element.removeClass(\"lm_maximised\"),t.removeId(\"__glMaximised\"),this._maximizePlaceholder.after(t.element),this._maximizePlaceholder.remove(),t.parent.callDownwards(\"setSize\"),this._maximizedItem=null,t.emit(\"minimized\"),this.emit(\"stateChanged\")},_$closeWindow:function(){window.setTimeout((function(){window.close()}),1)},_$getArea:function(t,e){var n,o,i=1/0,s=null;for(n=0;n<this._itemAreas.length;n++)t>(o=this._itemAreas[n]).x1&&t<o.x2&&e>o.y1&&e<o.y2&&i>o.surface&&(i=o.surface,s=o);return s},_$createRootItemAreas:function(){const{allowDrop:t,allowDropLeft:e,allowDropTop:n,allowDropRight:o,allowDropBottom:i}=this.config.workspacesOptions;if(!1!==t||!0===e||!0===n||!0===o||!0===i){var s={y2:0,x2:0,y1:\"y2\",x1:\"x2\"};for(var r in s){var a=this.root._$getArea();a.side=r,a[r]=s[r]?a[s[r]]-50:\"y2\"===r?50+this.root.element.offset().top:50,a.surface=(a.x2-a.x1)*(a.y2-a.y1),this._itemAreas.push(a)}(!1===e||!1===t&&!0!==e)&&(this._itemAreas[1]=void 0),(!1===n||!1===t&&!0!==n)&&(this._itemAreas[0]=void 0),(!1===o||!1===t&&!0!==o)&&(this._itemAreas[3]=void 0),(!1===i||!1===t&&!0!==i)&&(this._itemAreas[2]=void 0),this._itemAreas=this._itemAreas.filter((t=>void 0!==t))}},_$calculateItemAreas:function(){var t,e,o=this._getAllContentItems();if(this._itemAreas=[],1!==o.length){for(this._$createRootItemAreas(),t=0;t<o.length;t++){if(!o[t].isStack)continue;const s=o[t].config.workspacesConfig&&!0===o[t].config.workspacesConfig.allowDrop;if(!1===this.config.workspacesOptions.allowDrop&&!s)return;if((!o[t].config.workspacesConfig||!1!==o[t].config.workspacesConfig.allowDrop)&&null!==(e=o[t]._$getArea()))if(e instanceof Array)this._itemAreas=this._itemAreas.concat(e);else{this._itemAreas.push(e);var i={};n.utils.copy(i,e),n.utils.copy(i,e.contentItem._contentAreaDimensions.header.highlightArea),i.surface=(i.x2-i.x1)*(i.y2-i.y1),this._itemAreas.push(i)}}\"workspace\"===this.config.settings.mode&&(this._itemAreas=[this._itemAreas[this._itemAreas.length-1]])}else this._itemAreas.push(this.root._$getArea())},_$normalizeContentItem:function(t,o){if(!t)throw new Error(\"No content item defined\");if(n.utils.isFunction(t)&&(t=t()),t instanceof n.items.AbstractContentItem)return t;if(e.isPlainObject(t)&&t.type){var i=this.createContentItem(t,o);return i.callDownwards(\"_$init\"),i}throw new Error(\"Invalid contentItem\")},_$reconcilePopoutWindows:function(){var t,e=[];for(t=0;t<this.openPopouts.length;t++)!1===this.openPopouts[t].getWindow().closed?e.push(this.openPopouts[t]):this.emit(\"windowClosed\",this.openPopouts[t]);this.openPopouts.length!==e.length&&(this.emit(\"stateChanged\"),this.openPopouts=e)},_getAllContentItems:function(){var t=[],e=function(n){if(t.push(n),n.contentItems instanceof Array)for(var o=0;o<n.contentItems.length;o++)e(n.contentItems[o])};return e(this.root),t},_bindEvents:function(){this._isFullPage&&e(window).resize(this._resizeFunction),e(window).on(\"unload beforeunload\",this._unloadFunction)},_onResize:function(){clearTimeout(this._resizeTimeoutId),this._resizeTimeoutId=setTimeout(n.utils.fnBind(this.updateSize,this),100)},_createConfig:function(t){var o=n.utils.getQueryStringParam(\"gl-window\");o&&(this.isSubWindow=!0,t=localStorage.getItem(o),t=JSON.parse(t),t=(new n.utils.ConfigMinifier).unminifyConfig(t),localStorage.removeItem(o)),t=e.extend(!0,{},n.config.defaultConfig,t);var i=function(t){for(var e in t)\"props\"!==e&&\"object\"==typeof t[e]?i(t[e]):\"type\"===e&&\"react-component\"===t[e]&&(t.type=\"component\",t.componentName=\"lm-react-component\")};return i(t),!1===t.settings.hasHeaders&&(t.dimensions.headerHeight=0),t},_adjustToWindowMode:function(){var t=e('<div class=\"lm_popin\" title=\"'+this.config.labels.popin+'\"><div class=\"lm_icon\"></div><div class=\"lm_bg\"></div></div>');t.click(n.utils.fnBind((function(){this.emit(\"popIn\")}),this)),document.title=n.utils.stripTags(this.config.content[0].title),e(\"head\").append(e(\"body link, body style, template, .gl_keep\")),this.container=e(\"body\").html(\"\").css(\"visibility\",\"visible\").append(t);document.body.offsetHeight;window.__glInstance=this},_createSubWindows:function(){var t,e;for(t=0;t<this.config.openPopouts.length;t++)e=this.config.openPopouts[t],this.createPopout(e.content,e.dimensions,e.parentId,e.indexInParent)},_setContainer:function(){var t=e(this.container||\"body\");if(0===t.length)throw new Error(\"GoldenLayout container not found\");if(t.length>1)throw new Error(\"GoldenLayout more than one container element specified\");t[0]===document.body&&(this._isFullPage=!0,e(\"html, body\").css({height:\"100%\",margin:0,padding:0,overflow:\"hidden\"})),this.container=t},_create:function(t){var e;if(!(t.content instanceof Array))throw e=void 0===t.content?\"Missing setting 'content' on top level of configuration\":\"Configuration parameter 'content' must be an array\",new n.errors.ConfigurationError(e,t);if(t.content.length>1)throw e=\"Top level content can't contain more then one element.\",new n.errors.ConfigurationError(e,t);this.root=new n.items.Root(this,{content:t.content},this.container),this.root.callDownwards(\"_$init\"),\"__glMaximised\"===t.maximizedItemId&&this.root.getItemsById(t.maximizedItemId)[0].toggleMaximise()},_onUnload:function(){if(!0===this.config.settings.closePopoutsOnUnload)for(var t=0;t<this.openPopouts.length;t++)this.openPopouts[t].close()},_adjustColumnsResponsive:function(){if(this._useResponsiveLayout()&&!this._updatingColumnsResponsive&&this.config.dimensions&&this.config.dimensions.minItemWidth&&0!==this.root.contentItems.length&&this.root.contentItems[0].isRow){this._firstLoad=!1;var t=this.root.contentItems[0].contentItems.length;if(!(t<=1)){var e=this.config.dimensions.minItemWidth;if(!(t*e<=this.width)&&this.container.is(\":visible\")){this._updatingColumnsResponsive=!0;for(var n=t-Math.max(Math.floor(this.width/e),1),o=this.root.contentItems[0],i=this._findAllStackContainers()[0],s=0;s<n;s++){var r=o.contentItems[o.contentItems.length-1];this._addChildContentItemsToContainer(i,r)}this._updatingColumnsResponsive=!1}}}else this._firstLoad=!1},_useResponsiveLayout:function(){return this.config.settings&&(\"always\"==this.config.settings.responsiveMode||\"onload\"==this.config.settings.responsiveMode&&this._firstLoad)},_addChildContentItemsToContainer:function(t,e){\"stack\"===e.type?e.contentItems.forEach((function(n){t.addChild(n),e.removeChild(n,!0)})):e.contentItems.forEach(n.utils.fnBind((function(e){this._addChildContentItemsToContainer(t,e)}),this))},_findAllStackContainers:function(){var t=[];return this._findAllStackContainersRecursive(t,this.root),t},_findAllStackContainersRecursive:function(t,e){e.contentItems.forEach(n.utils.fnBind((function(e){\"stack\"==e.type?t.push(e):e.isComponent||this._findAllStackContainersRecursive(t,e)}),this))}}),n.LayoutManager.default=n.LayoutManager,t.exports=n.LayoutManager,window.GoldenLayout=n.LayoutManager,n.config.defaultConfig={openPopouts:[],settings:{hasHeaders:!0,constrainDragToContainer:!0,reorderEnabled:!0,selectionEnabled:!1,popoutWholeStack:!1,blockedPopoutsThrowError:!0,closePopoutsOnUnload:!0,showMinimizeIcon:!1,showPopoutIcon:!0,showMaximizeIcon:!0,showCloseIcon:!0,responsiveMode:\"always\",tabOverlapAllowance:0,reorderOnTabMenuClick:!0,tabControlOffset:10,mode:\"default\"},dimensions:{borderWidth:5,borderGrabWidth:15,minItemHeight:10,minItemWidth:10,headerHeight:20,dragProxyWidth:500,dragProxyHeight:500},labels:{close:\"close\",maximize:\"maximize\",restore:\"restore\",minimize:\"minimize\",popout:\"eject\",popin:\"pop in\",tabDropdown:\"additional tabs\"},workspacesOptions:{}},n.config.itemDefaultConfig={isClosable:!0,reorderEnabled:!0,title:\"\",workspacesConfig:{}},n.container.ItemContainer=function(t,o,i){n.utils.EventEmitter.call(this),this.width=null,this.height=null,this.title=t.componentName,this.parent=o,this.layoutManager=i,this.isHidden=!1,this._config=t,this._element=e(['<div class=\"lm_item_container\">','<div class=\"lm_content\"></div>',\"</div>\"].join(\"\")),this._contentElement=this._element.find(\".lm_content\")},n.utils.copy(n.container.ItemContainer.prototype,{getElement:function(){return this._contentElement},hide:function(){this.emit(\"hide\"),this.isHidden=!0,this._element.hide()},show:function(){this.emit(\"show\"),this.isHidden=!1,this._element.show(),0==this.height&&0==this.width||this.emit(\"shown\")},setSize:function(t,e){for(var n,o,i,s,r=this.parent,a=this;!r.isColumn&&!r.isRow;)if(a=r,(r=r.parent).isRoot)return!1;for(n=(\"height\"===(o=r.isColumn?\"height\":\"width\")?e:t)/(this[o]*(1/(a.config[o]/100)))*100,i=(a.config[o]-n)/(r.contentItems.length-1),s=0;s<r.contentItems.length;s++)r.contentItems[s]===a?r.contentItems[s].config[o]=n:r.contentItems[s].config[o]+=i;return r.callDownwards(\"setSize\"),!0},close:function(){this._config.isClosable&&(this.emit(\"close\"),this.parent.close())},getState:function(){return this._config.componentState},extendState:function(t){this.setState(e.extend(!0,this.getState(),t))},setState:function(t){this._config.componentState=t,this.parent.emitBubblingEvent(\"stateChanged\")},setTitle:function(t){this.parent.setTitle(t)},_$setSize:function(t,e){if(t!==this.width||e!==this.height){this.width=t,this.height=e;var n=this._contentElement[0],o=n.offsetWidth-n.clientWidth,i=n.offsetHeight-n.clientHeight;this._contentElement.width(this.width-o).height(this.height-i),this.emit(\"resize\")}}}),n.controls.BrowserPopout=function(t,e,o,i,s){n.utils.EventEmitter.call(this),this.isInitialised=!1,this._config=t,this._dimensions=e,this._parentId=o,this._indexInParent=i,this._layoutManager=s,this._popoutWindow=null,this._id=null,this._createWindow()},n.utils.copy(n.controls.BrowserPopout.prototype,{toConfig:function(){if(!1===this.isInitialised)throw new Error(\"Can't create config, layout not yet initialised\");return{dimensions:{width:this.getGlInstance().width,height:this.getGlInstance().height,left:this._popoutWindow.screenX||this._popoutWindow.screenLeft,top:this._popoutWindow.screenY||this._popoutWindow.screenTop},content:this.getGlInstance().toConfig().content,parentId:this._parentId,indexInParent:this._indexInParent}},getGlInstance:function(){return this._popoutWindow.__glInstance},getWindow:function(){return this._popoutWindow},close:function(){if(this.getGlInstance())this.getGlInstance()._$closeWindow();else try{this.getWindow().close()}catch(t){}},popIn:function(){var t,n;this._indexInParent;this._parentId&&(t=e.extend(!0,{},this.getGlInstance().toConfig()).content[0],(n=this._layoutManager.root.getItemsById(this._parentId)[0])||(n=this._layoutManager.root.contentItems.length>0?this._layoutManager.root.contentItems[0]:this._layoutManager.root)),n.addChild(t,this._indexInParent),this.close()},_createWindow:function(){var t,o=this._createUrl(),i=Math.floor(1e6*Math.random()).toString(36),s=this._serializeWindowOptions({width:this._dimensions.width,height:this._dimensions.height,innerWidth:this._dimensions.width,innerHeight:this._dimensions.height,menubar:\"no\",toolbar:\"no\",location:\"no\",personalbar:\"no\",resizable:\"yes\",scrollbars:\"no\",status:\"no\"});if(this._popoutWindow=window.open(o,i,s),this._popoutWindow)e(this._popoutWindow).on(\"load\",n.utils.fnBind(this._positionWindow,this)).on(\"unload beforeunload\",n.utils.fnBind(this._onClose,this)),t=setInterval(n.utils.fnBind((function(){this._popoutWindow.__glInstance&&this._popoutWindow.__glInstance.isInitialised&&(this._onInitialised(),clearInterval(t))}),this),10);else if(!0===this._layoutManager.config.settings.blockedPopoutsThrowError){var r=new Error(\"Popout blocked\");throw r.type=\"popoutBlocked\",r}},_serializeWindowOptions:function(t){var e,n=[];for(e in t)n.push(e+\"=\"+t[e]);return n.join(\",\")},_createUrl:function(){var t,e={content:this._config},o=\"gl-window-config-\"+n.utils.getUniqueId();e=(new n.utils.ConfigMinifier).minifyConfig(e);try{localStorage.setItem(o,JSON.stringify(e))}catch(t){throw new Error(\"Error while writing to localStorage \"+t.toString())}return 1===(t=document.location.href.split(\"?\")).length?t[0]+\"?gl-window=\"+o:document.location.href+\"&gl-window=\"+o},_positionWindow:function(){this._popoutWindow.moveTo(this._dimensions.left,this._dimensions.top),this._popoutWindow.focus()},_onInitialised:function(){this.isInitialised=!0,this.getGlInstance().on(\"popIn\",this.popIn,this),this.emit(\"initialised\")},_onClose:function(){setTimeout(n.utils.fnBind(this.emit,this,[\"closed\"]),50)}}),n.controls.DragProxy=function(t,o,i,s,r,a){n.utils.EventEmitter.call(this),this._dragListener=i,this._layoutManager=s,this._contentItem=r,this._originalParent=a,this._area=null,this._lastValidArea=null,this._dragListener.on(\"drag\",this._onDrag,this),this._dragListener.on(\"dragStop\",this._onDrop,this),this.element=e(n.controls.DragProxy._template),a&&a._side&&(this._sided=a._sided,this.element.addClass(\"lm_\"+a._side),[\"right\",\"bottom\"].indexOf(a._side)>=0&&this.element.find(\".lm_content\").after(this.element.find(\".lm_header\"))),this.element.css({left:t,top:o}),this.element.find(\".lm_tab\").attr(\"title\",n.utils.stripTags(this._contentItem.config.title)),this.element.find(\".lm_title\").html(this._contentItem.config.title),this.childElementContainer=this.element.find(\".lm_content\"),this.childElementContainer.append(r.element),this._originalParent&&this._originalParent.layoutManager.config&&this._originalParent.layoutManager.config.settings&&this._originalParent.layoutManager.config.settings.disableDragProxy&&this.element.find(\".lm_content\").css(\"display\",\"none\"),this._updateTree(),this._layoutManager._$calculateItemAreas(),this._setDimensions(),e(document.body).append(this.element);var l=this._layoutManager.container.offset();this._minX=l.left,this._minY=l.top,this._maxX=this._layoutManager.container.width()+this._minX,this._maxY=this._layoutManager.container.height()+this._minY,this._width=this._layoutManager.config.dimensions.dragProxyWidth,this._height=this._layoutManager.config.dimensions.dragProxyHeight,this._setDropPosition(t,o)},n.controls.DragProxy._template='<div class=\"lm_dragProxy\"><div class=\"lm_header\"><ul class=\"lm_tabs\"><li class=\"lm_tab lm_active\"><i class=\"lm_left\"></i><span class=\"lm_title\"></span><i class=\"lm_right\"></i></li></ul></div><div class=\"lm_content\"></div></div>',n.utils.copy(n.controls.DragProxy.prototype,{_onDrag:function(t,e,n){var o=(n=n.originalEvent&&n.originalEvent.touches?n.originalEvent.touches[0]:n).pageX,i=n.pageY;(o>this._minX&&o<this._maxX&&i>this._minY&&i<this._maxY||!0!==this._layoutManager.config.settings.constrainDragToContainer)&&this._setDropPosition(o,i)},_setDropPosition:function(t,e){this.element.css({left:t,top:e}),this._area=this._layoutManager._$getArea(t,e),null!==this._area?(this._lastValidArea=this._area,this._area.contentItem._$highlightDropZone(t,e,this._area)):null!==this._lastValidArea&&(this._lastValidArea.contentItem._$highlightDropZone(t,e,this._area),this._lastValidArea=this._area)},_onDrop:function(t){this._layoutManager.dropTargetIndicator.hide(),this.element.find(\".lm_content\").css(\"display\",\"\"),null===this._area||t&&t.canceled?null===this._lastValidArea||t&&t.canceled?!this._originalParent||t&&t.canceled?this._contentItem._$destroy():this._originalParent.addChild(this._contentItem):this._lastValidArea.contentItem._$onDrop(this._contentItem,this._lastValidArea):(this._area.contentItem._$onDrop(this._contentItem,this._area),this._originalParent&&this._area.contentItem!==this._originalParent&&this._layoutManager.emit(\"parentChanged\",this._contentItem,this._originalParent)),this.element.remove();const e=this._layoutManager._dragProxies.indexOf(this);e>-1&&this._layoutManager._dragProxies.splice(e,1),this._layoutManager.emit(\"itemDropped\",this._contentItem)},_updateTree:function(){this._contentItem.parent&&this._contentItem.parent.removeChild(this._contentItem,!0),this._contentItem._$setParent(this)},_setDimensions:function(){this._contentItem.callDownwards(\"_$show\")}}),n.controls.DragSource=function(t,e,n,o){this._element=t,this._itemConfig=e,this._layoutManager=n,this._dragListener=null,this._createDragListener(o)},n.utils.copy(n.controls.DragSource.prototype,{_createDragListener:function(t){null!==this._dragListener&&this._dragListener.destroy(),this._dragListener=t||new n.utils.DragListener(this._element),\"function\"==typeof this._dragListener.on&&(this._dragListener.on(\"dragStart\",this._onDragStart,this),this._dragListener.on(\"dragStop\",this._createDragListener,this))},_onDragStart:function(t,o){var i=this._itemConfig;n.utils.isFunction(i)&&(i=i());var s=this._layoutManager._$normalizeContentItem(e.extend(!0,{},i)),r=new n.controls.DragProxy(t,o,this._dragListener,this._layoutManager,s,null);this._layoutManager.transitionIndicator.transitionElements(this._element,r.element)}}),n.controls.DropTargetIndicator=function(){this.element=e(n.controls.DropTargetIndicator._template),e(document.body).append(this.element)},n.controls.DropTargetIndicator._template='<div class=\"lm_dropTargetIndicator\"><div class=\"lm_inner\"><span></span><span></span><span></span></div></div>',n.utils.copy(n.controls.DropTargetIndicator.prototype,{destroy:function(){this.element.remove()},highlight:function(t,e,n,o){this.highlightArea({x1:t,y1:e,x2:n,y2:o})},highlightArea:function(t){t?this.element.css({left:t.x1,top:t.y1,width:t.x2-t.x1,height:t.y2-t.y1}).show():this.element.hide()},hide:function(){this.element.hide()}}),n.controls.Header=function(t,o){if(n.utils.EventEmitter.call(this),this.layoutManager=t,this.element=e(n.controls.Header._template),!0===this.layoutManager.config.settings.selectionEnabled&&(this.element.addClass(\"lm_selectable\"),this.element.on(\"click touchstart\",n.utils.fnBind(this._onHeaderClick,this))),\"workspace\"===this.layoutManager.config.settings.mode&&this.element.addClass(\"header_double\"),\"workspace\"===this.layoutManager.config.settings.mode&&this.layoutManager._componentFactory){const t=this.element.children(\".lm_controls\")[0],e=this.element.children(\".lm_workspace_controls\")[0],n=this.element.children(\".lm_logo\")[0];this.layoutManager._componentFactory.createLogo&&this.layoutManager._componentFactory.createLogo({domNode:n}),this.layoutManager._componentFactory.createAddWorkspace&&this.layoutManager._componentFactory.createAddWorkspace({domNode:e}),this.layoutManager._componentFactory.createSystemButtons&&this.layoutManager._componentFactory.createSystemButtons({domNode:t})}this.tabsContainer=this.element.find(\".lm_tabs\"),this.tabDropdownContainer=this.element.find(\".lm_tabdropdown_list\"),this.tabDropdownContainer.hide(),this.controlsContainer=this.element.find(\".lm_controls\"),this.workspaceControlsContainer=\"workspace\"===this.layoutManager.config.settings.mode?this.element.find(\".lm_workspace_controls\"):void 0,this.tabsControlsContainer=\"workspace\"!==this.layoutManager.config.settings.mode?this.element.find(\".lm_tabs_controls\"):void 0,this.parent=o,this.parent.on(\"resize\",this._updateTabSizesWithoutDropdown,this),this.tabs=[],this.activeContentItem=null,this.closeButton=null,this.tabDropdownButton=null,this.hideAdditionalTabsDropdown=n.utils.fnBind(this._hideAdditionalTabsDropdown,this),e(document).mouseup(this.hideAdditionalTabsDropdown),this._lastVisibleTabIndex=-1,this._tabControlOffset=this.layoutManager.config.settings.tabControlOffset,\"workspace\"===this.layoutManager.config.settings.mode&&this.layoutManager._componentFactory&&this.layoutManager._componentFactory.createSystemButtons||this._createControls()},n.controls.Header._template=['<div class=\"lm_header\">','<div class=\"lm_logo\"></div>','<ul class=\"lm_tabs\"></ul>','<ul class=\"lm_workspace_controls\"></ul>','<ul class=\"lm_tabs_controls\"></ul>','<div class=\"move_area\"></div>','<ul class=\"lm_controls\"></ul>','<ul class=\"lm_tabdropdown_list\"></ul>',\"</div>\"].join(\"\"),n.utils.copy(n.controls.Header.prototype,{createTab:function(t,e){var o,i;for(i=0;i<this.tabs.length;i++)if(this.tabs[i].contentItem===t)return;if(o=new n.controls.Tab(this,t),0===this.tabs.length)return this.tabs.push(o),void this.tabsContainer.append(o.element);void 0===e&&(e=this.tabs.length),e>0?this.tabs[e-1].element.after(o.element):this.tabs[0].element.before(o.element),this.tabs.splice(e,0,o),this._updateTabSizesWithoutDropdown()},removeTab:function(t){for(var e=0;e<this.tabs.length;e++)if(this.tabs[e].contentItem===t)return this.tabs[e]._$destroy(),void this.tabs.splice(e,1);throw new Error(\"contentItem is not controlled by this header\")},setActiveContentItem:function(t){var e,n,o,i;for(e=0;e<this.tabs.length;e++)o=this.tabs[e].contentItem===t,this.tabs[e].setActive(o),!0===o&&(this.activeContentItem=t,this.parent.config.activeItemIndex=e);if(this.layoutManager.config.settings.reorderOnTabMenuClick&&-1!==this._lastVisibleTabIndex&&this.parent.config.activeItemIndex>this._lastVisibleTabIndex){for(i=this.tabs[this.parent.config.activeItemIndex],n=this.parent.config.activeItemIndex;n>0;n--)this.tabs[n]=this.tabs[n-1];this.tabs[0]=i,this.parent.config.activeItemIndex=0}this._updateTabSizesWithoutDropdown(),this.parent.emitBubblingEvent(\"stateChanged\")},position:function(t){var e=this.parent._header.show;return e&&!this.parent._side&&(e=\"top\"),void 0!==t&&this.parent._header.show!=t&&(this.parent._header.show=t,this.parent._setupHeaderPosition()),e},_$setClosable:function(t){return!(!this.closeButton||!this._isClosable())&&(this.closeButton.element[t?\"show\":\"hide\"](),!0)},_$destroy:function(){this.emit(\"destroy\",this);for(var t=0;t<this.tabs.length;t++)this.tabs[t]._$destroy();e(document).off(\"mouseup\",this.hideAdditionalTabsDropdown),this.element.remove()},_getHeaderSetting:function(t){if(t in this.parent._header)return this.parent._header[t]},_createControls:function(){var t,e,o,i,s,r,a,l,c;c=n.utils.fnBind(this._showAdditionalTabsDropdown,this),l=this.layoutManager.config.labels.tabDropdown,this.tabDropdownButton=new n.controls.HeaderButton(this,l,\"lm_tabdropdown\",c),this.tabDropdownButton.element.hide(),this._getHeaderSetting(\"popout\")&&(e=n.utils.fnBind(this._onPopoutClick,this),o=this._getHeaderSetting(\"popout\"),new n.controls.HeaderButton(this,o,\"lm_popout\",e)),this._getHeaderSetting(\"minimize\")&&(minimizeLabel=this._getHeaderSetting(\"minimize\"),minimizeButton=new n.controls.HeaderButton(this,minimizeLabel,\"lm_minimise\",void 0)),this._getHeaderSetting(\"maximize\")&&(\"workspace\"!==this.layoutManager.config.settings.mode&&(r=n.utils.fnBind(this.parent.toggleMaximise,this.parent)),i=this._getHeaderSetting(\"maximize\"),a=new n.controls.HeaderButton(this,i,\"lm_maximise\",r),s=this._getHeaderSetting(\"restore\"),this.parent.on(\"maximized\",(function(){a.element.attr(\"title\",s)})),this.parent.on(\"minimized\",(function(){a.element.attr(\"title\",i)}))),this._isClosable()&&(\"workspace\"!==this.layoutManager.config.settings.mode&&(t=n.utils.fnBind(this.parent.remove,this.parent)),o=this._getHeaderSetting(\"close\"),this.closeButton=new n.controls.HeaderButton(this,o,\"lm_close\",t))},_showAdditionalTabsDropdown:function(){this.tabDropdownContainer.show()},_hideAdditionalTabsDropdown:function(t){this.tabDropdownContainer.hide()},_isClosable:function(){return this.parent.config.isClosable&&this.layoutManager.config.settings.showCloseIcon},_onPopoutClick:function(){this.parent.emit(\"popoutRequested\")},_onHeaderClick:function(t){t.target===this.element[0]&&this.parent.select()},_updateTabSizes:function(t){if(0!==this.tabs.length){this.tabDropdownButton.element.toggle(!0===t);this.element.css(!this.parent._sided?\"width\":\"height\",\"\");var e,n,o,i,s=this.element.outerWidth()-this.controlsContainer.outerWidth()-this._tabControlOffset,r=0,a=0,l=0,c=this.layoutManager.config.settings.tabOverlapAllowance,d=!1,h=this.activeContentItem?this.tabs.indexOf(this.activeContentItem.tab):0,u=this.tabs[h];for(this.parent._sided&&(s=this.element.outerHeight()-this.controlsContainer.outerHeight()-this._tabControlOffset),this._lastVisibleTabIndex=-1,n=0;n<this.tabs.length;n++)if(e=this.tabs[n].element,this.tabsContainer.append(e),r+=e.outerWidth()+parseInt(e.css(\"margin-right\"),10),(a=h<=n?r:r+u.element.outerWidth()+parseInt(u.element.css(\"margin-right\"),10))>s){if(d)n===h&&(e.css({\"z-index\":\"auto\",\"margin-left\":\"\"}),this.tabsContainer.append(e));else if((l=h>0&&h<=n?(a-s)/(n-1):(a-s)/n)<c){for(o=0;o<=n;o++)i=o!==h&&0!==o?\"-\"+l+\"px\":\"\",this.tabs[o].element.css({\"z-index\":n-o,\"margin-left\":i});this._lastVisibleTabIndex=n,this.tabsContainer.append(e)}else d=!0;if(d&&n!==h){if(!t)return void this._updateTabSizes(!0);e.css({\"z-index\":\"auto\",\"margin-left\":\"\"}),this.tabDropdownContainer.append(e)}}else this._lastVisibleTabIndex=n,e.css({\"z-index\":\"auto\",\"margin-left\":\"\"}),this.tabsContainer.append(e)}},_updateTabSizesWithoutDropdown:function(t){if(0!==this.tabs.length){this.element.css(!this.parent._sided?\"width\":\"height\",\"\");this.element.outerWidth(),this.controlsContainer.outerWidth(),this._tabControlOffset;var e,n,o=0,i=(this.layoutManager.config.settings.tabOverlapAllowance,this.activeContentItem?this.tabs.indexOf(this.activeContentItem.tab):0),s=this.tabs[i];for(this.parent._sided&&this.element.outerHeight()-this.controlsContainer.outerHeight()-this._tabControlOffset,n=0;n<this.tabs.length;n++)e=this.tabs[n].element,this.tabsContainer.append(e),o+=e.outerWidth()+parseInt(e.css(\"margin-right\"),10),i<=n?o:o+s.element.outerWidth()+parseInt(s.element.css(\"margin-right\"),10),e.css({\"z-index\":\"auto\",\"margin-left\":\"\"}),this.tabsContainer.append(e)}}}),n.controls.HeaderButton=function(t,n,o,i){this._header=t,this.element=e('<li class=\"'+o+'\" title=\"'+n+'\"></li>'),this._header.on(\"destroy\",this._$destroy,this),this._action=i,this.element.on(\"click touchstart\",this._action),this._header.controlsContainer.append(this.element)},n.utils.copy(n.controls.HeaderButton.prototype,{_$destroy:function(){this.element.off(),this.element.remove()}}),n.controls.Splitter=function(t,e,o){this._isVertical=t,this._size=e,this._grabSize=o<e?e:o,this.element=this._createElement(),this._dragListener=new n.utils.DragListener(this.element)},n.utils.copy(n.controls.Splitter.prototype,{on:function(t,e,n){this._dragListener.on(t,e,n)},_$destroy:function(){this.element.remove()},_createElement:function(){var t=e('<div class=\"lm_drag_handle\"></div>'),n=e('<div class=\"lm_splitter\"></div>');n.append(t);var o=this._grabSize-this._size,i=o/2;return this._isVertical?(t.css(\"top\",-i),t.css(\"height\",this._size+o),n.addClass(\"lm_vertical\"),n.height(this._size)):(t.css(\"left\",-i),t.css(\"width\",this._size+o),n.addClass(\"lm_horizontal\"),n.width(this._size)),n}}),n.controls.Tab=function(t,o){this.header=t,this.contentItem=o,this.element=e(n.controls.Tab._template),this.titleElement=this.element.find(\".lm_title\"),this.closeElement=this.element.find(\".lm_close_tab\"),this.closeElement[o.config.isClosable?\"show\":\"hide\"](),this.isActive=!1,this.setTitle(o.config.title),this.contentItem.on(\"titleChanged\",this.setTitle,this),this._layoutManager=this.contentItem.layoutManager,!0===this._layoutManager.config.settings.reorderEnabled&&!0===o.config.reorderEnabled&&(this._dragListener=new n.utils.DragListener(this.element),this._dragListener.on(\"dragStart\",this._onDragStart,this),this.contentItem.on(\"destroy\",this._dragListener.destroy,this._dragListener)),this._onTabClickFn=n.utils.fnBind(this._onTabClick,this),this._onCloseClickFn=n.utils.fnBind(this._onCloseClick,this),\"workspace\"===this._layoutManager.config.settings.mode&&o.config.noTabHeader&&this.element.hide(),this.element.on(\"mousedown touchstart\",this._onTabClickFn),this.contentItem.config.isClosable?(this.closeElement.on(\"click touchstart\",this._onCloseClickFn),this.closeElement.on(\"mousedown\",this._onCloseMousedown)):this.closeElement.remove(),this.contentItem.tab=this,this.contentItem.emit(\"tab\",this),this.contentItem.layoutManager.emit(\"tabCreated\",this),this.contentItem.isComponent&&(this.contentItem.container.tab=this,this.contentItem.container.emit(\"tab\",this))},n.controls.Tab._template='<li class=\"lm_tab\"><i class=\"lm_left\"></i><span class=\"lm_title\"></span><div class=\"lm_close_tab\"></div><i class=\"lm_right\"></i></li>',n.utils.copy(n.controls.Tab.prototype,{setTitle:function(t){this.element.attr(\"title\",n.utils.stripTags(t)),this.titleElement.html(t)},onCloseClick:void 0,setActive:function(t){t!==this.isActive&&(this.isActive=t,t?this.element.addClass(\"lm_active\"):this.element.removeClass(\"lm_active\"))},_$destroy:function(){this.element.off(\"mousedown touchstart\",this._onTabClickFn),this.closeElement.off(\"click touchstart\",this._onCloseClickFn),this._dragListener&&(this.contentItem.off(\"destroy\",this._dragListener.destroy,this._dragListener),this._dragListener.off(\"dragStart\",this._onDragStart),this._dragListener=null),this.element.remove()},_onDragStart:function(t,e){!0===this.contentItem.parent.isMaximized&&this.contentItem.parent.toggleMaximise();const o=\"workspace\"===this.contentItem.layoutManager.config.settings.mode,i=this.contentItem.parent.header.tabs.length<2,s=!this.contentItem.config.windowId&&this.contentItem.config.componentState&&!this.contentItem.config.componentState.windowId;if(o&&i)return;if(!o&&s)return;if(this._layoutManager.config&&!1===this._layoutManager.config.workspacesOptions.allowExtract&&this.contentItem.config.workspacesConfig&&!0!==this.contentItem.config.workspacesConfig.allowExtract)return;if(this.contentItem.config.workspacesConfig&&!1===this.contentItem.config.workspacesConfig.allowExtract)return;const r=new n.controls.DragProxy(t,e,this._dragListener,this._layoutManager,this.contentItem,this.header.parent);this._layoutManager._dragProxies.push(r)},_onTabClick:function(t){if(0===t.button||\"touchstart\"===t.type){var e=this.header.parent.getActiveContentItem();this.contentItem!==e&&this.header.parent.setActiveContentItem(this.contentItem)}else 1===t.button&&this.contentItem.config.isClosable&&this._onCloseClick(t)},_onCloseClick:function(t){this.contentItem.layoutManager.emit(\"tabCloseRequested\",this),this.onCloseClick&&this.onCloseClick(t)},_onCloseMousedown:function(t){t.stopPropagation()}}),n.controls.TransitionIndicator=function(){this._element=e('<div class=\"lm_transition_indicator\"></div>'),e(document.body).append(this._element),this._toElement=null,this._fromDimensions=null,this._totalAnimationDuration=200,this._animationStartTime=null},n.utils.copy(n.controls.TransitionIndicator.prototype,{destroy:function(){this._element.remove()},transitionElements:function(t,e){},_nextAnimationFrame:function(){var t,e=this._measure(this._toElement),o=(n.utils.now()-this._animationStartTime)/this._totalAnimationDuration,i={};if(o>=1)this._element.hide();else{for(t in e.opacity=0,this._fromDimensions)i[t]=this._fromDimensions[t]+(e[t]-this._fromDimensions[t])*o;this._element.css(i),n.utils.animFrame(n.utils.fnBind(this._nextAnimationFrame,this))}},_measure:function(t){var e=t.offset();return{left:e.left,top:e.top,width:t.outerWidth(),height:t.outerHeight()}}}),n.errors.ConfigurationError=function(t,e){Error.call(this),this.name=\"Configuration Error\",this.message=t,this.node=e},n.errors.ConfigurationError.prototype=new Error,n.items.AbstractContentItem=function(t,e,o){n.utils.EventEmitter.call(this),this.config=this._extendItemNode(e),this.type=e.type,this.contentItems=[],this.parent=o,this.isInitialised=!1,this.isMaximized=!1,this.isRoot=!1,this.isRow=!1,this.isColumn=!1,this.isStack=!1,this.isComponent=!1,this.isVisible=!0,this.layoutManager=t,this._pendingEventPropagations={},this._throttledEvents=[\"stateChanged\"],this.on(n.utils.EventEmitter.ALL_EVENT,this._propagateEvent,this),e.content&&this._createContentItems(e)},n.utils.copy(n.items.AbstractContentItem.prototype,{setSize:function(){throw new Error(\"Abstract Method\")},callDownwards:function(t,e,n,o){var i;for(!0!==n&&!0!==o&&this[t].apply(this,e||[]),i=0;i<this.contentItems.length;i++)this.contentItems[i].callDownwards(t,e,n);!0===n&&!0!==o&&this[t].apply(this,e||[])},removeChild:function(t,e){var o=n.utils.indexOf(t,this.contentItems);if(-1===o)throw new Error(\"Can't remove child item. Unknown content item\");!0!==e&&this.contentItems[o]._$destroy(),this.contentItems.splice(o,1),this.config.content.splice(o,1),this.contentItems.length>0?this.callDownwards(\"setSize\"):this instanceof n.items.Root||!0!==this.config.isClosable||this.parent.removeChild(this)},addChild:function(t,e){void 0===e&&(e=this.contentItems.length),this.contentItems.splice(e,0,t),void 0===this.config.content&&(this.config.content=[]),this.config.content.splice(e,0,t.config),t.parent=this,!0===t.parent.isInitialised&&!1===t.isInitialised&&t._$init()},replaceChild:function(t,e,o){e=this.layoutManager._$normalizeContentItem(e);var i=n.utils.indexOf(t,this.contentItems),s=t.element[0].parentNode;if(-1===i)throw new Error(\"Can't replace child. oldChild is not child of this\");s.replaceChild(e.element[0],t.element[0]);const r=t.isVisible;!0===o&&(t.parent=null,t._$destroy()),this.contentItems[i]=e,e.parent=this,this.isStack&&(this.header.tabs[i].contentItem=e),!0===e.parent.isInitialised&&!1===e.isInitialised&&e._$init(),r||e._$hide(),this.callDownwards(\"setSize\")},remove:function(){this.parent.removeChild(this)},popout:function(){var t=this.layoutManager.createPopout(this);return this.emitBubblingEvent(\"stateChanged\"),t},toggleMaximise:function(t){t&&t.preventDefault(),!0===this.isMaximized?this.layoutManager._$minimiseItem(this):this.layoutManager._$maximiseItem(this),this.isMaximized=!this.isMaximized,this.emitBubblingEvent(\"stateChanged\")},select:function(){this.layoutManager.selectedItem!==this&&(this.layoutManager.selectItem(this,!0),this.element.addClass(\"lm_selected\"))},deselect:function(){this.layoutManager.selectedItem===this&&(this.layoutManager.selectedItem=null,this.element.removeClass(\"lm_selected\"))},setTitle:function(t){this.config.title=t,this.emit(\"titleChanged\",t),this.emit(\"stateChanged\")},hasId:function(t){return!!this.config.id&&(\"string\"==typeof this.config.id?this.config.id===t:this.config.id instanceof Array?-1!==n.utils.indexOf(t,this.config.id):void 0)},addId:function(t){this.hasId(t)||(this.config.id?\"string\"==typeof this.config.id?this.config.id=[this.config.id,t]:this.config.id instanceof Array&&this.config.id.push(t):this.config.id=t)},removeId:function(t){if(!this.hasId(t))throw new Error(\"Id not found\");if(\"string\"==typeof this.config.id)delete this.config.id;else if(this.config.id instanceof Array){var e=n.utils.indexOf(t,this.config.id);this.config.id.splice(e,1)}},getItemsByFilter:function(t){var e=[],n=function(o){for(var i=0;i<o.contentItems.length;i++)!0===t(o.contentItems[i])&&e.push(o.contentItems[i]),n(o.contentItems[i])};return n(this),e},getItemsById:function(t){return this.getItemsByFilter((function(e){return e.config.id instanceof Array?-1!==n.utils.indexOf(t,e.config.id):e.config.id===t}))},getItemsByType:function(t){return this._$getItemsByProperty(\"type\",t)},getComponentsByName:function(t){var e,n=this._$getItemsByProperty(\"componentName\",t),o=[];for(e=0;e<n.length;e++)o.push(n[e].instance&&0!==Object.keys(n[e].instance).length?n[e].instance:n[e]);return o},_$getItemsByProperty:function(t,e){return this.getItemsByFilter((function(n){return n[t]===e}))},_$setParent:function(t){this.parent=t},_$highlightDropZone:function(t,e,n){this.layoutManager.dropTargetIndicator.highlightArea(n)},_$onDrop:function(t){this.addChild(t)},_$hide:function(){this._callOnActiveComponents(\"hide\"),this.element.hide(),this.isVisible=!1,this.layoutManager.updateSize()},_$show:function(){this._callOnActiveComponents(\"show\"),this.element.show(),this.isVisible=!0,this.layoutManager.updateSize()},_callOnActiveComponents:function(t){var e,n,o=this.getItemsByType(\"stack\");for(n=0;n<o.length;n++)(e=o[n].getActiveContentItem())&&e.isComponent&&e.container[t]()},_$destroy:function(){this.emitBubblingEvent(\"beforeItemDestroyed\"),this.callDownwards(\"_$destroy\",[],!0,!0),this.element.remove(),this.emitBubblingEvent(\"itemDestroyed\")},_$getArea:function(t){var e=(t=t||this.element).offset(),n=t.width(),o=t.height();return{x1:e.left,y1:e.top,x2:e.left+n,y2:e.top+o,surface:n*o,contentItem:this}},_$init:function(){var t;for(this.setSize(),t=0;t<this.contentItems.length;t++)this.childElementContainer.append(this.contentItems[t].element);this.isInitialised=!0,this.emitBubblingEvent(\"itemCreated\"),this.emitBubblingEvent(this.type+\"Created\")},emitBubblingEvent:function(t){var e=new n.utils.BubblingEvent(t,this);this.emit(t,e)},_createContentItems:function(t){var e,o;if(!(t.content instanceof Array))throw new n.errors.ConfigurationError(\"content must be an Array\",t);for(o=0;o<t.content.length;o++)e=this.layoutManager.createContentItem(t.content[o],this),this.contentItems.push(e)},_extendItemNode:function(t){for(var e in n.config.itemDefaultConfig)void 0===t[e]&&(t[e]=n.config.itemDefaultConfig[e]);return t},_propagateEvent:function(t,e){e instanceof n.utils.BubblingEvent&&!1===e.isPropagationStopped&&!0===this.isInitialised&&(!1===this.isRoot&&this.parent?this.parent.emit.apply(this.parent,Array.prototype.slice.call(arguments,0)):this._scheduleEventPropagationToLayoutManager(t,e))},_scheduleEventPropagationToLayoutManager:function(t,e){-1===n.utils.indexOf(t,this._throttledEvents)?this.layoutManager.emit(t,e.origin):!0!==this._pendingEventPropagations[t]&&(this._pendingEventPropagations[t]=!0,n.utils.animFrame(n.utils.fnBind(this._propagateEventToLayoutManager,this,[t,e])))},_propagateEventToLayoutManager:function(t,e){this._pendingEventPropagations[t]=!1,this.layoutManager.emit(t,e)}}),n.items.Component=function(t,o,i){n.items.AbstractContentItem.call(this,t,o,i);var s=t.getComponent(this.config.componentName),r=e.extend(!0,{},this.config.componentState||{});r.componentName=this.config.componentName,this.componentName=this.config.componentName,\"\"===this.config.title&&(this.config.title=this.config.componentName),this.isComponent=!0,this.container=new n.container.ItemContainer(this.config,this,t),this.instance=new s(this.container,r),this.element=this.container._element},n.utils.extend(n.items.Component,n.items.AbstractContentItem),n.utils.copy(n.items.Component.prototype,{close:function(){this.parent.removeChild(this)},setSize:function(){this.element.is(\":visible\")&&(this.emit(\"size-changed\",{width:this.element.width(),height:this.element.height()}),this.container._$setSize(this.element.width(),this.element.height()))},_$init:function(){n.items.AbstractContentItem.prototype._$init.call(this),this.container.emit(\"open\")},_$hide:function(){this.container.hide(),n.items.AbstractContentItem.prototype._$hide.call(this)},_$show:function(){this.container.show(),n.items.AbstractContentItem.prototype._$show.call(this)},_$shown:function(){this.container.shown(),n.items.AbstractContentItem.prototype._$shown.call(this)},_$destroy:function(){this.container.emit(\"destroy\",this),n.items.AbstractContentItem.prototype._$destroy.call(this)},_$getArea:function(){return null}}),n.items.Root=function(t,o,i){n.items.AbstractContentItem.call(this,t,o,null),this.isRoot=!0,this.type=\"root\",this.element=e('<div class=\"lm_goldenlayout lm_item lm_root\"></div>'),this.childElementContainer=this.element,this._containerElement=i,this._containerElement.append(this.element)},n.utils.extend(n.items.Root,n.items.AbstractContentItem),n.utils.copy(n.items.Root.prototype,{addChild:function(t){if(this.contentItems.length>0)throw new Error(\"Root node can only have a single child\");t=this.layoutManager._$normalizeContentItem(t,this),this.childElementContainer.append(t.element),n.items.AbstractContentItem.prototype.addChild.call(this,t),this.callDownwards(\"setSize\"),this.emitBubblingEvent(\"stateChanged\")},setSize:function(t,e){t=void 0===t?this._containerElement.width():t,e=void 0===e?this._containerElement.height():e,this.element.width(t),this.element.height(e),this.contentItems[0]&&(this.contentItems[0].element.width(t),this.contentItems[0].element.height(e))},_$highlightDropZone:function(t,e,o){this.layoutManager.tabDropPlaceholder.remove(),n.items.AbstractContentItem.prototype._$highlightDropZone.apply(this,arguments)},_$onDrop:function(t,e){var o;if(t.isComponent&&((o=this.layoutManager.createContentItem({type:\"stack\",header:t.config.header||{}},this))._$init(),o.addChild(t),t=o),this.contentItems.length){var i=\"x\"==e.side[0]?\"row\":\"column\",s=\"x\"==e.side[0]?\"width\":\"height\",r=\"2\"==e.side[1],a=this.contentItems[0];if(!a instanceof n.items.RowOrColumn||a.type!=i){var l=this.layoutManager.createContentItem({type:i},this);this.replaceChild(a,l),l.addChild(t,r?0:void 0,!0),l.addChild(a,r?void 0:0,!0),a.config[s]=50,t.config[s]=50,l.callDownwards(\"setSize\")}else{var c=a.contentItems[r?0:a.contentItems.length-1];a.addChild(t,r?0:void 0,!0),c.config[s]*=.5,t.config[s]=c.config[s],a.callDownwards(\"setSize\")}}else this.addChild(t)}}),n.items.RowOrColumn=function(t,o,i,s){n.items.AbstractContentItem.call(this,o,i,s),this.isRow=!t,this.isColumn=t,this.element=e('<div class=\"lm_item lm_'+(t?\"column\":\"row\")+'\"></div>'),this.childElementContainer=this.element,this._splitterSize=o.config.dimensions.borderWidth,this._splitterGrabSize=o.config.dimensions.borderGrabWidth,this._isColumn=t,this._dimension=t?\"height\":\"width\",this._splitter=[],this._splitterPosition=null,this._splitterMinPosition=null,this._splitterMaxPosition=null,this._layoutManager=o},n.utils.extend(n.items.RowOrColumn,n.items.AbstractContentItem),n.utils.copy(n.items.RowOrColumn.prototype,{addChild:function(t,e,o){var i,s,r,a;if(t=this.layoutManager._$normalizeContentItem(t,this),void 0===e&&(e=this.contentItems.length),this.contentItems.length>0?(a=this._createSplitter(Math.max(0,e-1)).element,e>0?(this.contentItems[e-1].element.after(a),a.after(t.element)):(this.contentItems[0].element.before(a),a.before(t.element))):this.childElementContainer.append(t.element),n.items.AbstractContentItem.prototype.addChild.call(this,t,e),i=1/this.contentItems.length*100,!0!==o){for(r=0;r<this.contentItems.length;r++)this.contentItems[r]===t?t.config[this._dimension]=i:(s=this.contentItems[r].config[this._dimension]*=(100-i)/100,this.contentItems[r].config[this._dimension]=s);this.callDownwards(\"setSize\"),this.emitBubblingEvent(\"stateChanged\")}else this.emitBubblingEvent(\"stateChanged\")},removeChild:function(t,e){var o,i,s=t.config[this._dimension],r=n.utils.indexOf(t,this.contentItems),a=Math.max(r-1,0);if(-1===r)throw new Error(\"Can't remove child. ContentItem is not child of this Row or Column\");for(this._splitter[a]&&(this._splitter[a]._$destroy(),this._splitter.splice(a,1)),o=0;o<this.contentItems.length;o++)this.contentItems[o]!==t&&(this.contentItems[o].config[this._dimension]+=s/(this.contentItems.length-1));n.items.AbstractContentItem.prototype.removeChild.call(this,t,e),1===this.contentItems.length&&!0===this.config.isClosable?(i=this.contentItems[0],this.contentItems=[],this.parent.replaceChild(this,i,!0)):(this.callDownwards(\"setSize\"),this.emitBubblingEvent(\"stateChanged\"))},replaceChild:function(t,e){var o=t.config[this._dimension];e.config=e.config||{},e.config[this._dimension]=o,n.items.AbstractContentItem.prototype.replaceChild.call(this,t,e),this.callDownwards(\"setSize\"),this.emitBubblingEvent(\"stateChanged\")},setSize:function(){this.contentItems.length>0&&(this._calculateRelativeSizes(),this._setAbsoluteSizes()),this.emitBubblingEvent(\"stateChanged\"),this.emit(\"resize\")},_$init:function(){var t;if(!0!==this.isInitialised)for(n.items.AbstractContentItem.prototype._$init.call(this),t=0;t<this.contentItems.length-1;t++)this.contentItems[t].element.after(this._createSplitter(t).element)},_setAbsoluteSizes:function(){var t,e=this._calculateAbsoluteSizes();for(t=0;t<this.contentItems.length;t++)e.additionalPixel-t>0&&e.itemSizes[t]++,this._isColumn?(this.contentItems[t].element.width(e.totalWidth),this.contentItems[t].element.height(e.itemSizes[t])):(this.contentItems[t].element.width(e.itemSizes[t]),this.contentItems[t].element.height(e.totalHeight))},_calculateAbsoluteSizes:function(){var t,e,n=(this.contentItems.length-1)*this._splitterSize,o=this.element.width(),i=this.element.height(),s=0,r=[];for(this._isColumn?i-=n:o-=n,t=0;t<this.contentItems.length;t++)s+=e=this._isColumn?Math.floor(i*(this.contentItems[t].config.height/100)):Math.floor(o*(this.contentItems[t].config.width/100)),r.push(e);return{itemSizes:r,additionalPixel:Math.floor((this._isColumn?i:o)-s),totalWidth:o,totalHeight:i}},_calculateRelativeSizes:function(){var t,e=0,n=[],o=this._isColumn?\"height\":\"width\";for(t=0;t<this.contentItems.length;t++)void 0!==this.contentItems[t].config[o]?e+=this.contentItems[t].config[o]:n.push(this.contentItems[t]);if(100!==Math.round(e))if(Math.round(e)<100&&n.length>0){for(t=0;t<n.length;t++)n[t].config[o]=(100-e)/n.length;this._respectMinItemWidth()}else{if(Math.round(e)>100)for(t=0;t<n.length;t++)n[t].config[o]=50,e+=50;for(t=0;t<this.contentItems.length;t++)this.contentItems[t].config[o]=this.contentItems[t].config[o]/e*100;this._respectMinItemWidth()}else this._respectMinItemWidth()},_respectMinItemWidth:function(){var t,e,n,o,i=this.layoutManager.config.dimensions&&this.layoutManager.config.dimensions.minItemWidth||0,s=[],r=0,a=0,l=0,c=0,d=[];if(!(this._isColumn||!i||this.contentItems.length<=1)){t=this._calculateAbsoluteSizes();for(var h=0;h<this.contentItems.length;h++)this.contentItems[h],(c=t.itemSizes[h])<i?(a+=i-c,o={width:i}):(r+=c-i,o={width:c},s.push(o)),d.push(o);if(!(0===a||a>r)){for(e=a/r,l=a,h=0;h<s.length;h++)o=s[h],l-=n=Math.round((o.width-i)*e),o.width-=n;for(0!==l&&(d[d.length-1].width-=l),h=0;h<this.contentItems.length;h++)this.contentItems[h].config.width=d[h].width/t.totalWidth*100}}},_createSplitter:function(t){var e;return(e=new n.controls.Splitter(this._isColumn,this._splitterSize,this._splitterGrabSize)).on(\"drag\",n.utils.fnBind(this._onSplitterDrag,this,[e]),this),e.on(\"dragStop\",n.utils.fnBind(this._onSplitterDragStop,this,[e]),this),e.on(\"dragStart\",n.utils.fnBind(this._onSplitterDragStart,this,[e]),this),this._splitter.splice(t,0,e),e},_getItemsForSplitter:function(t){var e=n.utils.indexOf(t,this._splitter);return{before:this.contentItems[e],after:this.contentItems[e+1]}},_getMinimumDimensions:function(t){for(var e=0,n=0,o=0;o<t.length;++o)e=Math.max(t[o].minWidth||0,e),n=Math.max(t[o].minHeight||0,n);return{horizontal:e,vertical:n}},_onSplitterDragStart:function(t){var e=this._getItemsForSplitter(t),n=this.layoutManager.config.dimensions[this._isColumn?\"minItemHeight\":\"minItemWidth\"],o=this._getMinimumDimensions(e.before.config.content),i=this._isColumn?o.vertical:o.horizontal,s=this._getMinimumDimensions(e.after.config.content),r=this._isColumn?s.vertical:s.horizontal;this._splitterPosition=0,this._splitterMinPosition=-1*(e.before.element[this._dimension]()-(i||n)),this._splitterMaxPosition=e.after.element[this._dimension]()-(r||n)},_onSplitterDrag:function(t,e,n){if(!this._layoutManager.config||!1!==this._layoutManager.config.workspacesOptions.allowSplitters){var o=this._isColumn?n:e;o>this._splitterMinPosition&&o<this._splitterMaxPosition&&(this._splitterPosition=o,t.element.css(this._isColumn?\"top\":\"left\",o)),this._layoutManager.emit(\"splitterDragged\",t)}},_onSplitterDragStop:function(t){if(!this._layoutManager.config||!1!==this._layoutManager.config.workspacesOptions.allowSplitters){var e=this._getItemsForSplitter(t),o=e.before.element[this._dimension](),i=e.after.element[this._dimension](),s=(this._splitterPosition+o)/(o+i),r=e.before.config[this._dimension]+e.after.config[this._dimension];e.before.config[this._dimension]=s*r,e.after.config[this._dimension]=(1-s)*r,t.element.css({top:0,left:0}),n.utils.animFrame(n.utils.fnBind(this.callDownwards,this,[\"setSize\"])),this._layoutManager.emit(\"splitterDragStopped\",t)}}}),n.items.Stack=function(t,o,i){n.items.AbstractContentItem.call(this,t,o,i),this.element=e('<div class=\"lm_item lm_stack\"></div>'),this._activeContentItem=null;var s=t.config;this._header={show:!0===s.settings.hasHeaders&&!1!==o.hasHeaders,popout:s.settings.showPopoutIcon&&s.labels.popout,maximize:s.settings.showMaximizeIcon&&s.labels.maximize,minimize:s.settings.showMinimizeIcon&&s.labels.minimize,close:s.settings.showCloseIcon&&s.labels.close},s.header&&n.utils.copy(this._header,s.header),o.header&&n.utils.copy(this._header,o.header),o.content&&o.content[0]&&o.content[0].header&&n.utils.copy(this._header,o.content[0].header),this._dropZones={},this._dropSegment=null,this._contentAreaDimensions=null,this._dropIndex=null,this.isStack=!0,this.childElementContainer=e('<div class=\"lm_items\"></div>'),this.header=new n.controls.Header(t,this),this.element.append(this.header.element),this.element.append(this.childElementContainer),this._setupHeaderPosition(),this._$validateClosability()},n.utils.extend(n.items.Stack,n.items.AbstractContentItem),n.utils.copy(n.items.Stack.prototype,{setSize:function(){var t,e=this._header.show?this.header.element.height():0,n=this.element.width()-(this._sided?e:0),o=this.element.height()-(this._sided?0:e);for(this.childElementContainer.width(n),this.childElementContainer.height(o),t=0;t<this.contentItems.length;t++)this.contentItems[t].element.width(n).height(o);this.emit(\"resize\"),this.emitBubblingEvent(\"stateChanged\")},_$init:function(){var t,e;if(!0!==this.isInitialised){for(n.items.AbstractContentItem.prototype._$init.call(this),t=0;t<this.contentItems.length;t++)this.header.createTab(this.contentItems[t]),this.contentItems[t]._$hide();if(this.contentItems.length>0){if(!(e=this.contentItems[this.config.activeItemIndex||0]))throw new Error(\"Configured activeItemIndex out of bounds\");this.setActiveContentItem(e)}}},setActiveContentItem:function(t){if(-1===n.utils.indexOf(t,this.contentItems))throw new Error(\"contentItem is not a child of this stack\");const e=this._activeContentItem;null!==this._activeContentItem&&this._activeContentItem._$hide(),this._activeContentItem=t,this.header.setActiveContentItem(t),t._$show(),this.emit(\"activeContentItemChanged\",t),this.layoutManager.emit(\"activeContentItemChanged\",t),e&&e.emit(\"focusLost\"),this.emitBubblingEvent(\"stateChanged\")},getActiveContentItem:function(){return this.header.activeContentItem},addChild:function(t,o,i=!0){t=this.layoutManager._$normalizeContentItem(t,this),n.items.AbstractContentItem.prototype.addChild.call(this,t,o),this.childElementContainer.append(t.element),this.header.createTab(t,o),e(this.layoutManager.container).is(\":visible\")&&i?this.setActiveContentItem(t):t._$hide(),this.callDownwards(\"setSize\"),this._$validateClosability(),this.emitBubblingEvent(\"stateChanged\")},removeChild:function(t,e){var o=n.utils.indexOf(t,this.contentItems);n.items.AbstractContentItem.prototype.removeChild.call(this,t,e),this.header.removeTab(t),this.header.activeContentItem===t&&(this.contentItems.length>0?this.setActiveContentItem(this.contentItems[Math.max(o-1,0)]):this._activeContentItem=null),this._$validateClosability(),this.emitBubblingEvent(\"stateChanged\")},_$validateClosability:function(){var t,e,n;for(t=this.header._isClosable(),n=0,e=this.contentItems.length;n<e&&t;n++)t=this.contentItems[n].config.isClosable;this.header._$setClosable(t)},_$destroy:function(){n.items.AbstractContentItem.prototype._$destroy.call(this),this.header._$destroy()},_$onDrop:function(t){if(\"header\"===this._dropSegment)return this._resetHeaderDropZone(),void this.addChild(t,this._dropIndex);if(\"body\"!==this._dropSegment){var e,o,i,s=\"top\"===this._dropSegment||\"bottom\"===this._dropSegment,r=\"left\"===this._dropSegment||\"right\"===this._dropSegment,a=\"top\"===this._dropSegment||\"left\"===this._dropSegment,l=s&&this.parent.isColumn||r&&this.parent.isRow,c=s?\"column\":\"row\",d=s?\"height\":\"width\";t.isComponent&&((o=this.layoutManager.createContentItem({type:\"stack\",header:t.config.header||{}},this))._$init(),o.addChild(t),t=o),l?(e=n.utils.indexOf(this,this.parent.contentItems),this.parent.addChild(t,a?e:e+1,!0),this.config[d]*=.5,t.config[d]=this.config[d],this.parent.callDownwards(\"setSize\")):(c=s?\"column\":\"row\",i=this.layoutManager.createContentItem({type:c},this),this.parent.replaceChild(this,i),i.addChild(t,a?0:void 0,!0),i.addChild(this,a?void 0:0,!0),this.config[d]=50,t.config[d]=50,i.callDownwards(\"setSize\"))}else this.addChild(t)},_$highlightDropZone:function(t,e){var n,o;for(n in this._contentAreaDimensions)if((o=this._contentAreaDimensions[n].hoverArea).x1<t&&o.x2>t&&o.y1<e&&o.y2>e)return void(\"header\"===n?(this._dropSegment=\"header\",this._highlightHeaderDropZone(this._sided?e:t)):(this._resetHeaderDropZone(),this._highlightBodyDropZone(n)));this.layoutManager.dropTargetIndicator.highlightArea(null)},_$getArea:function(){if(!1===this.element.is(\":visible\"))return null;var t=n.items.AbstractContentItem.prototype._$getArea,e=t.call(this,this.header.element),o=t.call(this,this.childElementContainer),i=o.x2-o.x1,s=o.y2-o.y1;return this._contentAreaDimensions={header:{hoverArea:{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2},highlightArea:{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2}}},this._activeContentItem&&!1===this._activeContentItem.isComponent?e:0===this.contentItems.length?(this._contentAreaDimensions.body={hoverArea:{x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2},highlightArea:{x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2}},t.call(this,this.element)):(\"workspace\"!==this.layoutManager.config.settings.mode&&(this._contentAreaDimensions.left={hoverArea:{x1:o.x1,y1:o.y1,x2:o.x1+.25*i,y2:o.y2},highlightArea:{x1:o.x1,y1:o.y1,x2:o.x1+.5*i,y2:o.y2}},this._contentAreaDimensions.top={hoverArea:{x1:o.x1+.25*i,y1:o.y1,x2:o.x1+.75*i,y2:o.y1+.5*s},highlightArea:{x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y1+.5*s}},this._contentAreaDimensions.right={hoverArea:{x1:o.x1+.75*i,y1:o.y1,x2:o.x2,y2:o.y2},highlightArea:{x1:o.x1+.5*i,y1:o.y1,x2:o.x2,y2:o.y2}},this._contentAreaDimensions.bottom={hoverArea:{x1:o.x1+.25*i,y1:o.y1+.5*s,x2:o.x1+.75*i,y2:o.y2},highlightArea:{x1:o.x1,y1:o.y1+.5*s,x2:o.x2,y2:o.y2}}),t.call(this,this.element))},_highlightHeaderDropZone:function(t){var e,n,o,i,s,r,a,l,c=this.header.tabs.length,d=!1;if(0===c)return a=this.header.element.offset(),void this.layoutManager.dropTargetIndicator.highlightArea({x1:a.left,x2:a.left+100,y1:a.top+this.header.element.height()-20,y2:a.top+this.header.element.height()});for(e=0;e<c;e++)if(s=(n=this.header.tabs[e].element).offset(),this._sided?(i=s.top,o=s.left,l=n.height()):(i=s.left,o=s.top,l=n.width()),t>i&&t<i+l){d=!0;break}if(!(!1===d&&t<i)){if(t<i+l/2?(this._dropIndex=e,n.before(this.layoutManager.tabDropPlaceholder)):(this._dropIndex=Math.min(e+1,c),n.after(this.layoutManager.tabDropPlaceholder)),this._sided)return placeHolderTop=this.layoutManager.tabDropPlaceholder.offset().top,void this.layoutManager.dropTargetIndicator.highlightArea({x1:o,x2:o+n.innerHeight(),y1:placeHolderTop,y2:placeHolderTop+this.layoutManager.tabDropPlaceholder.width()});r=this.layoutManager.tabDropPlaceholder.offset().left,this.layoutManager.dropTargetIndicator.highlightArea({x1:r,x2:r+this.layoutManager.tabDropPlaceholder.width(),y1:o,y2:o+n.innerHeight()})}},_resetHeaderDropZone:function(){this.layoutManager.tabDropPlaceholder.remove()},_setupHeaderPosition:function(){var t=[\"right\",\"left\",\"bottom\"].indexOf(this._header.show)>=0&&this._header.show;if(this.header.element.toggle(!!this._header.show),this._side=t,this._sided=[\"right\",\"left\"].indexOf(this._side)>=0,this.element.removeClass(\"lm_left lm_right lm_bottom\"),this._side&&this.element.addClass(\"lm_\"+this._side),this.element.find(\".lm_header\").length&&this.childElementContainer){var e=[\"right\",\"bottom\"].indexOf(this._side)>=0?\"before\":\"after\";this.header.element[e](this.childElementContainer),this.callDownwards(\"setSize\")}},_highlightBodyDropZone:function(t){var e=this._contentAreaDimensions[t].highlightArea;this.layoutManager.dropTargetIndicator.highlightArea(e),this._dropSegment=t}}),n.utils.BubblingEvent=function(t,e){this.name=t,this.origin=e,this.isPropagationStopped=!1},n.utils.BubblingEvent.prototype.stopPropagation=function(){this.isPropagationStopped=!0},n.utils.ConfigMinifier=function(){if(this._keys=[\"settings\",\"hasHeaders\",\"constrainDragToContainer\",\"selectionEnabled\",\"dimensions\",\"borderWidth\",\"minItemHeight\",\"minItemWidth\",\"headerHeight\",\"dragProxyWidth\",\"dragProxyHeight\",\"labels\",\"close\",\"maximize\",\"minimize\",\"popout\",\"content\",\"componentName\",\"componentState\",\"id\",\"width\",\"type\",\"height\",\"isClosable\",\"title\",\"popoutWholeStack\",\"openPopouts\",\"parentId\",\"activeItemIndex\",\"reorderEnabled\",\"borderGrabWidth\"],this._keys.length>36)throw new Error(\"Too many keys in config minifier map\");this._values=[!0,!1,\"row\",\"column\",\"stack\",\"component\",\"close\",\"maximize\",\"minimize\",\"open in new window\"]},n.utils.copy(n.utils.ConfigMinifier.prototype,{minifyConfig:function(t){var e={};return this._nextLevel(t,e,\"_min\"),e},unminifyConfig:function(t){var e={};return this._nextLevel(t,e,\"_max\"),e},_nextLevel:function(t,e,n){var o,i;for(o in t)t instanceof Array&&(o=parseInt(o,10)),t.hasOwnProperty(o)&&(i=this[n](o,this._keys),\"object\"==typeof t[o]?(e[i]=t[o]instanceof Array?[]:{},this._nextLevel(t[o],e[i],n)):e[i]=this[n](t[o],this._values))},_min:function(t,e){if(\"string\"==typeof t&&1===t.length)return\"___\"+t;var o=n.utils.indexOf(t,e);return-1===o?t:o.toString(36)},_max:function(t,e){return\"string\"==typeof t&&1===t.length?e[parseInt(t,36)]:\"string\"==typeof t&&\"___\"===t.substr(0,3)?t[3]:t}}),n.utils.EventHub=function(t){n.utils.EventEmitter.call(this),this._layoutManager=t,this._dontPropagateToParent=null,this._childEventSource=null,this.on(n.utils.EventEmitter.ALL_EVENT,n.utils.fnBind(this._onEventFromThis,this)),this._boundOnEventFromChild=n.utils.fnBind(this._onEventFromChild,this),e(window).on(\"gl_child_event\",this._boundOnEventFromChild)},n.utils.EventHub.prototype._onEventFromThis=function(){var t=Array.prototype.slice.call(arguments);this._layoutManager.isSubWindow&&t[0]!==this._dontPropagateToParent&&this._propagateToParent(t),this._propagateToChildren(t),this._dontPropagateToParent=null,this._childEventSource=null},n.utils.EventHub.prototype._$onEventFromParent=function(t){this._dontPropagateToParent=t[0],this.emit.apply(this,t)},n.utils.EventHub.prototype._onEventFromChild=function(t){this._childEventSource=t.originalEvent.__gl,this.emit.apply(this,t.originalEvent.__glArgs)},n.utils.EventHub.prototype._propagateToParent=function(t){var e,n=\"gl_child_event\";document.createEvent?(e=window.opener.document.createEvent(\"HTMLEvents\")).initEvent(n,!0,!0):(e=window.opener.document.createEventObject()).eventType=n,e.eventName=n,e.__glArgs=t,e.__gl=this._layoutManager,document.createEvent?window.opener.dispatchEvent(e):window.opener.fireEvent(\"on\"+e.eventType,e)},n.utils.EventHub.prototype._propagateToChildren=function(t){var e,n;for(n=0;n<this._layoutManager.openPopouts.length;n++)(e=this._layoutManager.openPopouts[n].getGlInstance())&&e!==this._childEventSource&&e.eventHub._$onEventFromParent(t)},n.utils.EventHub.prototype.destroy=function(){e(window).off(\"gl_child_event\",this._boundOnEventFromChild)},n.utils.ReactComponentHandler=function(t,e){this._reactComponent=null,this._originalComponentWillUpdate=null,this._container=t,this._initialState=e,this._reactClass=this._getReactClass(),this._container.on(\"open\",this._render,this),this._container.on(\"destroy\",this._destroy,this)},n.utils.copy(n.utils.ReactComponentHandler.prototype,{_render:function(){this._reactComponent=ReactDOM.render(this._getReactComponent(),this._container.getElement()[0]),this._originalComponentWillUpdate=this._reactComponent.componentWillUpdate||function(){},this._reactComponent.componentWillUpdate=this._onUpdate.bind(this),this._container.getState()&&this._reactComponent.setState(this._container.getState())},_destroy:function(){ReactDOM.unmountComponentAtNode(this._container.getElement()[0]),this._container.off(\"open\",this._render,this),this._container.off(\"destroy\",this._destroy,this)},_onUpdate:function(t,e){this._container.setState(e),this._originalComponentWillUpdate.call(this._reactComponent,t,e)},_getReactClass:function(){var t,e=this._container._config.component;if(!e)throw new Error(\"No react component name. type: react-component needs a field `component`\");if(!(t=this._container.layoutManager.getComponent(e)))throw new Error('React component \"'+e+'\" not found. Please register all components with GoldenLayout using `registerComponent(name, component)`');return t},_getReactComponent:function(){var t={glEventHub:this._container.layoutManager.eventHub,glContainer:this._container},n=e.extend(t,this._container._config.props);return React.createElement(this._reactClass,n)}})}(window.$)}));function i(t){if(t&&t.errorHandling&&\"function\"!=typeof t.errorHandling&&\"log\"!==t.errorHandling&&\"silent\"!==t.errorHandling&&\"throw\"!==t.errorHandling)throw new Error('Invalid options passed to createRegistry. Prop errorHandling should be [\"log\" | \"silent\" | \"throw\" | (err) => void], but '+typeof t.errorHandling+\" was passed\");var e=t&&\"function\"==typeof t.errorHandling&&t.errorHandling,n={};function o(n,o){var i=n instanceof Error?n:new Error(n);if(e)e(i);else{var s='[ERROR] callback-registry: User callback for key \"'+o+'\" failed: '+i.stack;if(t)switch(t.errorHandling){case\"log\":return console.error(s);case\"silent\":return;case\"throw\":throw new Error(s)}console.error(s)}}return{add:function(t,e,i){var s=n[t];return s||(s=[],n[t]=s),s.push(e),i&&setTimeout((function(){i.forEach((function(i){var s;if(null===(s=n[t])||void 0===s?void 0:s.includes(e))try{Array.isArray(i)?e.apply(void 0,i):e.apply(void 0,[i])}catch(e){o(e,t)}}))}),0),function(){var o=n[t];o&&(0===(o=o.reduce((function(t,n,o){return n===e&&t.length===o||t.push(n),t}),[])).length?delete n[t]:n[t]=o)}},execute:function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var s=n[t];if(!s||0===s.length)return[];var r=[];return s.forEach((function(n){try{var i=n.apply(void 0,e);r.push(i)}catch(e){r.push(void 0),o(e,t)}})),r},clear:function(){n={}},clearKey:function(t){n[t]&&delete n[t]}}}i.default=i;var s=i;const r=t=>Array.isArray(t)?t[0]:t,a=(t=[])=>{const e=t=>\"component\"===t.type?t.id?[t]:[]:t.content.reduce(((t,n)=>t=[...t,...e(n)]),[]);return t.reduce(((t,n)=>[...t,...e(n)]),[])},l=t=>{const e=t=>{if(\"component\"===t.type)return t.id?[t]:[];return[...t.content.reduce(((t,n)=>t=[...t,...e(n)]),[]),t]};return t.reduce(((t,n)=>[...t,...e(n)]),[])},c=t=>{const e=$(t)[0].getBoundingClientRect();return{x:Math.round(e.x),y:Math.round(e.y),left:Math.round(e.left),top:Math.round(e.top),width:Math.round(e.width),height:Math.round(e.height)}},d=t=>\"___workspace___\"+t;var h=new class{constructor(){this._idToLayout={}}get layouts(){return Object.values(this._idToLayout)}get workspaceIds(){return Object.keys(this._idToLayout)}get workspaceTitles(){return this.workspaceIds.map((t=>this.getWorkspaceTitle(t)))}set workspaceLayout(t){this._workspaceLayout=t}get workspaceLayout(){return this._workspaceLayout}get workspaceLayoutHeader(){return this._workspaceLayout.root.contentItems[0].header}getWorkspaceLayoutItemById(t){return this.workspaceLayout.root.getItemsById(t)[0]}getById(t){return t=r(t),this._idToLayout[t]}getByContainerId(t){return t=r(t),this._idToLayout[t]||this.getByContainerIdCore(t)}getWorkspaceTitle(t){const e=this.workspaceLayout.root.getItemsById(t)[0];return(null==e?void 0:e.tab.titleElement[0].innerText)||(null==e?void 0:e.config.title)}removeById(t){delete this._idToLayout[t]}removeLayout(t){var e;null===(e=this._idToLayout[t].layout)||void 0===e||e.destroy(),this._idToLayout[t].layout=void 0}addOrUpdate(t,e,n){const o=this.getById(t);if(o)return o.layout=n,void(o.windows=this.mergeWindows(o.windows,e));this._idToLayout[t]={id:t,windows:e,layout:n,hibernatedWindows:[],lastActive:Date.now()}}getWindow(t){const e=r(t);return this.layouts.reduce(((t,n)=>t||n.windows.find((t=>t.id===e||t.windowId===e))),void 0)}getActiveWorkspace(){const t=this.workspaceLayout.root.contentItems[0].getActiveContentItem().config.id;return this.getById(t)}addWindow(t,e){const n=this.getById(e);n.windows=n.windows.filter((e=>e.id!==t.id)),n.windows.push(t)}removeWindow(t,e){const n=this.getById(e);n.windows=n.windows.filter((e=>e.id!==t.id))}getByWindowId(t){t=r(t);const e=this.layouts.find((e=>e.windows.some((e=>e.id===t||e.windowId===t))));return e||this.layouts.find((e=>!!(null==e?void 0:e.layout)&&e.layout.root.getItemsById(t)[0]))}getWindowContentItem(t){const e=this.layouts.filter((t=>t.layout)).reduce(((e,n)=>e||n.layout.root.getItemsById(t)[0]),void 0);if(e&&e.isComponent)return e;const n=this.layouts.filter((t=>t.layout)).reduce(((e,n)=>e||n.layout.root.getItemsByFilter((e=>e.isComponent&&e.config.componentState.windowId===t))[0]),void 0);return(null==n?void 0:n.isComponent)?n:void 0}getContainer(t){t=r(t);return this.layouts.reduce(((t,e)=>(e.layout&&t.push(e.layout),t)),[]).reduce(((e,n)=>{const o=n.root.getItemsById(t)[0];return\"component\"===(null==o?void 0:o.type)?e:e||o}),void 0)}getWorkspaceContext(t){var e,n,o;const i=this.getById(t);return null===(o=null===(n=null===(e=null==i?void 0:i.layout)||void 0===e?void 0:e.config)||void 0===n?void 0:n.workspacesOptions)||void 0===o?void 0:o.context}getWorkspaceContentItem(t){return this.workspaceLayout.root.getItemsById(t)[0]}getWorkspaceTabElement(t){var e;return null===(e=this.getWorkspaceContentItem(t))||void 0===e?void 0:e.tab}getByContainerIdCore(t){return this.layouts.reduce(((t,e)=>(e.layout&&t.push(e),t)),[]).find((e=>e.layout.root.getItemsById(t)[0]))}mergeWindows(t,e){return e.map((e=>{let n=e.windowId;if(!n){const o=t.find((t=>t.id===e.id));n=null==o?void 0:o.windowId}return Object.assign(Object.assign({},e),{windowId:n})}))}};class u{init(t){this.containerElement=$(t)[0],this.setupEvents()}setupEvents(){const t=new MutationObserver((t=>{Array.from(t).forEach((t=>{if(\"childList\"===t.type&&t.target.classList.contains(\"lm_tabs\")){const e=$(t.target);this.handleTabCountChanged(e,Array.from(t.removedNodes))}else if(\"attributes\"===t.type&&t.target.classList.contains(\"lm_stack\")&&\"style\"===t.attributeName){const e=$(t.target);this.handleTabHeaderResized(e)}}))}));return t.observe(this.containerElement,{childList:!0,subtree:!0,attributes:!0,attributeFilter:[\"style\"],attributeOldValue:!1,characterData:!1,characterDataOldValue:!1}),()=>{t.disconnect()}}handleTabCountChanged(t,e){const n=t.children(),o=this.visibleTabs($(t));t.css(\"max-width\",200*o.length+\"px\");const i=t.width()/o.length;Array.from(n).forEach((t=>{$(t).children(\".lm_title\").css(\"max-width\",.75*i+\"px\"),e.length&&this.refreshTabClasses(t)}))}handleTabHeaderResized(t){const e=t.children(\".lm_header\").children(\".lm_tabs\"),n=this.visibleTabs($(e)),o=e.width()/n.length;Array.from(e.children()).forEach((t=>{$(t).children(\".lm_title\").css(\"max-width\",.65*o+\"px\"),this.refreshTabClasses(t)}))}refreshTabClasses(t){const e=$(t).outerWidth(),n=t.classList;e>=25&&e<35?(n.contains(\"lm_tab_mini\")&&n.remove(\"lm_tab_mini\"),n.add(\"lm_tab_small\")):e>=35?(n.remove(\"lm_tab_small\"),n.contains(\"lm_tab_mini\")&&n.remove(\"lm_tab_mini\")):e<25&&(n.remove(\"lm_tab_small\"),n.add(\"lm_tab_mini\"))}visibleTabs(t){return Array.from(t.children()).filter((t=>$(t).is(\":visible\")))}}const p=require(\"resize-observer-polyfill\").default||require(\"resize-observer-polyfill\");var f=new class{constructor(){this.visibilityState={logo:void 0,addWorkspace:void 0,systemButtons:void 0,workspaceContents:[]},this.componentsFactory={},this._decoratedFactory={},this.callbackRegistry=s(),this.observer=new MutationObserver((t=>{Array.from(t).forEach((t=>{const e=t.target,n=this.getWorkspaceIdFromContents(e),o=\"none\"===e.style.display?\"workspace-contents-hidden\":\"workspace-contents-shown\";this.callbackRegistry.execute(o,n)}))}))}get decoratedFactory(){return this._decoratedFactory}init(t,e){this.componentsFactory=e,(null==e?void 0:e.createAddWorkspace)&&(this.decoratedFactory.createAddWorkspace=(...e)=>(this.visibilityState.addWorkspace=[...e,t],this.componentsFactory.createAddWorkspace(...this.visibilityState.addWorkspace))),(null==e?void 0:e.createLogo)&&(this.decoratedFactory.createLogo=(...e)=>(this.visibilityState.logo=[...e,t],this.componentsFactory.createLogo(...this.visibilityState.logo))),(null==e?void 0:e.createSystemButtons)&&(this.decoratedFactory.createSystemButtons=(...n)=>(this.visibilityState.systemButtons=[...n,t],e.createSystemButtons(...this.visibilityState.systemButtons))),(null==e?void 0:e.createWorkspaceContents)&&(this.decoratedFactory.createWorkspaceContents=(...t)=>{var n,o;return this.visibilityState.workspaceContents.push([...t]),this.subscribeForWorkspaceContentsVisibility(null===(n=t[0])||void 0===n?void 0:n.workspaceId),this.subscribeForWorkspaceContentsResize(null===(o=t[0])||void 0===o?void 0:o.workspaceId),e.createWorkspaceContents(...t)})}reInitialize(t){(null==t?void 0:t.createAddWorkspace)&&this.visibilityState.addWorkspace&&t.createAddWorkspace(...this.visibilityState.addWorkspace),(null==t?void 0:t.createLogo)&&this.visibilityState.logo&&t.createLogo(...this.visibilityState.logo),(null==t?void 0:t.createSystemButtons)&&this.visibilityState.systemButtons&&t.createSystemButtons(...this.visibilityState.systemButtons),(null==t?void 0:t.createWorkspaceContents)&&this.visibilityState.workspaceContents.forEach((e=>{t.createWorkspaceContents(...e)})),this.componentsFactory=t}onWorkspaceContentsShown(t){this.callbackRegistry.add(\"workspace-contents-shown\",t)}onWorkspaceContentsHidden(t){this.callbackRegistry.add(\"workspace-contents-hidden\",t)}onWorkspaceContentsResized(t){this.callbackRegistry.add(\"workspace-contents-resized\",t)}subscribeForWorkspaceContentsVisibility(t){const e=document.getElementById(\"nestHere\"+t);e&&this.observer.observe(e,{attributes:!0,attributeFilter:[\"style\"]})}subscribeForWorkspaceContentsResize(t){const e=document.getElementById(\"nestHere\"+t);if(!e)return;new p((()=>{this.callbackRegistry.execute(\"workspace-contents-resized\",t)})).observe(e)}getWorkspaceIdFromContents(t){return t.id.split(\"nestHere\")[1]}};class m{constructor(t,e){this.windowContentItem=t,this.frameId=e}get allowExtract(){var t;return null===(t=this.windowContentItem.config.workspacesConfig.allowExtract)||void 0===t||t}set allowExtract(t){this.windowContentItem.config.workspacesConfig.allowExtract=t}get showCloseButton(){var t;return null===(t=this.windowContentItem.config.workspacesConfig.showCloseButton)||void 0===t||t}set showCloseButton(t){this.windowContentItem.config.workspacesConfig.showCloseButton=t}get isMaximized(){var t,e,n;return!!(null===(t=this.windowContentItem)||void 0===t?void 0:t.parent)&&(null===(n=null===(e=this.windowContentItem)||void 0===e?void 0:e.parent)||void 0===n?void 0:n.isMaximized)}get isSelected(){var t;return r(null===(t=this.windowContentItem)||void 0===t?void 0:t.parent.getActiveContentItem().config.id)===r(this.windowContentItem.config.id)}get index(){var t;return(null===(t=this.windowContentItem.parent)||void 0===t?void 0:t.contentItems.indexOf(this.windowContentItem))||0}get isTabless(){var t,e,n;const o=null===(t=this.windowContentItem)||void 0===t?void 0:t.parent;return!!(null===(n=null===(e=null==o?void 0:o.config)||void 0===e?void 0:e.workspacesConfig)||void 0===n?void 0:n.wrapper)}get summary(){return this.getSummaryCore(this.windowContentItem,r(this.windowContentItem.config.id))}get config(){var t;return null===(t=this.windowContentItem)||void 0===t?void 0:t.config}getSummaryCore(t,e){var n;const o=t.parent.getActiveContentItem().config.id===t.config.id,i=void 0!==t.config.componentState.windowId,s=this.index,a=null===(n=h.getByWindowId(e))||void 0===n?void 0:n.id,{appName:l,url:c,windowId:d}=t.config.componentState,u=this.getUserFriendlyParent(t);return{itemId:r(t.config.id),parentId:r(u.config.id),config:{frameId:this.frameId,isFocused:o,isLoaded:i,positionIndex:s,workspaceId:a,windowId:d,isMaximized:this.isMaximized,appName:l,url:c,title:t.config.title,allowExtract:this.allowExtract,showCloseButton:this.showCloseButton}}}getUserFriendlyParent(t){var e,n,o;return t.parent?(null===(o=null===(n=null===(e=t.parent)||void 0===e?void 0:e.config)||void 0===n?void 0:n.workspacesConfig)||void 0===o?void 0:o.wrapper)?this.getUserFriendlyParent(t.parent):t.parent:t}}class g{constructor(t,e,n){this.containerContentItem=t,this.frameId=e,this.workspaceId=n}get allowDrop(){var t;return null===(t=this.containerContentItem.config.workspacesConfig.allowDrop)||void 0===t||t}set allowDrop(t){this.containerContentItem.config.workspacesConfig.allowDrop=t,this.populateChildrenAllowDrop(t)}get allowExtract(){var t;return null===(t=this.containerContentItem.config.workspacesConfig.allowExtract)||void 0===t||t}set allowExtract(t){this.containerContentItem.config.workspacesConfig.allowExtract=t,this.populateChildrenAllowExtact(t)}get showMaximizeButton(){var t;if(\"stack\"!==this.containerContentItem.config.type)throw new Error(`Accessing showMaximizeButton of container ${this.containerContentItem.type} ${this.containerContentItem.config.id} the property is available only for stacks`);return null===(t=this.containerContentItem.config.workspacesConfig.showMaximizeButton)||void 0===t||t}set showMaximizeButton(t){if(\"stack\"!==this.containerContentItem.config.type)throw new Error(`Setting showMaximizeButton of container ${this.containerContentItem.type} ${this.containerContentItem.config.id} the property is available only for stacks`);this.containerContentItem.config.workspacesConfig.showMaximizeButton=t}get showEjectButton(){var t;if(\"stack\"!==this.containerContentItem.config.type)throw new Error(`Accessing showEjectButton of container ${this.containerContentItem.type} ${this.containerContentItem.config.id} the property is available only for stacks`);return null===(t=this.containerContentItem.config.workspacesConfig.showEjectButton)||void 0===t||t}set showEjectButton(t){if(\"stack\"!==this.containerContentItem.config.type)throw new Error(`Setting showEjectButton of container ${this.containerContentItem.type} ${this.containerContentItem.config.id} the property is available only for stacks`);this.containerContentItem.config.workspacesConfig.showEjectButton=t}get showAddWindowButton(){var t;if(\"stack\"!==this.containerContentItem.config.type)throw new Error(`Accessing showAddWindowButton of container ${this.containerContentItem.type} ${this.containerContentItem.config.id} the property is available only for stacks`);return null===(t=this.containerContentItem.config.workspacesConfig.showAddWindowButton)||void 0===t||t}set showAddWindowButton(t){if(\"stack\"!==this.containerContentItem.config.type)throw new Error(`Setting showAddWindowButton of container ${this.containerContentItem.type} ${this.containerContentItem.config.id} the property is available only for stacks`);this.containerContentItem.config.workspacesConfig.showAddWindowButton=t}get positionIndex(){var t,e;return(null===(e=null===(t=this.containerContentItem)||void 0===t?void 0:t.parent)||void 0===e?void 0:e.contentItems.indexOf(this.containerContentItem))||0}get summary(){var t,e,n;const o=null!==(t=this.workspaceId)&&void 0!==t?t:null===(e=h.getByContainerId(r(this.containerContentItem.config.id)))||void 0===e?void 0:e.id,i=this.getUserFriendlyType((null===(n=this.containerContentItem)||void 0===n?void 0:n.type)||\"workspace\");let s={workspaceId:o,frameId:this.frameId,positionIndex:this.positionIndex,allowDrop:this.allowDrop};return\"group\"===(\"window\"===i?void 0:i)&&(s=Object.assign(Object.assign({},s),{allowExtract:this.allowExtract,showMaximizeButton:this.showMaximizeButton,showEjectButton:this.showEjectButton,showAddWindowButton:this.showAddWindowButton})),{itemId:r(this.containerContentItem.config.id),type:\"window\"===i?void 0:i,config:s}}get config(){const t=(h.getByContainerId(this.containerContentItem.config.id)||h.getByWindowId(r(this.containerContentItem.config.id))).layout.toConfig();return this.findElementInConfig(r(this.containerContentItem.config.id),t)}populateChildrenAllowDrop(t){const e=n=>{n.forEach((n=>{if(\"component\"===n.type)return;new g(n,this.frameId).allowDrop=t,e(n.contentItems)}))};e(this.containerContentItem.contentItems)}populateChildrenAllowExtact(t){const e=n=>{n.forEach((n=>{if(\"component\"!==n.type){if(\"stack\"===n.type){new g(n,this.frameId).allowExtract=t}e(n.contentItems)}else{new m(n,this.frameId).allowExtract=t}}))};e(this.containerContentItem.contentItems)}getUserFriendlyType(t){return\"stack\"===t?\"group\":\"root\"===t?\"workspace\":\"component\"===t?\"window\":t}findElementInConfig(t,e){const n=e=>{if(r(e.id)===t)return[e];return(e.content||[]).reduce(((t,e)=>[...t,...n(e)]),[])};return n(e).find((t=>t.id))}}class w{constructor(t,e,n,o){this.stateResolver=t,this.workspace=e,this.workspaceContentItem=n,this.frameId=o}get id(){return this.workspace.id}get title(){const t=this.workspaceContentItem;return t.config.title||t.config.componentName}get lastFocusedWindowId(){var t,e,n,o,i,s;if(!(null===(t=this.workspace)||void 0===t?void 0:t.layout))return;const a=null===(n=null===(e=this.workspace.layout.config)||void 0===e?void 0:e.workspacesOptions)||void 0===n?void 0:n.focusedWindowId;if(a)return a;{const t=null===(i=null===(o=this.workspace.layout.config)||void 0===o?void 0:o.workspacesOptions)||void 0===i?void 0:i.focusedGroupId,e=this.workspace.layout.root.getItemsById(t)[0];if(e&&\"component\"!==e.type&&e.contentItems.length){return e.contentItems[e.contentItems.length-1].config.id}}return null===(s=this.workspace.windows.filter((t=>this.stateResolver.isWindowSelected(r(t.id))))[0])||void 0===s?void 0:s.id}get isSelected(){const t=h.workspaceLayout.root.getItemsById(this.workspace.id)[0].parent.getActiveContentItem();return r(t.config.id)===this.workspace.id}get isHibernated(){return void 0!==this.workspace.hibernateConfig&&null!==typeof this.workspace.hibernateConfig}get tabIndex(){return h.workspaceLayout.root.getItemsById(this.workspace.id)[0].parent.header.tabs.findIndex((t=>r(t.contentItem.config.id)===this.workspace.id))}get config(){const t=this.workspace;if(this.isHibernated)return t.hibernateConfig;const e=t.layout?t.layout.toConfig():{workspacesOptions:{},content:[],id:t.id};return e.workspacesOptions.frameId=this.frameId,e.workspacesOptions.positionIndex=this.tabIndex,e.workspacesOptions.isHibernated=this.isHibernated,e.workspacesOptions.isSelected=this.isSelected,e.workspacesOptions.allowDrop=this.allowDrop,e.workspacesOptions.allowDropLeft=this.allowDropLeft,e.workspacesOptions.allowDropTop=this.allowDropTop,e.workspacesOptions.allowDropRight=this.allowDropRight,e.workspacesOptions.allowDropBottom=this.allowDropBottom,e.workspacesOptions.allowExtract=this.allowExtract,e.workspacesOptions.showCloseButton=this.showCloseButton,e.workspacesOptions.showSaveButton=this.showSaveButton,e.workspacesOptions.allowSplitters=this.allowSplitters,e.workspacesOptions.lastActive=t.lastActive,e.workspacesOptions.title||(e.workspacesOptions.title=h.getWorkspaceTitle(t.id)),e.workspacesOptions.name=e.workspacesOptions.name||e.workspacesOptions.title,this.transformComponentsToWindowSummary(e),this.transformParentsToContainerSummary(e),e}get summary(){const t=this.config,e=this.tabIndex,n={frameId:this.frameId,positionIndex:e,title:t.workspacesOptions.title||t.title,name:t.workspacesOptions.name||h.getWorkspaceTitle(this.workspace.id),layoutName:t.workspacesOptions.layoutName,isHibernated:this.isHibernated,isSelected:this.isSelected,lastActive:this.workspace.lastActive,allowDrop:this.allowDrop,allowDropLeft:this.allowDropLeft,allowDropTop:this.allowDropTop,allowDropRight:this.allowDropRight,allowDropBottom:this.allowDropBottom,allowExtract:this.allowExtract,allowSplitters:this.allowSplitters,showCloseButton:this.showCloseButton,showSaveButton:this.showSaveButton};return t.workspacesOptions.layoutName&&(n.layoutName=t.workspacesOptions.layoutName),{config:n,id:this.workspace.id}}get allowDrop(){var t;let e;return e=(null===(t=this.workspace)||void 0===t?void 0:t.layout)?this.workspace.layout.config.workspacesOptions.allowDrop:this.workspaceContentItem.config.workspacesConfig.allowDrop,null==e||e}set allowDrop(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.allowDrop=t),this.workspaceContentItem.config.workspacesConfig.allowDrop=t,this.populateChildrenAllowDrop(t)}get allowDropLeft(){var t;let e;return e=(null===(t=this.workspace)||void 0===t?void 0:t.layout)?this.workspace.layout.config.workspacesOptions.allowDropLeft:this.workspaceContentItem.config.workspacesConfig.allowDropLeft,null==e||e}set allowDropLeft(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.allowDropLeft=t),this.workspaceContentItem.config.workspacesConfig.allowDropLeft=t}get allowDropTop(){var t;let e;return e=(null===(t=this.workspace)||void 0===t?void 0:t.layout)?this.workspace.layout.config.workspacesOptions.allowDropTop:this.workspaceContentItem.config.workspacesConfig.allowDropTop,null==e||e}set allowDropTop(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.allowDropTop=t),this.workspaceContentItem.config.workspacesConfig.allowDropTop=t}get allowDropRight(){var t;let e;return e=(null===(t=this.workspace)||void 0===t?void 0:t.layout)?this.workspace.layout.config.workspacesOptions.allowDropRight:this.workspaceContentItem.config.workspacesConfig.allowDropRight,null==e||e}set allowDropRight(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.allowDropRight=t),this.workspaceContentItem.config.workspacesConfig.allowDropRight=t}get allowDropBottom(){var t;let e;return e=(null===(t=this.workspace)||void 0===t?void 0:t.layout)?this.workspace.layout.config.workspacesOptions.allowDropBottom:this.workspaceContentItem.config.workspacesConfig.allowDropBottom,null==e||e}set allowDropBottom(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.allowDropBottom=t),this.workspaceContentItem.config.workspacesConfig.allowDropBottom=t}get allowExtract(){var t;let e;return e=(null===(t=this.workspace)||void 0===t?void 0:t.layout)?this.workspace.layout.config.workspacesOptions.allowExtract:this.workspaceContentItem.config.workspacesConfig.allowExtract,null==e||e}set allowExtract(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.allowExtract=t),this.workspaceContentItem.config.workspacesConfig.allowExtract=t,this.populateChildrenAllowExtract(t)}get allowSplitters(){var t;let e;return e=(null===(t=this.workspace)||void 0===t?void 0:t.layout)?this.workspace.layout.config.workspacesOptions.allowSplitters:this.workspaceContentItem.config.workspacesConfig.allowSplitters,null==e||e}set allowSplitters(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.allowSplitters=t),this.workspaceContentItem.config.workspacesConfig.allowSplitters=t}get showSaveButton(){var t;let e;return e=(null===(t=this.workspace)||void 0===t?void 0:t.layout)?this.workspace.layout.config.workspacesOptions.showSaveButton:this.workspaceContentItem.config.workspacesConfig.showSaveButton,null==e||e}set showSaveButton(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.showSaveButton=t),this.workspaceContentItem.config.workspacesConfig.showSaveButton=t}get showCloseButton(){var t;let e;return e=(null===(t=this.workspace)||void 0===t?void 0:t.layout)?this.workspace.layout.config.workspacesOptions.showCloseButton:this.workspaceContentItem.config.workspacesConfig.showCloseButton,null==e||e}set showCloseButton(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.showCloseButton=t),this.workspaceContentItem.config.workspacesConfig.showCloseButton=t}get showAddWindowButtons(){var t;let e;return e=(null===(t=this.workspace)||void 0===t?void 0:t.layout)?this.workspace.layout.config.workspacesOptions.showAddWindowButtons:this.workspaceContentItem.config.workspacesConfig.showAddWindowButtons,null==e||e}set showAddWindowButtons(t){var e;(null===(e=this.workspace)||void 0===e?void 0:e.layout)&&(this.workspace.layout.config.workspacesOptions.showAddWindowButtons=t),this.workspaceContentItem.config.workspacesConfig.showAddWindowButtons=t}transformComponentsToWindowSummary(t){var e;if(\"component\"!==t.type||\"emptyVisibleWindow\"!==t.componentName){if(\"component\"===t.type){const e=this.stateResolver.getWindowSummarySync(t.id);return t.workspacesConfig=t.workspacesConfig||{},void(t.workspacesConfig=Object.assign(Object.assign({},t.workspacesConfig),e.config))}null===(e=t.content)||void 0===e||e.map((t=>this.transformComponentsToWindowSummary(t)))}}transformParentsToContainerSummary(t){var e;if(\"component\"!==t.type){if(\"stack\"===t.type||\"row\"===t.type||\"column\"===t.type){const e=this.stateResolver.getContainerSummary(t.id);t.workspacesConfig=t.workspacesConfig||{},t.workspacesConfig=Object.assign(Object.assign({},t.workspacesConfig),e.config)}null===(e=t.content)||void 0===e||e.map((t=>this.transformParentsToContainerSummary(t)))}}populateChildrenAllowDrop(t){const{layout:e}=this.workspace;if(!e)return;const n=e=>{if(\"component\"===e.type)return;new g(e,this.frameId,this.workspace.id).allowDrop=t,e.contentItems.forEach((t=>{n(t)}))};e.root.contentItems.forEach((t=>{n(t)}))}populateChildrenAllowExtract(t){const{layout:e}=this.workspace;if(!e)return;const n=e=>{if(\"component\"!==e.type){if(\"stack\"===e.type){new g(e,this.frameId,this.workspace.id).allowExtract=t}e.contentItems.forEach((t=>{n(t)}))}else{new m(e,this.frameId).allowExtract=t}};e.root.contentItems.forEach((t=>{n(t)}))}}class y{constructor(){this.hibernatedWorkspaceIconLabel=\"hibernated\"}hideWindowAddButtons(t){document.querySelectorAll(`#nestHere${t} .lm_add_button`).forEach((t=>$(t).hide()))}showWindowAddButtons(t){h.getById(t).layout.root.getItemsByType(\"stack\").forEach((t=>{this.showAddWindowButton(r(t.config.id))}))}showWorkspaceSaveButton(t){const e=h.getWorkspaceTabElement(t);e.element.hasClass(y.HibernationIconClass)||e.element.children(\".lm_saveButton\").show()}hideWorkspaceSaveButton(t){const e=h.getWorkspaceTabElement(t);e.element.hasClass(y.HibernationIconClass)||e.element.children(\".lm_saveButton\").hide()}showHibernationIcon(t){const e=h.getWorkspaceTabElement(t);if(!e)return;const n=e.element.children(\".lm_saveButton\");n.is(\":visible\")||n.show(),n.addClass(y.HibernationIconClass),n.attr(\"title\",this.hibernatedWorkspaceIconLabel)}showSaveIcon(t){const e=h.getWorkspaceTabElement(t),n=h.getById(t);if(!e)return;const o=e.element.children(\".lm_saveButton\");o.removeClass(y.HibernationIconClass),o.attr(\"title\",y.SaveWorkspaceButtonLabel),n.layout&&!1===n.layout.config.workspacesOptions.showSaveButton&&o.hide()}showWorkspaceCloseButton(t){const e=h.getWorkspaceTabElement(t);if(!e)return;e.element.children(\".lm_close_tab\").show()}hideWorkspaceCloseButton(t){const e=h.getWorkspaceTabElement(t);if(!e)return;e.element.children(\".lm_close_tab\").hide()}makeContentInvisible(){$(\".lm_item_container .lm_content .lm_item_container .lm_content\").addClass(\"transparent-color\")}showWindowCloseButton(t){let e;e=\"string\"==typeof t?h.getWindowContentItem(t):t,e.tab.closeElement.show()}hideWindowCloseButton(t){let e;e=\"string\"==typeof t?h.getWindowContentItem(t):t,e.tab.closeElement.hide()}showMaximizeButton(t){let e;if(e=\"string\"==typeof t?h.getContainer(t):t,\"stack\"!==e.type)throw new Error(`Cannot show maximize button of ${e.type} ${e.config.id}`);const n=e.header.element.children(\".lm_controls\").children(\".lm_maximise\");n&&n.show()}hideMaximizeButton(t){let e;if(e=\"string\"==typeof t?h.getContainer(t):t,\"stack\"!==e.type)throw new Error(`Cannot hide maximize button of ${e.type} ${e.config.id}`);const n=e.header.element.children(\".lm_controls\").children(\".lm_maximise\");n&&n.hide()}showEjectButton(t){let e;if(e=\"string\"==typeof t?h.getContainer(t):t,\"stack\"!==e.type)throw new Error(`Cannot show eject button of ${e.type} ${e.config.id}`);const n=e.header.element.children(\".lm_controls\").children(\".lm_popout\");n&&n.show()}hideEjectButton(t){let e;if(e=\"string\"==typeof t?h.getContainer(t):t,\"stack\"!==e.type)throw new Error(`Cannot hide eject button of ${e.type} ${e.config.id}`);const n=e.header.element.children(\".lm_controls\").children(\".lm_popout\");n&&n.hide()}showAddWindowButton(t){let e;if(e=\"string\"==typeof t?h.getContainer(t):t,\"stack\"!==e.type)throw new Error(`Cannot show add window button of ${e.type} ${e.config.id}`);if(!1===e.config.workspacesConfig.showAddWindowButton)return;const n=e.header.element.children(\".lm_controls\").children(\".lm_add_button\");n&&n.show()}hideAddWindowButton(t){let e;if(e=\"string\"==typeof t?h.getContainer(t):t,\"stack\"!==e.type)throw new Error(`Cannot hide add window button of ${e.type} ${e.config.id}`);const n=e.header.element.children(\".lm_controls\").children(\".lm_add_button\");n&&n.hide()}}y.HibernationIconClass=\"lm_hibernationIcon\",y.SaveWorkspaceButtonLabel=\"save\";var v=new y;const _=require(\"resize-observer-polyfill\").default||require(\"resize-observer-polyfill\");class C{constructor(t,e,n,o){this._maximizedId=\"__glMaximised\",this._workspaceLayoutElementId=\"#outter-layout-container\",this._registry=s(),this._emptyVisibleWindowName=\"emptyVisibleWindow\",this._stackMaximizeLabel=\"maximize\",this._stackRestoreLabel=\"restore\",this._options=n,this._emitter=t,this._stateResolver=e,this._configFactory=o}get emitter(){return this._emitter}get bounds(){return c(document.getElementById(\"outter-layout-container\"))}init(e){return t(this,void 0,void 0,(function*(){this._frameId=e.frameId,this._showLoadingIndicator=e.showLoadingIndicator;(new u).init(this._workspaceLayoutElementId),yield this.initWorkspaceConfig(e.workspaceLayout),this.refreshLayoutSize(),yield Promise.all(e.workspaceConfigs.map((e=>t(this,void 0,void 0,(function*(){yield this.initWorkspaceContents(e.id,e.config,!1),this.emitter.raiseEvent(\"workspace-added\",{workspace:h.getById(e.id)})}))))),this.setupOuterLayout(),h.workspaceIds.forEach((t=>{this.setupContentLayouts(t)}))}))}addWindow(e,n){return t(this,void 0,void 0,(function*(){n=n||r(h.workspaceLayout.root.contentItems[0].getActiveContentItem().config.id);const t=h.getByContainerId(n);if(this._stateResolver.isWorkspaceHibernated(t.id))throw new Error(`Could not add window to ${t.id} because its hibernated`);if(!t.layout)return this.hideAddButton(t.id),void(yield this.initWorkspaceContents(t.id,e,!0));const o=t.layout._maximizedItem;o&&o.toggleMaximise();let i=t.layout.root.getItemsByFilter((t=>t.isColumn||t.isRow))[0];n&&n!==t.id&&(i=t.layout.root.getItemsById(n)[0]),i||(i=t.layout.root.getItemsByFilter((t=>t.isStack))[0]);const{placementId:s,windowId:c,url:d,appName:u}=this.getWindowInfoFromConfig(e);this.registerWindowComponent(t.layout,r(s));const p=i.getComponentsByName(this._emptyVisibleWindowName)[0],f=h.getWorkspaceContentItem(t.id),m=new w(this._stateResolver,t,f,this._frameId);if(\"component\"===e.type)this.applyLockConfig(e,i,m,n===t.id);else{[...l(e.content),e].forEach((e=>{this.applyLockConfig(e,i,m,n===t.id)}))}return new Promise((n=>{var o;const r=this.emitter.onContentComponentCreated((t=>{t.config.id===s&&(r(),n())}));if(\"stack\"===t.layout.root.contentItems[0].type&&\"component\"!==e.type&&(e=a([e])[0]),p&&!(null===(o=p.parent.config.workspacesConfig)||void 0===o?void 0:o.wrapper)){const t=this._configFactory.wrapInGroup([e]);return t.workspacesConfig.wrapper=!1,void p.parent.parent.replaceChild(p.parent,t)}p?p.parent.replaceChild(p,e):i.addChild(e)}))}))}addContainer(e,n){var o;return t(this,void 0,void 0,(function*(){const t=h.getByContainerId(n);if(this._stateResolver.isWorkspaceHibernated(t.id))throw new Error(`Could not add container to ${t.id} because its hibernated`);if(!t.layout){const n=e.id||this._configFactory.getId();return e&&(e.id=n),this.hideAddButton(t.id),yield this.initWorkspaceContents(t.id,e,!0),r(n)}const i=t.layout._maximizedItem;i&&i.toggleMaximise();let s=t.layout.root.getItemsByFilter((t=>t.isColumn||t.isRow))[0];if(n&&(s=t.layout.root.getItemsById(n)[0]),s||(s=t.layout.root.getItemsByFilter((t=>t.isStack))[0]),t.id===n&&(\"column\"===e.type||\"stack\"===e.type?this.bundleWorkspace(t.id,\"row\"):\"row\"===e.type&&this.bundleWorkspace(t.id,\"column\"),s=t.layout.root.contentItems[0]),e.content&&a(e.content).forEach((e=>{this.registerWindowComponent(t.layout,r(e.id))})),e.content){const o=[...l(e.content),e],i=h.getWorkspaceContentItem(t.id),r=new w(this._stateResolver,t,i,this._frameId);o.forEach((e=>{this.applyLockConfig(e,s,r,n===t.id)}))}if(\"component\"===s.type)throw new Error(\"The target item for add container can't be a component\");const c=s.contentItems.find((t=>\"stack\"===t.type&&!0===t.config.workspacesConfig.wrapper)),d=(null===(o=null==c?void 0:c.contentItems[0])||void 0===o?void 0:o.config.componentName)===this._emptyVisibleWindowName;return new Promise(((n,o)=>{let i=()=>{};const a=setTimeout((()=>{i(),o(`Component with id ${e.id} could not be created in 10000ms`)}),1e4);if(i=this.emitter.onContentItemCreated(((o,s)=>{o===t.id&&s.type===e.type&&(n(r(s.config.id)),i(),clearTimeout(a))})),1===(null==c?void 0:c.contentItems.length)&&d){const t=s.getComponentsByName(this._emptyVisibleWindowName)[0];t.parent.replaceChild(t,e)}else s.addChild(e)}))}))}closeContainer(t){const e=h.getByContainerId(t)||h.getByWindowId(t);if(!e)throw new Error(`Could not find container ${t} to close in any workspace`);e.layout.root.getItemsById(t)[0].remove()}bundleWorkspace(t,e){const n=h.getById(t),o=n.layout.root.contentItems.map((t=>this._stateResolver.getContainerConfig(t.config.id))),i=n.layout.root.contentItems[0],s={type:e,content:o,workspacesConfig:{}};n.layout.root.replaceChild(i,s)}hideAddButton(t){$(\"#nestHere\"+t).children(\".add-button\").hide()}showAddButton(t){$(\"#nestHere\"+t).children(\".add-button\").show()}addWorkspace(e,n){var o,i;return t(this,void 0,void 0,(function*(){const t=h.workspaceLayout.root.getItemsByFilter((t=>t.isStack))[0],s={componentName:this._configFactory.getWorkspaceLayoutComponentName(e),type:\"component\",workspacesConfig:{},id:e,noTabHeader:null===(o=n.workspacesOptions)||void 0===o?void 0:o.noTabHeader,title:(null===(i=null==n?void 0:n.workspacesOptions)||void 0===i?void 0:i.title)||this._configFactory.getWorkspaceTitle(h.workspaceTitles)};this.registerWorkspaceComponent(e),t.addChild(s,void 0,!s.noTabHeader),yield this.initWorkspaceContents(e,n,!1),this.setupContentLayouts(e),this.emitter.raiseEvent(\"workspace-added\",{workspace:h.getById(e)})}))}reinitializeWorkspace(t,e){var n;return h.removeLayout(t),(null===(n=e.workspacesOptions)||void 0===n?void 0:n.reuseWorkspaceId)&&delete e.workspacesOptions.reuseWorkspaceId,this.initWorkspaceContents(t,e,!1)}removeWorkspace(t){const e=h.getWorkspaceLayoutItemById(t);if(!e)throw new Error(\"Could find workspace to remove with id \"+t);h.removeById(t),e.remove()}changeTheme(t){const e=document.getElementsByTagName(\"html\")[0];\"light\"===t?e.classList.contains(t)||(e.classList.remove(\"dark\"),e.classList.add(t)):e.classList.contains(t)||(e.classList.remove(\"light\"),e.classList.add(t));const n=$(\"link[href='./dist/glue42-light-theme.css']\");(0===n.length?$(\"link[href='./dist/glue42-dark-theme.css']\"):n).attr(\"href\",`./dist/glue42-${t}-theme.css`)}getDragElement(){return $(\".lm_dragProxy\")[0]}setDragElementSize(t,e){const n=this.getDragElement();if(n){n.setAttribute(\"width\",t+\"px\"),n.setAttribute(\"height\",e+\"px\");const o=$(n).children(\".lm_content\").children(\".lm_item_container\")[0];o.setAttribute(\"width\",t+\"px\"),o.setAttribute(\"height\",e+\"px\"),o.setAttribute(\"style\",\"\")}else{const n=new MutationObserver((o=>{let i;Array.from(o).forEach((t=>{const e=$(t.addedNodes);i||(i=e.find(\".lm_dragProxy\"))})),i&&(n.disconnect(),this.setDragElementSize(t,e))}));n.observe($(\"body\")[0],{childList:!0,subtree:!0})}}removeLayoutElement(t){let e;return h.layouts.filter((t=>t.layout)).forEach((n=>{const o=n.layout.root.getItemsById(t)[0];o&&n.windows.find((e=>e.id===t))&&(n.windows=n.windows.filter((e=>e.id!==t)),o.remove(),e=n)})),e}setWindowTitle(t,e){const n=h.getWindowContentItem(t);if(!n)throw new Error(`Could not find window ${t} to change its title to ${e}`);n.setTitle(e),n.config.componentState.title=e}setWorkspaceTitle(t,e){h.getWorkspaceLayoutItemById(t).setTitle(e)}focusWindow(t){const e=h.getByWindowId(t);if(!e)throw new Error(\"Could not find workspace for window \"+t);if(this._stateResolver.isWorkspaceHibernated(e.id))throw new Error(`Could not focus window ${t} because the workspace ${e.id} is hibernated`);const n=e.layout.root.getItemsById(t)[0];n.parent.setActiveContentItem(n)}focusWorkspace(t){const e=h.getWorkspaceLayoutItemById(t);e.parent.setActiveContentItem(e)}maximizeWindow(t){const e=h.getByWindowId(t);if(!e)throw new Error(\"Could not find workspace for window \"+t);if(this._stateResolver.isWorkspaceHibernated(e.id))throw new Error(`Could not maximize window ${t} because the workspace ${e.id} is hibernated`);const n=e.layout.root.getItemsById(t)[0];n.parent.hasId(this._maximizedId)||n.parent.toggleMaximise()}restoreWindow(t){const e=h.getByWindowId(t);if(!e)throw new Error(\"Could not find workspace for window \"+t);if(this._stateResolver.isWorkspaceHibernated(e.id))throw new Error(`Could not restore window ${t} because the workspace ${e.id} is hibernated`);const n=e.layout.root.getItemsById(t)[0];n.parent.hasId(this._maximizedId)&&n.parent.toggleMaximise()}showLoadedWindow(e,n){return t(this,void 0,void 0,(function*(){yield this.waitForWindowContainer(e);const t=h.getWindowContentItem(e),o=h.getByWindowId(e),i=t.config;i.componentState.windowId=n,o.windows.find((t=>t.id===e)).windowId=n,t.parent.replaceChild(t,i)}))}isWindowVisible(t){t=r(t);const e=h.getWindowContentItem(t).parent;return 1===e.contentItems.length||e.getActiveContentItem().config.id===t}showHibernationIcon(t){var e;const n=null===(e=h.getWorkspaceContentItem(t))||void 0===e?void 0:e.tab;if(!n)return;const o=n.element.children(\".lm_saveButton\");o.addClass(\"lm_hibernationIcon\"),o.attr(\"title\",\"hibernated\")}showSaveIcon(t){var e;const n=null===(e=h.getWorkspaceContentItem(t))||void 0===e?void 0:e.tab;if(!n)return void console.error(\"Could not find the tab for\",t);const o=n.element.children(\".lm_saveButton\");o.removeClass(\"lm_hibernationIcon\"),o.attr(\"title\",\"save\")}hideLoadingIndicator(t){const e=h.getWindowContentItem(t);if(e){const t=e.tab.element[0].getElementsByClassName(\"lm_hibernationIcon\")[0];null==t||t.remove()}}refreshWorkspaceSize(t){const e=document.getElementById(\"nestHere\"+t),n=h.getById(t);if(e&&n.layout){const t=c(e);n.layout.updateSize(t.width,t.height)}}enableWorkspaceDrop(t,e){const n=h.getWorkspaceContentItem(t),o=h.getById(t),i=new w(this._stateResolver,o,n,this._frameId);i.allowDrop=e.allowDrop,i.allowDropLeft=e.allowDropLeft,i.allowDropTop=e.allowDropTop,i.allowDropRight=e.allowDropRight,i.allowDropBottom=e.allowDropBottom}disableWorkspaceDrop(t,e){const n=h.getWorkspaceContentItem(t),o=h.getById(t),i=new w(this._stateResolver,o,n,this._frameId);i.allowDropLeft=e.allowDropLeft,i.allowDropTop=e.allowDropTop,i.allowDropRight=e.allowDropRight,i.allowDropBottom=e.allowDropBottom}enableWindowAddButtons(t){const e=h.getById(t),n=h.getWorkspaceContentItem(t);new w(this._stateResolver,e,n,this._frameId).showAddWindowButtons=!0,v.showWindowAddButtons(t)}disableWindowAddButtons(t){const e=h.getById(t),n=h.getWorkspaceContentItem(t);new w(this._stateResolver,e,n,this._frameId).showAddWindowButtons=!1,v.hideWindowAddButtons(t)}enableWorkspaceSaveButton(t){const e=h.getById(t),n=h.getWorkspaceContentItem(t);new w(this._stateResolver,e,n,this._frameId).showSaveButton=!0,v.showWorkspaceSaveButton(t)}disableWorkspaceSaveButton(t){const e=h.getById(t),n=h.getWorkspaceContentItem(t);new w(this._stateResolver,e,n,this._frameId).showSaveButton=!1,v.hideWorkspaceSaveButton(t)}enableWorkspaceCloseButton(t){const e=h.getById(t),n=h.getWorkspaceContentItem(t);new w(this._stateResolver,e,n,this._frameId).showCloseButton=!0,v.showWorkspaceCloseButton(t)}disableWorkspaceCloseButton(t){const e=h.getById(t),n=h.getWorkspaceContentItem(t);new w(this._stateResolver,e,n,this._frameId).showCloseButton=!1,v.hideWorkspaceCloseButton(t)}enableSplitters(t){const e=h.getById(t),n=h.getWorkspaceContentItem(t);new w(this._stateResolver,e,n,this._frameId).allowSplitters=!0}disableSplitters(t){const e=h.getById(t),n=h.getWorkspaceContentItem(t);new w(this._stateResolver,e,n,this._frameId).allowSplitters=!1}enableWorkspaceExtract(t){const e=h.getById(t),n=h.getWorkspaceContentItem(t);new w(this._stateResolver,e,n,this._frameId).allowExtract=!0}disableWorkspaceExtract(t){const e=h.getById(t),n=h.getWorkspaceContentItem(t);new w(this._stateResolver,e,n,this._frameId).allowExtract=!1}enableWindowExtract(t,e){const n=h.getWindowContentItem(t);new m(n,this._frameId).allowExtract=e}disableWindowExtract(t){const e=h.getWindowContentItem(t);new m(e,this._frameId).allowExtract=!1}enableWindowCloseButton(t,e){const n=h.getWindowContentItem(t);new m(n,this._frameId).showCloseButton=e;const o=h.getByWindowId(t),i=h.getWorkspaceContentItem(o.id);new w(this._stateResolver,o,i,this._frameId).showCloseButton&&v.showWindowCloseButton(t)}disableWindowCloseButton(t){const e=h.getWindowContentItem(t);new m(e,this._frameId).showCloseButton=!1,v.hideWindowCloseButton(t)}enableColumnDrop(t,e){const n=h.getContainer(t);if(\"column\"!==n.type)throw new Error(`Expected item with type column but received ${n.type} ${t}`);new g(n,this._frameId).allowDrop=e}disableColumnDrop(t){const e=h.getContainer(t);if(\"column\"!==e.type)throw new Error(`Expected item with type column but received ${e.type} ${t}`);new g(e,this._frameId).allowDrop=!1}enableRowDrop(t,e){const n=h.getContainer(t);if(\"row\"!==n.type)throw new Error(`Expected item with type row but received ${n.type} ${t}`);new g(n,this._frameId).allowDrop=e}disableRowDrop(t){const e=h.getContainer(t);if(\"row\"!==e.type)throw new Error(`Expected item with type row but received ${e.type} ${t}`);new g(e,this._frameId).allowDrop=!1}enableGroupDrop(t,e){const n=h.getContainer(t);if(\"stack\"!==n.type)throw new Error(`Expected item with type stack but received ${n.type} ${t}`);new g(n,this._frameId).allowDrop=e}disableGroupDrop(t){const e=h.getContainer(t);if(\"stack\"!==e.type)throw new Error(`Expected item with type stack but received ${e.type} ${t}`);new g(e,this._frameId).allowDrop=!1}enableGroupMaximizeButton(t,e){const n=h.getContainer(t);if(\"stack\"!==n.type)throw new Error(`Expected item with type stack but received ${n.type} ${t}`);new g(n,this._frameId).showMaximizeButton=e,v.showMaximizeButton(t)}disableGroupMaximizeButton(t){const e=h.getContainer(t);if(\"stack\"!==e.type)throw new Error(`Expected item with type stack but received ${e.type} ${t}`);new g(e,this._frameId).showMaximizeButton=!1,v.hideMaximizeButton(t)}enableGroupEjectButton(t,e){const n=h.getContainer(t);if(\"stack\"!==n.type)throw new Error(`Expected item with type stack but received ${n.type} ${t}`);new g(n,this._frameId).showEjectButton=e,v.showEjectButton(t)}disableGroupEjectButton(t){const e=h.getContainer(t);if(\"stack\"!==e.type)throw new Error(`Expected item with type stack but received ${e.type} ${t}`);new g(e,this._frameId).showEjectButton=!1,v.hideEjectButton(t)}enableGroupAddWindowButton(t,e){const n=h.getContainer(t);if(\"stack\"!==n.type)throw new Error(`Expected item with type stack but received ${n.type} ${t}`);new g(n,this._frameId).showAddWindowButton=e,v.showAddWindowButton(t)}disableGroupAddWindowButton(t){const e=h.getContainer(t);if(\"stack\"!==e.type)throw new Error(`Expected item with type stack but received ${e.type} ${t}`);new g(e,this._frameId).showAddWindowButton=!1,v.hideAddWindowButton(t)}enableGroupExtract(t,e){const n=h.getContainer(t);if(\"stack\"!==n.type)throw new Error(`Expected item with type stack but received ${n.type} ${t}`);new g(n,this._frameId).allowExtract=e}disableGroupExtract(t){const e=h.getContainer(t);if(\"stack\"!==e.type)throw new Error(`Expected item with type stack but received ${e.type} ${t}`);new g(e,this._frameId).allowExtract=!1}initWorkspaceContents(t,e,n){if(!e||\"component\"!==e.type&&!e.content.length)return h.addOrUpdate(t,[]),this.showAddButton(t),Promise.resolve();const i=((t,e)=>{let n,o,i=0;const s=setTimeout((()=>{o()}),e||1e4);return{reject:t=>{clearTimeout(s),o(t)},signal:()=>{i++,i>=t&&(clearTimeout(s),n())},promise:new Promise(((t,e)=>{n=t,o=e}))}})(2);e.settings||(e.settings=this._configFactory.getDefaultWorkspaceSettings()),e.type&&\"workspace\"!==e.type&&(e={settings:this._configFactory.getDefaultWorkspaceSettings(),content:[{type:\"column\",content:[e],workspacesConfig:{}}]}),\"component\"!==e.type&&\"stack\"===e.content[0].type&&(e=Object.assign(Object.assign({},e),{content:[{type:\"column\",content:e.content,workspacesConfig:{}}]}));const s=h.getWorkspaceContentItem(t),l=s.config.workspacesConfig,d=e.workspacesOptions,u=n?Object.assign({},l,d):d;s.config.workspacesConfig=u,e.workspacesOptions=u;const p=new o(e,$(\"#nestHere\"+t));h.addOrUpdate(t,[]),this.registerEmptyWindowComponent(p,t),a(e.content).forEach((t=>{this.registerWindowComponent(p,r(t.id))}));const f=$(\"#nestHere\"+t);return new _((()=>{this.emitter.raiseEvent(\"workspace-container-resized\",{workspaceId:t})})).observe(f[0]),p.on(\"initialised\",(()=>{const e=a(p.toConfig().content);h.addOrUpdate(t,e.map((t=>{const e=p.root.getItemsById(r(t.id))[0].element;return{id:r(t.id),bounds:c(e),windowId:t.componentState.windowId}})),p),this.emitter.raiseEventWithDynamicName(\"content-layout-initialised-\"+t),this.emitter.raiseEvent(\"content-layout-init\",{layout:p});const n=f.width(),o=f.height();p.updateSize(n,o),i.signal()})),p.on(\"stateChanged\",(()=>{this.emitter.raiseEvent(\"content-layout-state-changed\",{layoutId:t})})),p.on(\"itemCreated\",(e=>{var n;if(e.isComponent)e.on(\"size-changed\",(()=>{const n=h.getById(t).windows.find((t=>t.id===e.config.id));n&&(n.bounds=c(e.element));const o=e.config.id;this.emitter.raiseEvent(\"content-item-resized\",{target:e.element[0],id:r(o)})})),(e.config.componentName===this._emptyVisibleWindowName||(null===(n=e.parent)||void 0===n?void 0:n.config.workspacesConfig.wrapper))&&e.tab.header.position(!1);else{if(e.isRoot)return void(e.id&&e.id.length||e.addId(t));e.config.id&&e.config.id.length||e.addId(this._configFactory.getId())}this.emitter.raiseEvent(\"content-item-created\",{workspaceId:t,item:e})})),p.on(\"stackCreated\",(e=>{const n=new g(e,this._frameId),o=document.createElement(\"li\");o.classList.add(\"lm_add_button\"),o.onclick=n=>{n.stopPropagation(),this.emitter.raiseEvent(\"add-button-clicked\",{args:{laneId:r(e.config.id),workspaceId:t,bounds:c(o)}})};const i=$(e.element).children(\".lm_header\").children(\".lm_controls\").children(\".lm_maximise\");i.addClass(\"workspace_content\"),!1===n.showMaximizeButton&&v.hideMaximizeButton(e);e.element.children(\".lm_header\").children(\".lm_controls\").children(\".lm_popout\")[0];!1===n.showEjectButton&&v.hideEjectButton(e),e.on(\"maximized\",(()=>{i.addClass(\"lm_restore\"),i.attr(\"title\",this._stackRestoreLabel),this.emitter.raiseEvent(\"stack-maximized\",{stack:e})})),e.on(\"minimized\",(()=>{i.removeClass(\"lm_restore\"),i.attr(\"title\",this._stackMaximizeLabel),this.emitter.raiseEvent(\"stack-restored\",{stack:e})})),this._options.disableCustomButtons||e.header.controlsContainer.prepend($(o)),!1===p.config.workspacesOptions.showAddWindowButtons&&v.hideAddWindowButton(e),!1===n.showAddWindowButton&&v.hideAddWindowButton(e),e.on(\"activeContentItemChanged\",(()=>{const t=e.getActiveContentItem();if(!t.isComponent)return;const n=t.config.id,o=[{id:r(t.config.id),bounds:c(t.element),windowId:t.config.componentState.windowId,appName:t.config.componentState.appName,url:t.config.componentState.url}],i=e.header.tabs.reduce(((t,e)=>{const n=e.contentItem.config;if(\"component\"===n.type){const o={id:r(n.id),bounds:c(e.contentItem.element),windowId:n.componentState.windowId,appName:n.componentState.appName,url:n.componentState.url};t.push(o)}return t}),[]).filter((t=>t.id!==n));this.emitter.raiseEvent(\"selection-changed\",{toBack:i,toFront:o})})),e.on(\"popoutRequested\",(()=>{const t=e.getActiveContentItem();this.emitter.raiseEvent(\"eject-requested\",{item:t})}))})),p.on(\"tabCreated\",(t=>{if(t._dragListener.on(\"drag\",(()=>{this.emitter.raiseEvent(\"tab-drag\",{tab:t})})),t._dragListener.on(\"dragStart\",(()=>{this.emitter.raiseEvent(\"tab-drag-start\",{tab:t})})),t._dragListener.on(\"dragEnd\",(()=>{this.emitter.raiseEvent(\"tab-drag-end\",{tab:t})})),t.element.on(\"mousedown\",(()=>{this.emitter.raiseEvent(\"tab-element-mouse-down\",{tab:t})})),this.refreshTabSizeClass(t),this._showLoadingIndicator&&\"component\"===(null==t?void 0:t.contentItem.type)&&!this._stateResolver.isWindowLoaded(t.contentItem.config.id)){const e=document.createElement(\"div\");e.classList.add(\"lm_saveButton\",\"lm_hibernationIcon\"),t.element[0].prepend(e)}if(!t.contentItem.isComponent)return;!1===new m(t.contentItem,this._frameId).showCloseButton&&v.hideWindowCloseButton(t.contentItem)})),p.on(\"tabCloseRequested\",(t=>{this.emitter.raiseEvent(\"tab-close-requested\",{item:t.contentItem})})),p.on(\"componentCreated\",(e=>{const n=this.emitter.raiseEvent(\"content-component-created\",{component:e,workspaceId:t});Array.isArray(n)?Promise.all(n).then((()=>{i.signal()})).catch((t=>i.reject(t))):n.then((()=>{i.signal()})).catch((t=>i.reject(t)))})),p.on(\"activeContentItemChanged\",(e=>{this.emitter.raiseEvent(\"workspace-global-selection-changed\",{component:e,workspaceId:t})})),p.init(),i.promise}initWorkspaceConfig(e){return new Promise((n=>{e.settings.selectionEnabled=!0,h.workspaceLayout=new o(e,$(this._workspaceLayoutElementId),f.decoratedFactory);new _((t=>{Array.from(t).forEach((t=>{this.emitter.raiseEvent(\"outer-layout-container-resized\",{target:t.target})}))})).observe($(\"#outter-layout-container\")[0]),e.content[0].content.forEach((t=>{const e=t.id;this.registerWorkspaceComponent(r(e))})),h.workspaceLayout.on(\"initialised\",(()=>{this.emitter.raiseEvent(\"workspace-layout-initialised\",{}),n()})),h.workspaceLayout.on(\"stackCreated\",(e=>{var n;const o=e.header.controlsContainer.children(\".lm_close\")[0];o&&(o.onclick=()=>{this.emitter.raiseEvent(\"close-frame\",{})});const i=e.header.element[0];if(new MutationObserver((()=>{const t=this.getElementByClass(i,\"lm_add_button\");t&&f.decoratedFactory.createAddWorkspace&&(t.onclick=e=>{e.stopPropagation(),this.emitter.raiseEvent(\"workspace-add-button-clicked\",{bounds:c(t)})})})).observe(e.header.element[0],{attributes:!1,childList:!0,subtree:!0}),!this._options.disableCustomButtons&&!(null===(n=f.decoratedFactory)||void 0===n?void 0:n.createAddWorkspace)){const t=document.createElement(\"li\");t.classList.add(\"lm_add_button\"),t.onclick=t=>{t.stopPropagation(),this._emitter.raiseEvent(\"workspace-add-button-clicked\",{})},e.header.workspaceControlsContainer.prepend($(t))}if(!f.decoratedFactory.createLogo){const t=document.createElement(\"span\");t.classList.add(\"logo_type\");const n=e.header.element[0].getElementsByClassName(\"lm_logo\")[0];n&&n.appendChild(t)}e.on(\"activeContentItemChanged\",(()=>t(this,void 0,void 0,(function*(){if(0===h.workspaceIds.length)return;const t=e.getActiveContentItem().config.id;yield this.waitForLayout(r(t));const n=h.workspaceIds.reduce(((t,e)=>[...t,...h.getById(e).windows]),[]);this.emitter.raiseEvent(\"workspace-selection-changed\",{workspace:h.getById(t),toBack:n})}))))})),h.workspaceLayout.on(\"itemCreated\",(t=>{t.isComponent&&t.on(\"size-changed\",(()=>{this.emitter.raiseEvent(\"workspace-content-container-resized\",{target:t,id:r(t.config.id)}),this.emitter.raiseEventWithDynamicName(\"workspace-content-container-resized-\"+t.config.id,t)}))})),h.workspaceLayout.on(\"tabCreated\",(t=>{const e=document.createElement(\"div\");e.classList.add(\"lm_saveButton\"),e.onclick=e=>{this.emitter.raiseEvent(\"workspace-save-requested\",{workspaceId:r(t.contentItem.config.id)})},this._options.disableCustomButtons||(t.element[0].prepend(e),t.element[0].onclick=t=>{-1!==t.composedPath().indexOf(e)&&document.activeElement.blur(),t.stopPropagation()}),this.refreshTabSizeClass(t);const n=h.getById(t.contentItem.config.id),o=new w(this._stateResolver,n,h.getWorkspaceContentItem(r(t.contentItem.config.id)),this._frameId);!1===o.showSaveButton&&v.hideWorkspaceSaveButton(r(t.contentItem.config.id)),!1===o.showCloseButton&&v.hideWorkspaceCloseButton(r(t.contentItem.config.id))})),h.workspaceLayout.on(\"tabCloseRequested\",(t=>{this.emitter.raiseEvent(\"workspace-tab-close-requested\",{workspace:h.getById(t.contentItem.config.id)})})),h.workspaceLayout.init()}))}setupOuterLayout(){this.emitter.onOuterLayoutContainerResized((t=>{h.workspaceLayout.updateSize($(t).width(),$(t).height())}))}setupContentLayouts(t){this.emitter.onContentContainerResized((e=>{const n=h.getById(t).layout;if(n){const e=$(\"#nestHere\"+t),o=c(e[0]);n.updateSize(o.width,o.height)}}),t)}registerWindowComponent(t,e){this.registerComponent(t,\"app\"+e,(t=>{const n=document.createElement(\"div\");n.setAttribute(\"style\",\"height:100%;\"),n.id=\"app\"+e,t.getElement().append(n)}))}registerEmptyWindowComponent(t,e){this.registerComponent(t,this._emptyVisibleWindowName,(t=>{const n=document.createElement(\"div\");n.classList.add(\"empty-container-background\");const o=document.createElement(\"button\");o.classList.add(\"add-button\"),o.onclick=n=>{n.stopPropagation();const i=t.tab.contentItem,s=\"stack\"===i.parent.type?\"group\":i.parent.type;i.parent.config.workspacesConfig.wrapper?this.emitter.raiseEvent(\"add-button-clicked\",{args:{laneId:r(i.parent.parent.config.id),workspaceId:e,parentType:i.parent.parent.type,bounds:c(o)}}):this.emitter.raiseEvent(\"add-button-clicked\",{args:{laneId:r(i.parent.config.id),workspaceId:e,parentType:s,bounds:c(o)}})},n.append(o),t.getElement().append(n)}))}registerWorkspaceComponent(t){this.registerComponent(h.workspaceLayout,this._configFactory.getWorkspaceLayoutComponentName(t),(e=>{var n,o;const i=document.createElement(\"div\");i.setAttribute(\"style\",\"height:calc(100% - 1px); width:calc(100% - 1px);\"),i.id=\"nestHere\"+t;const s=document.createElement(\"button\");s.classList.add(\"add-button\"),s.onclick=n=>{n.stopPropagation();const o=e.tab.contentItem;this.emitter.raiseEvent(\"add-button-clicked\",{args:{laneId:r(o.parent.id),workspaceId:t,bounds:c(s)}})},i.appendChild(s),(null===(n=f.decoratedFactory)||void 0===n?void 0:n.createWorkspaceContents)?(document.body.append(i),i.style.display=\"none\",null===(o=f.decoratedFactory)||void 0===o||o.createWorkspaceContents({workspaceId:t,domNode:e.getElement()[0]})):e.getElement().append(i),$(s).hide()}))}registerComponent(t,e,n){try{t.registerComponent(e,(function(t,e){n&&n(t,e)}))}catch(t){console.log(\"Tried to register and already existing component - \"+e)}}waitForLayout(t){return new Promise((e=>{const n=this._registry.add(\"content-layout-initialised-\"+t,(()=>{e(),n()}));h.getById(t)&&(e(),n())}))}waitForWindowContainer(t){return new Promise((e=>{const n=this.emitter.onContentComponentCreated((o=>{o.config.id===t&&(e(),n())}));h.getWindowContentItem(t)&&(e(),n())}))}getWindowInfoFromConfig(t){return\"component\"!==t.type?this.getWindowInfoFromConfig(t.content[0]):{placementId:r(t.id),windowId:t.componentState.windowId,appName:t.componentState.appName,url:t.componentState.url}}refreshLayoutSize(){const t=c($(this._workspaceLayoutElementId));h.workspaceLayout.updateSize(t.width,t.height)}refreshTabSizeClass(t){const e=t.header.tabs,n=e.map((t=>t.element)).some((t=>t.hasClass(\"lm_tab_small\"))),o=e.map((t=>t.element)).some((t=>t.hasClass(\"lm_tab_mini\")));n&&t.element.addClass(\"lm_tab_small\"),o&&t.element.addClass(\"lm_tab_mini\")}getElementByClass(t,e){const n=t.getElementsByClassName(e);if(n.length>1)throw new Error(`Multiple elements with class ${e} in element with id ${t.id} and class ${t.className} are not supported`);return n[0]}applyLockConfig(t,e,n,o){var i,s,r,a;const l=o?n.allowDrop:e.config.workspacesConfig.allowDrop;if(\"stack\"===t.type){if(void 0===t.workspacesConfig.allowDrop&&(t.workspacesConfig.allowDrop=null!==(i=t.workspacesConfig.allowDrop)&&void 0!==i?i:l),void 0===t.workspacesConfig.allowExtract){const e=n.allowExtract;t.workspacesConfig.allowExtract=null!==(s=t.workspacesConfig.allowExtract)&&void 0!==s?s:e}}else if(\"row\"===t.type||\"column\"===t.type)void 0===t.workspacesConfig.allowDrop&&(t.workspacesConfig.allowDrop=null!==(r=t.workspacesConfig.allowDrop)&&void 0!==r?r:l);else if(\"component\"===t.type&&void 0===t.workspacesConfig.allowExtract){const i=o?n.allowExtract:e.config.workspacesConfig.allowExtract;t.workspacesConfig.allowExtract=null!==(a=t.workspacesConfig.allowExtract)&&void 0!==a?a:i}}}class I{constructor(t){this._registry=t}onWorkspaceLayoutInit(t){return this._registry.add(\"workspace-layout-initialised\",t)}onContentLayoutInit(t){return this._registry.add(\"content-layout-init\",t)}onOuterLayoutContainerResized(t){return this._registry.add(\"outer-layout-container-resized\",t)}onContentContainerResized(t,e){return e?this._registry.add(\"workspace-content-container-resized-\"+e,t):this._registry.add(\"workspace-content-container-resized\",t)}onWorkspaceContainerResized(t){return this._registry.add(\"workspace-container-resized\",t)}onContentItemResized(t){return this._registry.add(\"content-item-resized\",t)}onContentComponentCreated(t){return this._registry.add(\"content-component-created\",t)}onFrameCloseRequested(t){return this._registry.add(\"close-frame\",t)}onRestoreRequested(t){return this._registry.add(\"restore-frame\",t)}onMaximizeRequested(t){return this._registry.add(\"maximize-frame\",t)}onMinimizeRequested(t){return this._registry.add(\"minimize-frame\",t)}onMoveAreaChanged(t){return this._registry.add(\"move-area-changed\",t)}onTabCloseRequested(t){return this._registry.add(\"tab-close-requested\",t)}onTabDragStart(t){return this._registry.add(\"tab-drag-start\",t)}onTabDrag(t){return this._registry.add(\"tab-drag\",t)}onTabDragEnd(t){return this._registry.add(\"tab-drag-end\",t)}onTabElementMouseDown(t){return this._registry.add(\"tab-element-mouse-down\",t)}onSelectionChanged(t){return this._registry.add(\"selection-changed\",t)}onWorkspaceAdded(t){return this._registry.add(\"workspace-added\",t)}onWorkspaceSelectionChanged(t){return this._registry.add(\"workspace-selection-changed\",t)}onWorkspaceTabCloseRequested(t){return this._registry.add(\"workspace-tab-close-requested\",t)}onAddButtonClicked(t){return this._registry.add(\"add-button-clicked\",t)}onContentLayoutStateChanged(t){return this._registry.add(\"content-layout-state-changed\",t)}onContentItemCreated(t){return this._registry.add(\"content-item-created\",t)}onWorkspaceAddButtonClicked(t){return this._registry.add(\"workspace-add-button-clicked\",t)}onWorkspaceSaveRequested(t){return this._registry.add(\"workspace-save-requested\",t)}onStackMaximized(t){return this._registry.add(\"stack-maximized\",t)}onStackRestored(t){return this._registry.add(\"stack-restored\",t)}onEjectRequested(t){return this._registry.add(\"eject-requested\",t)}onComponentSelectedInWorkspace(t){return this._registry.add(\"workspace-global-selection-changed\",t)}raiseEvent(t,e){const n=this._registry.execute(t,...Object.values(e));return Array.isArray(n)&&n.some((t=>t&&t.then))||n&&!Array.isArray(n)&&n.then?n:Promise.resolve(n)}raiseEventWithDynamicName(t,...e){this._registry.execute(t,...e)}}var b=1;var k,x,E,W={nextValue:function(){return(b=(9301*b+49297)%233280)/233280},seed:function(t){b=t}},S=\"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-\";function T(){E=!1}function A(t){if(t){if(t!==k){if(t.length!==S.length)throw new Error(\"Custom alphabet for shortid must be \"+S.length+\" unique characters. You submitted \"+t.length+\" characters: \"+t);var e=t.split(\"\").filter((function(t,e,n){return e!==n.lastIndexOf(t)}));if(e.length)throw new Error(\"Custom alphabet for shortid must be \"+S.length+\" unique characters. These characters were not unique: \"+e.join(\", \"));k=t,T()}}else k!==S&&(k=S,T())}function D(){return E||(E=function(){k||A(S);for(var t,e=k.split(\"\"),n=[],o=W.nextValue();e.length>0;)o=W.nextValue(),t=Math.floor(o*e.length),n.push(e.splice(t,1)[0]);return n.join(\"\")}())}var B={get:function(){return k||S},characters:function(t){return A(t),k},seed:function(t){W.seed(t),x!==t&&(T(),x=t)},lookup:function(t){return D()[t]},shuffled:D},L=\"object\"==typeof window&&(window.crypto||window.msCrypto),M=L&&L.getRandomValues?function(t){return L.getRandomValues(new Uint8Array(t))}:function(t){for(var e=[],n=0;n<t;n++)e.push(Math.floor(256*Math.random()));return e},P=function(t,e,n){for(var o=(2<<Math.log(e.length-1)/Math.LN2)-1,i=-~(1.6*o*n/e.length),s=\"\";;)for(var r=t(i),a=i;a--;)if((s+=e[r[a]&o]||\"\").length===+n)return s};var F,z,O=function(t){for(var e,n=0,o=\"\";!e;)o+=P(M,B.get(),1),e=t<Math.pow(16,n+1),n++;return o};var R=function(t){var e=\"\",n=Math.floor(.001*(Date.now()-1567752802062));return n===z?F++:(F=0,z=n),e+=O(7),e+=O(t),F>0&&(e+=O(F)),e+=O(n)};var N=function(t){return!(!t||\"string\"!=typeof t||t.length<6)&&!new RegExp(\"[^\"+B.get().replace(/[|\\\\{}()[\\]^$+*?.-]/g,\"\\\\$&\")+\"]\").test(t)},H=n((function(t){var e=0;function n(){return R(e)}t.exports=n,t.exports.generate=n,t.exports.seed=function(e){return B.seed(e),t.exports},t.exports.worker=function(n){return e=n,t.exports},t.exports.characters=function(t){return void 0!==t&&B.characters(t),B.shuffled()},t.exports.isValid=N}));class j{constructor(t){this._registry=s(),this._idToFrame={},this._glue=t}startFrame(e,n,o,i){return t(this,void 0,void 0,(function*(){return this.startCore(e,n,o,i)}))}moveFrame(t,e){const n=this._idToFrame[t],o=$(n);0!==e.width&&0!==e.height&&(o.css(\"top\",e.top+\"px\"),o.css(\"left\",e.left+\"px\")),o.css(\"width\",e.width+\"px\"),o.css(\"height\",e.height+\"px\")}selectionChanged(t,e){e.forEach((t=>{$(this._idToFrame[t]).css(\"z-index\",\"-1\")})),t.forEach((t=>{$(this._idToFrame[t]).hasClass(\"maximized-active-tab\")?$(this._idToFrame[t]).css(\"z-index\",\"42\"):$(this._idToFrame[t]).css(\"z-index\",\"19\")}))}maximizeTab(t){$(this._idToFrame[t]).addClass(\"maximized-active-tab\")}restoreTab(t){$(this._idToFrame[t]).removeClass(\"maximized-active-tab\")}selectionChangedDeep(t,e){e.forEach((t=>{$(this._idToFrame[t]).css(\"z-index\",\"-1\")})),t.forEach((t=>{$(this._idToFrame[t]).hasClass(\"maximized-active-tab\")?$(this._idToFrame[t]).css(\"z-index\",\"42\"):$(this._idToFrame[t]).css(\"z-index\",\"19\")}))}bringToFront(t){$(this._idToFrame[t]).css(\"z-index\",\"999\")}remove(t){const e=this._idToFrame[t];e&&(delete this._idToFrame[t],e.contentWindow.postMessage({glue42core:{type:\"manualUnload\"}},\"*\"),setImmediate((()=>{e.remove(),this._registry.execute(\"frame-removed\",t)})))}onFrameLoaded(t){return this._registry.add(\"frameLoaded\",t)}onFrameRemoved(t){return this._registry.add(\"frame-removed\",t)}onFrameContentClicked(t){return this._registry.add(\"frame-content-clicked\",t)}onWindowTitleChanged(t){return this._registry.add(\"window-title-changed\",t)}hasFrame(t){return!!this._idToFrame[t]}startCore(e,n,o,i){return t(this,void 0,void 0,(function*(){if(i=i||H.generate(),this._idToFrame[e])return this._idToFrame[e];if(!n)throw new Error(`The url of window with itemId ${e} is undefined`);const t=document.createElement(\"iframe\");return t.name=i+\"#wsp\",t.loading=\"lazy\",t.style.top=\"30000px\",t.style.width=\"30000px\",t.style.width=\"0px\",t.style.height=\"0px\",t.src=n,document.body.appendChild(t),this._registry.execute(\"frameLoaded\",e),t.setAttribute(\"id\",e),$(t).css(\"position\",\"absolute\"),this._idToFrame[e]=t,yield this.waitForWindow(i),t}))}waitForWindow(t){return new Promise(((e,n)=>{let o=()=>{};const i=setTimeout((()=>{n(`Window with id ${t} did not appear in 5000ms`),o()}),5e3);o=this._glue.windows.onWindowAdded((n=>{n.id===t&&(o(),e(),clearTimeout(i))}));this._glue.windows.list().find((e=>e.id===t))&&(e(),o(),clearTimeout(i))}))}}var q=new class{constructor(){this.LAST_SESSION_KEY=\"lastSession\"}get(t){return JSON.parse(sessionStorage.getItem(t))}set(t,e){sessionStorage.setItem(t,JSON.stringify(e))}};var U=new class{get config(){return this._config}loadConfig(){const t=new URLSearchParams(window.location.search),e=t.get(\"emptyFrame\"),n=t.get(\"disableCustomButtons\"),o=t.get(\"workspaceName\"),i=t.get(\"workspaceNames\"),s=t.get(\"context\"),r=t.get(\"build\");let a,l=[];try{l=JSON.parse(i)||l}catch(t){}try{a=JSON.parse(s)}catch(t){}o&&l.push(o);const c={emptyFrame:null!=e&&void 0!==e,disableCustomButtons:null!=n&&void 0!==n,workspaceNames:l,context:a,build:null!=r};return this._config=c,this.cleanUpUrl(),c}cleanUpUrl(){const t=this.removeQueryParams(window.location.search,[\"emptyFrame\"]);window.history.replaceState(null,document.title,window.location.origin+window.location.pathname+t)}removeQueryParams(t,e){return e.forEach((e=>{const n=new URLSearchParams(t),o=n.get(e);Array.from(n.keys()).indexOf(e)>-1&&(t=t.replace(`${e}=${o}`,\"\"))})),\"&\"===t[t.length-1]&&(t=t.substr(0,t.length-1)),t=(t=t.replace(\"&&\",\"&\")).replace(\"?&\",\"?\")}};class G{constructor(t,e,n,o){this.resolver=t,this._glue=e,this._configFactory=n,this._configConverter=o,this._layoutsType=\"Workspace\",this._layoutComponentType=\"Workspace\"}getInitialConfig(){var e;return t(this,void 0,void 0,(function*(){if(this._initialWorkspaceConfig)return this._configFactory.generateInitialConfig([this._initialWorkspaceConfig]);const n=U.config;if(n.workspaceNames&&n.workspaceNames.length){const e=(yield Promise.all(n.workspaceNames.map((e=>t(this,void 0,void 0,(function*(){return yield this.getWorkspaceByName(e)})))))).map((t=>(t.config.workspacesOptions=t.config.workspacesOptions||{},t.config.workspacesOptions.context=t.layoutData.context,t.config))).filter((t=>t));if(e.length)return e.forEach(((t,e)=>{t.id=this._configFactory.getId(),t.workspacesOptions=t.workspacesOptions||{},n.context&&t.workspacesOptions.context?t.workspacesOptions.context=Object.assign(t.workspacesOptions.context,n.context):n.context&&(t.workspacesOptions.context=n.context),t.workspacesOptions.layoutName=n.workspaceNames[e]})),this._configFactory.generateInitialConfig(e)}else if(!(null===(e=U.config)||void 0===e?void 0:e.build)){const t=this.getLastSession();if(t&&t.length)return t.forEach((t=>{t&&(t.id=this._configFactory.getId())})),this._configFactory.generateInitialConfig(t)}return this._configFactory.getDefaultFrameConfig()}))}getLastSession(){var t,e;if(!(null===(e=null===(t=window.glue42core)||void 0===t?void 0:t.workspacesFrameCache)||void 0===e||e))return;return(q.get(q.LAST_SESSION_KEY)||[]).map((t=>(this.addWorkspaceIds(t),this._configConverter.convertToRendererConfig(t))))}getSavedWorkspaceNames(){return t(this,void 0,void 0,(function*(){return(yield this._glue.layouts.getAll(this._layoutsType)).filter((t=>t.type===this._layoutsType)).map((t=>t.name))}))}export(){return t(this,void 0,void 0,(function*(){return this._glue.layouts.export(this._layoutsType)}))}getWorkspaceByName(e){return t(this,void 0,void 0,(function*(){const t=yield this._glue.layouts.get(e,this._layoutsType),n=t.components[0].state,o=this._configConverter.convertToRendererConfig(n);return this.addWorkspaceIds(o),{config:o,layoutData:{metadata:t.metadata,name:e,context:n.context}}}))}delete(e){return t(this,void 0,void 0,(function*(){yield this._glue.layouts.remove(this._layoutsType,e)}))}save(e){var n;return t(this,void 0,void 0,(function*(){const{workspace:t,name:o,saveContext:i}=e;if(!t.layout&&!t.hibernateConfig)throw new Error(\"An empty layout cannot be saved\");((null===(n=t.layout)||void 0===n?void 0:n.config)||t.hibernateConfig).workspacesOptions.name=o;const s=yield this.saveWorkspaceCore(t);s.config.title&&delete s.config.title;let r=void 0;if(i)try{r=yield this.getWorkspaceContext(t.id)}catch(t){}const a={name:o,type:this._layoutsType,metadata:{},components:[{type:this._layoutComponentType,state:{children:s.children,config:s.config,context:r}}]};return yield this._glue.layouts.import([a],\"merge\"),a}))}generateLayout(e,n){return t(this,void 0,void 0,(function*(){if(!n.layout)throw new Error(\"An empty layout cannot be generated\");n.layout.config.workspacesOptions.name=e;const t=yield this.saveWorkspaceCore(n);return t.config.title&&delete t.config.title,{name:e,type:this._layoutsType,metadata:{},components:[{type:this._layoutComponentType,state:{children:t.children,config:t.config,context:{}}}]}}))}saveWorkspacesFrame(e){var n,o;return t(this,void 0,void 0,(function*(){if(!(null===(o=null===(n=window.glue42core)||void 0===n?void 0:n.workspacesFrameCache)||void 0===o||o))return;const t=e.map((t=>this.saveWorkspaceCoreSync(t))),i=yield Promise.all(t);q.set(q.LAST_SESSION_KEY,i)}))}setInitialWorkspaceConfig(t){this._initialWorkspaceConfig=t}saveWorkspaceCore(e){return t(this,void 0,void 0,(function*(){if(!e.layout&&!e.hibernateConfig)return;const t=this.resolver.getWorkspaceConfig(e.id);t.workspacesOptions.layoutName&&delete t.workspacesOptions.layoutName,this.removeWorkspaceIds(t),yield this.applyWindowLayoutState(t);const n=this._configConverter.convertToAPIConfig(t);return this.removeWorkspaceItemIds(n),this.windowSummariesToWindowLayout(n),this.addWindowUrlsToWindows(n),this.workspaceSummaryToWorkspaceLayout(n),n}))}saveWorkspaceCoreSync(t){if(!t.layout&&!t.hibernateConfig)return;const e=this.resolver.getWorkspaceConfig(t.id);this.removeWorkspaceIds(e);const n=this._configConverter.convertToAPIConfig(e);return this.removeWorkspaceItemIds(n),this.windowSummariesToWindowLayout(n),this.addWindowUrlsToWindows(n),this.workspaceSummaryToWorkspaceLayout(n),n}windowSummariesToWindowLayout(t){const e=t=>{if(\"window\"===t.type)return delete t.config.isMaximized,delete t.config.isLoaded,delete t.config.isFocused,delete t.config.windowId,delete t.config.workspaceId,delete t.config.frameId,delete t.config.positionIndex,void(t.config.appName&&delete t.config.url);t.children.forEach((t=>e(t)))};e(t)}addWindowContexts(e){return t(this,void 0,void 0,(function*(){const n=e=>t(this,void 0,void 0,(function*(){if(\"window\"!==e.type)yield Promise.all(e.children.map((t=>n(t))));else if(e.config.windowId){const t=this._glue.windows.findById(e.config.windowId);if(t){const n=yield t.getContext();e.config.context=Object.assign({},e.config.context||{},n)}}}));yield n(e)}))}workspaceSummaryToWorkspaceLayout(t){(null==t?void 0:t.config)&&(delete t.config.frameId,delete t.config.positionIndex)}addWindowUrlsToWindows(t){const e=t=>{var n,o;if(\"window\"!==t.type||t.config.url||t.config.appName)\"window\"!==t.type&&t.children.forEach((t=>e(t)));else{const e=this._glue.appManager.application(t.config.appName);t.config.url=null===(o=null===(n=null==e?void 0:e.userProperties)||void 0===n?void 0:n.details)||void 0===o?void 0:o.url}};e(t)}addWorkspaceIds(t){if(!t)return;const e=t=>{t.id=this._configFactory.getId(),t.type&&\"component\"===t.type&&(t.componentName=\"app\"+t.id),\"component\"!==t.type&&t.content&&t.content.forEach((t=>e(t)))};e(t)}addWindowIds(t){if(!t)return;const e=t=>{\"component\"===t.type&&(t.componentState.windowId=this._configFactory.getId()),\"component\"!==t.type&&t.content&&t.content.forEach((t=>e(t)))};e(t)}removeWorkspaceIds(t){const e=t=>{\"id\"in t&&delete t.id,\"component\"===(null==t?void 0:t.type)&&(t.componentName=\"placeHolderId\",t.title=\"placeHolderId\"),\"component\"!==t.type&&t.content&&t.content.forEach((t=>e(t)))};e(t)}removeWorkspaceItemIds(t){const e=t=>{var n;\"id\"in t&&delete t.id,\"window\"!==t.type&&(null===(n=t.children)||void 0===n||n.forEach((t=>e(t))))};e(t)}applyWindowLayoutState(e){return t(this,void 0,void 0,(function*(){const n=e=>t(this,void 0,void 0,(function*(){if(\"component\"===e.type){const t=yield this.getWindowLayoutState(e.windowId);e.componentState.layoutState=t}else e.content.forEach((t=>n(t)))}));yield Promise.all(e.content.map((e=>t(this,void 0,void 0,(function*(){yield n(e)})))))}))}getWorkspaceContext(e){return t(this,void 0,void 0,(function*(){return yield this._glue.contexts.get(d(e))}))}getWindowLayoutState(e){return t(this,void 0,void 0,(function*(){return Promise.resolve({windowId:e})}))}}class V{constructor(t,e,n){this._frameId=t,this._layoutEventEmitter=e,this.frameController=n}getWindowSummary(e){return t(this,void 0,void 0,(function*(){e=Array.isArray(e)?e[0]:e;let t=h.getWindowContentItem(e);t||(yield this.waitForWindowContentItem(e),t=h.getWindowContentItem(e));return new m(t,this._frameId).summary}))}getWindowSummarySync(t,e){t=Array.isArray(t)?t[0]:t;const n=e||h.getWindowContentItem(t);return new m(n,this._frameId).summary}getWorkspaceConfig(t){const e=h.getById(t);if(!e)throw new Error(\"Could find workspace to remove with id \"+t);return new w(this,e,h.getWorkspaceContentItem(e.id),this._frameId).config}getWorkspaceSummary(t){return new w(this,h.getById(t),h.getWorkspaceContentItem(t),this._frameId).summary}isWindowMaximized(t){const e=r(t),n=h.getWindowContentItem(e);return new m(n,this._frameId).isMaximized}isWindowSelected(t){const e=r(t),n=h.getWindowContentItem(e);return new m(n,this._frameId).isSelected}isWorkspaceSelected(t){const e=h.getById(t),n=h.getWorkspaceContentItem(t);return new w(this,e,n,this._frameId).isSelected}isWorkspaceHibernated(t){const e=h.getById(t);if(!e)throw new Error(`Could not find workspace ${t} in ${this._frameId} to check if hibernated`);const n=h.getWorkspaceContentItem(e.id);return new w(this,e,n,this._frameId).isHibernated}getContainerSummary(t){t=r(t);const e=h.getContainer(t);return new g(e,this._frameId).summary}getContainerSummaryByReference(t,e){if(\"component\"===t.type)throw new Error(`Tried to get container summary from item ${t.type} ${t.config.id}`);return new g(t,this._frameId,e).summary}getContainerConfig(t){const e=h.getContainer(t);return new g(e,this._frameId).config}isWindowInWorkspace(t){return!!h.getWindowContentItem(t)}getFrameSnapshot(){const t=h.workspaceIds.map((t=>this.getWorkspaceSummary(t)));return{id:this._frameId,config:{},workspaces:t}}getSnapshot(t){try{return this.getWorkspaceConfig(t)}catch(t){return this.getFrameSnapshot()}}extractWindowSummariesFromSnapshot(t){const e=[],n=(t,o)=>{\"component\"!==t.type?t.content.forEach((e=>n(e,r(t.id)))):e.push({itemId:r(t.id),parentId:o,config:t.workspacesConfig})};return n(t,void 0),e}isWindowLoaded(t){return this.frameController.hasFrame(r(t))}waitForWindowContentItem(t){return new Promise((e=>{const n=this._layoutEventEmitter.onContentComponentCreated((o=>{o.config.id===t&&(n(),e())}));h.getWindowContentItem(t)&&(n(),e())}))}}class X{constructor(){this._pattern=/^Untitled ([0-9]+)$/}getTitle(t,e=0){const n=t.filter((t=>this._pattern.test(t))).map((t=>parseInt(this._pattern.exec(t)[1],10)));return\"Untitled \"+((n.length?n.sort(((t,e)=>t-e))[n.length-1]:0)+1+e)}}class Y{constructor(t){this._titleGenerator=new X,this._defaultWorkspaceLayoutSettings={showCloseIcon:!1,showMaximizeIcon:!1,showPopoutIcon:!1,disableDragProxy:!0,mode:\"workspace\"},this._glue=t}createEmptyVisibleWindowConfig(){return Object.assign(Object.assign({},this.createWindowConfigurationCore()),{componentState:{header:!1}})}createGDWindowConfig(t){const e=this.createWindowConfigurationCore(t.id),n={allowExtract:t.allowExtract,showCloseButton:t.showCloseButton};return Object.assign(Object.assign({},e),{componentName:\"app\"+e.id,windowId:t.windowId,title:t.title,componentState:{windowId:t.windowId,appName:t.appName,url:t.url,title:t.title,context:t.context},workspacesConfig:n})}createApiWindow(t){return{id:Array.isArray(t.id)?t.id[0]:t.id,type:\"window\",config:{windowId:t.windowId,isMaximized:t.isMaximized,isLoaded:void 0!==t.windowId,isFocused:t.isFocused,appName:t.appName,url:t.url,title:t.title,workspaceId:t.workspaceId,frameId:t.frameId,positionIndex:t.positionIndex,allowExtract:t.allowExtract,showCloseButton:t.showCloseButton}}}getWorkspaceLayoutComponentName(t){return\"workspace\"+t}getWorkspaceTitle(t){return this._titleGenerator.getTitle(t)}getId(){return H.generate()}getDefaultWorkspaceSettings(){return{mode:\"default\",showCloseIcon:!1,showPopoutIcon:!0}}getDefaultFrameConfig(){const t=H.generate();return{frameId:void 0,workspaceConfigs:[{id:t,config:this.getDefaultWorkspaceConfig()}],workspaceLayout:{settings:this._defaultWorkspaceLayoutSettings,content:[{type:\"stack\",content:[{type:\"component\",id:t,componentName:this.getWorkspaceLayoutComponentName(t),componentState:{},workspacesConfig:{},title:this.getWorkspaceTitle(h.workspaceTitles)}],workspacesConfig:{}}]}}}getDefaultWorkspaceConfig(){}generateInitialConfig(t){const e={settings:this._defaultWorkspaceLayoutSettings,content:[{type:\"stack\",content:t.map((t=>{var e,n,o;const i=H.generate();return{workspacesConfig:{},type:\"component\",id:(null==t?void 0:t.id)||i,componentName:this.getWorkspaceLayoutComponentName(r(null==t?void 0:t.id)||i),componentState:{},noTabHeader:null===(e=null==t?void 0:t.workspacesOptions)||void 0===e?void 0:e.noTabHeader,title:(null===(n=null==t?void 0:t.workspacesOptions)||void 0===n?void 0:n.title)||(null===(o=null==t?void 0:t.workspacesOptions)||void 0===o?void 0:o.name)||this.getWorkspaceTitle(h.workspaceIds)}})),workspacesConfig:{}}]};return{frameId:void 0,workspaceConfigs:t.map(((t,n)=>{let o=null==t?void 0:t.id;return o||\"component\"===e.content[0].type||(o=e.content[0].content[n].id),{id:o,config:t}})),workspaceLayout:e}}wrapInGroup(t){return this.wrap(t,\"stack\")}getAppNameFromWindowId(t){const e=this._glue.appManager.instances().find((e=>e.agm.windowId===t));return null==e?void 0:e.application.name}createWindowConfigurationCore(t){return{workspacesConfig:{},type:\"component\",id:t||this.getId(),componentName:\"emptyVisibleWindow\"}}wrap(t,e){return{workspacesConfig:{wrapper:!0},type:e,content:t}}}class J{constructor(){this.registry=s()}onFrameEvent(t){return this.registry.add(\"frame\",t)}onWindowEvent(t){return this.registry.add(\"window\",t)}onContainerEvent(t){return this.registry.add(\"container\",t)}onWorkspaceEvent(t){return this.registry.add(\"workspace\",t)}raiseFrameEvent(t){this.registry.execute(\"frame\",t.action,t.payload)}raiseWindowEvent(t){this.registry.execute(\"window\",t.action,t.payload)}raiseContainerEvent(t){this.registry.execute(\"container\",t.action,t.payload)}raiseWorkspaceEvent(t){this.registry.execute(\"workspace\",t.action,t.payload)}}class Z{constructor(t){this._configFactory=t,this.flat=t=>t.reduce(((t,e)=>[...t,...Array.isArray(e)?e:[e]]),[])}convertToRendererConfig(t){if(t)return this.convertToRendererConfigCore(t,void 0)}convertToAPIConfig(t){if(t)return this.convertToApiConfigCore(t)}convertToRendererConfigCore(t,e){var n,o,i,s,r,a,l,c,d,h,u,p,f,m,g,w,y,v,_,C;let I={type:t.type,content:[],workspacesOptions:t.config||{}};if(\"workspace\"!==t.type&&t.type||(I=this.applyDefaultRendererConfig({content:[],workspacesOptions:t.config})),\"workspace\"===t.type||!t.type){const e=t,{children:n}=e;return n.length>1&&n.every((t=>\"column\"===t.type))?I.content.push(this.wrap(n.map((t=>this.convertToRendererConfigCore(t,e))),\"row\")):n.length>1&&n.every((t=>\"row\"===t.type))?I.content.push(this.wrap(n.map((t=>this.convertToRendererConfigCore(t,e))),\"column\")):I.content.push(...n.map((t=>this.convertToRendererConfigCore(t,e)))),I}if(\"column\"===t.type||\"row\"===t.type)return I.content.push(...t.children.map((e=>this.convertToRendererConfigCore(e,t)))),0===I.content.length&&I.content.push(this.getGroupWithEmptyVisibleWindow()),I.workspacesConfig||(I.workspacesConfig={}),I.workspacesConfig.allowDrop=null===(n=t.config)||void 0===n?void 0:n.allowDrop,I.width=this.convertSizeToRendererConfigSafely(null===(o=t.config)||void 0===o?void 0:o.width),I.height=this.convertSizeToRendererConfigSafely(null===(i=t.config)||void 0===i?void 0:i.height),I;if(\"group\"===t.type)return I.type=\"stack\",I.content.push(...t.children.map((e=>this.convertToRendererConfigCore(e,t)))),0===I.content.length&&I.content.push(this._configFactory.createEmptyVisibleWindowConfig()),I.workspacesConfig||(I.workspacesConfig={}),I.workspacesConfig.allowDrop=null===(s=t.config)||void 0===s?void 0:s.allowDrop,I.workspacesConfig.allowExtract=null===(r=t.config)||void 0===r?void 0:r.allowExtract,I.workspacesConfig.showMaximizeButton=null===(a=t.config)||void 0===a?void 0:a.showMaximizeButton,I.workspacesConfig.showEjectButton=null===(l=t.config)||void 0===l?void 0:l.showEjectButton,I.workspacesConfig.showAddWindowButton=null===(c=t.config)||void 0===c?void 0:c.showAddWindowButton,I.activeItemIndex=null===(d=t.config)||void 0===d?void 0:d.activeTabIndex,I.width=this.convertSizeToRendererConfigSafely(null===(h=t.config)||void 0===h?void 0:h.width),I.height=this.convertSizeToRendererConfigSafely(null===(u=t.config)||void 0===u?void 0:u.height),I;if(\"window\"===t.type){let n=(null===(p=t.config)||void 0===p?void 0:p.appName)||t.appName;const o=null===(f=t.config)||void 0===f?void 0:f.windowId;!n&&o&&(n=this._configFactory.getAppNameFromWindowId(o));const i=this._configFactory.createGDWindowConfig({windowId:o,id:t.id,appName:n,url:(null===(m=t.config)||void 0===m?void 0:m.url)||t.url,title:(null===(g=t.config)||void 0===g?void 0:g.title)||t.title,context:(null===(w=t.config)||void 0===w?void 0:w.context)||t.context,allowExtract:null!==(v=null===(y=null==t?void 0:t.config)||void 0===y?void 0:y.allowExtract)&&void 0!==v?v:t.allowExtract,showCloseButton:null!==(C=null===(_=null==t?void 0:t.config)||void 0===_?void 0:_.showCloseButton)&&void 0!==C?C:t.showCloseButton});return\"group\"!==e.type?(i.componentState.header=!1,this.wrap([i],\"stack\")):i}}convertToApiConfigCore(t){var e,n,o,i,s,a,l,c;if(!t.type||\"workspace\"===t.type){t=t;const e=this.flat(t.content.map((t=>this.convertToApiConfigCore(t))));return{id:r(t.id),config:t.workspacesOptions,children:e}}if(\"component\"===t.type&&\"emptyVisibleWindow\"===t.componentName)return[];if(\"component\"!==t.type&&t.workspacesConfig&&t.workspacesConfig.wrapper)return this.flat(t.content.map((t=>this.convertToApiConfigCore(t))));if(\"component\"===t.type){const e=t.workspacesConfig;return this._configFactory.createApiWindow({id:t.id,isFocused:!1,isMaximized:e.isMaximized,windowId:t.componentState.windowId,appName:t.componentState.appName,url:t.componentState.url,frameId:e.frameId,workspaceId:e.workspaceId,title:e.title,positionIndex:e.positionIndex,allowExtract:e.allowExtract,showCloseButton:e.showCloseButton})}const d=t,h={id:r(t.id),type:\"stack\"===t.type?\"group\":t.type,children:this.flat(t.content.map((t=>this.convertToApiConfigCore(t)))),config:{positionIndex:null===(e=d.workspacesConfig)||void 0===e?void 0:e.positionIndex,frameId:null===(n=d.workspacesConfig)||void 0===n?void 0:n.frameId,workspaceId:null===(o=d.workspacesConfig)||void 0===o?void 0:o.workspaceId,activeTabIndex:d.activeItemIndex,width:d.width,height:d.height,allowDrop:null===(i=d.workspacesConfig)||void 0===i?void 0:i.allowDrop,allowExtract:null===(s=d.workspacesConfig)||void 0===s?void 0:s.allowExtract,showMaximizeButton:null===(a=d.workspacesConfig)||void 0===a?void 0:a.showMaximizeButton,showEjectButton:null===(l=d.workspacesConfig)||void 0===l?void 0:l.showEjectButton,showAddWindowButton:null===(c=d.workspacesConfig)||void 0===c?void 0:c.showAddWindowButton}};return\"group\"!==h.type&&(delete h.config.allowExtract,delete h.config.showMaximizeButton,delete h.config.showEjectButton,delete h.config.showAddWindowButton),h}wrap(t,e){return{workspacesConfig:{wrapper:!0},type:e,content:t}}applyDefaultRendererConfig(t){return Object.assign({settings:Object.assign({},this._configFactory.getDefaultWorkspaceSettings())},t)}getGroupWithEmptyVisibleWindow(){return this.wrap([this._configFactory.createEmptyVisibleWindowConfig()],\"stack\")}convertSizeToRendererConfigSafely(t){return t>0?t:void 0}}class Q{constructor(t,e,n){this._externalPopupManager=t,this._componentPopupManager=e,this._componentFactory=n}showAddWindowPopup(e,n){var o;return t(this,void 0,void 0,(function*(){return(null===(o=this._componentFactory)||void 0===o?void 0:o.createAddApplicationPopup)?this._componentPopupManager.showAddWindowPopup(e,n):this._externalPopupManager.showAddWindowPopup(e,n)}))}showOpenWorkspacePopup(e,n){var o;return t(this,void 0,void 0,(function*(){return(null===(o=this._componentFactory)||void 0===o?void 0:o.createAddWorkspacePopup)?this._componentPopupManager.showOpenWorkspacePopup(e):this._externalPopupManager.showOpenWorkspacePopup(e,n)}))}showSaveWorkspacePopup(e,n){var o;return t(this,void 0,void 0,(function*(){return(null===(o=this._componentFactory)||void 0===o?void 0:o.createSaveWorkspacePopup)?this._componentPopupManager.showSaveWorkspacePopup(e,n):this._externalPopupManager.showSaveWorkspacePopup(e,n)}))}hidePopup(){this._externalPopupManager.hidePopup(),this._componentFactory&&this._componentPopupManager.hidePopup()}}class K{constructor(t){this._addApplicationType=\"addApplication\",this._openWorkspaceType=\"openWorkspace\",this._saveWorkspaceType=\"saveWorkspace\",this._showPopupMethod=\"T42.Workspaces.ShowPopup\",this._glue=t,this.initPopup(),this.registerHideMethod(),this.registerResizeMethod()}showAddWindowPopup(e,n){return t(this,void 0,void 0,(function*(){this.hidePopup();const t=yield this.getPopupSize(this._addApplicationType,n);this.showElement(this._popup,e,t)}))}showOpenWorkspacePopup(e,n){return t(this,void 0,void 0,(function*(){this.hidePopup();const t=yield this.getPopupSize(this._openWorkspaceType,n);this.showElement(this._popup,e,t)}))}showSaveWorkspacePopup(e,n){return t(this,void 0,void 0,(function*(){this.hidePopup();const t=yield this.getPopupSize(this._saveWorkspaceType,n);this.showElement(this._popup,e,t)}))}hidePopup(){$(this._popup).css(\"visibility\",\"hidden\")}initPopup(){}showElement(t,e,n){$(t).css(\"visibility\",\"visible\").css(\"top\",e.top+\"px\").css(\"left\",e.left+\"px\"),n.height&&$(t).css(\"height\",n.height+\"px\"),n.width&&$(t).css(\"width\",n.width+\"px\");const o=t.getBoundingClientRect(),i=document.body.getBoundingClientRect(),s=i.width-o.right-10,r=i.height-o.bottom-10;s<0&&$(t).css(\"left\",e.left+s),r<0&&$(t).css(\"top\",e.top+r)}resizePopup(t){const e=$(this._popup);t.height&&e.css(\"height\",t.height+\"px\"),t.width&&e.css(\"width\",t.width+\"px\");const n=this._popup.getBoundingClientRect(),o=document.body.getBoundingClientRect(),i=o.width-n.right-10,s=o.height-n.bottom-10;if(i<0){const t=e.css(\"left\"),n=parseInt(t.substring(0,t.length-2));e.css(\"left\",n+i)}if(s<0){const t=e.css(\"top\"),n=parseInt(t.substring(0,t.length-2));e.css(\"top\",n+s)}}getPopupSize(e,n){return t(this,void 0,void 0,(function*(){const t=this.getPopupInteropId(),o=this._glue.agm.servers().find((e=>e.windowId===t));return(yield this._glue.agm.invoke(this._showPopupMethod,{type:e,payload:n},o)).returned}))}registerHideMethod(){}registerResizeMethod(){}getPopupInteropId(){try{return this._popup.contentWindow.interopId||\"best\"}catch(t){console.warn(\"Could not get the popup interop id using best\")}return\"best\"}getPopupWindowTemplate(t){return`<iframe id=\"popup\" src=\"${t}\" class=\"popup\"></iframe>`}}class tt{constructor(t,e){this._addApplicationType=\"addApplication\",this._openWorkspaceType=\"openWorkspace\",this._saveWorkspaceType=\"saveWorkspace\",this._popupSizes={[this._addApplicationType]:{height:200,width:200},[this._openWorkspaceType]:{height:200,width:200},[this._saveWorkspaceType]:{height:200,width:200}},this.hidePopup=()=>(document.body.onclick=void 0,$(this._popup).css(\"visibility\",\"hidden\"),new Promise((t=>{var e;(null===(e=this._componentFactory)||void 0===e?void 0:e.hideSystemPopups)?this._componentFactory.hideSystemPopups(t):t()}))),this._componentFactory=t,this._frameId=e,this.initPopup()}showAddWindowPopup(e,{workspaceId:n,parentType:o,boxId:i}){return t(this,void 0,void 0,(function*(){yield this.showInternalAddAppPopup(e,i,n,o)}))}showOpenWorkspacePopup(e){return t(this,void 0,void 0,(function*(){yield this.showInternalOpenWorkspacePopup(e)}))}showSaveWorkspacePopup(e,n){return t(this,void 0,void 0,(function*(){yield this.showInternalSaveWorkspacePopup(e,n)}))}showInternalSaveWorkspacePopup(e,n){return t(this,void 0,void 0,(function*(){yield this.hidePopup();const t=this.getPopupSize(this._saveWorkspaceType);this.showElement(this._popup,e,t),this._componentFactory.createSaveWorkspacePopup({domNode:this._popup,resizePopup:t=>this.resizePopup(t,this._saveWorkspaceType,$(this._popup)),hidePopup:this.hidePopup,workspaceId:n.workspaceId,buildMode:n.buildMode})}))}showInternalOpenWorkspacePopup(e){return t(this,void 0,void 0,(function*(){yield this.hidePopup();const t=this.getPopupSize(this._openWorkspaceType);this.showElement(this._popup,e,t),this._componentFactory.createAddWorkspacePopup({domNode:this._popup,frameId:this._frameId,hidePopup:this.hidePopup,resizePopup:t=>this.resizePopup(t,this._openWorkspaceType,$(this._popup))})}))}showInternalAddAppPopup(e,n,o,i){return t(this,void 0,void 0,(function*(){yield this.hidePopup();const t=this.getPopupSize(this._addApplicationType);this.showElement(this._popup,e,t),this._componentFactory.createAddApplicationPopup({domNode:this._popup,boxId:n,resizePopup:t=>this.resizePopup(t,this._addApplicationType,$(this._popup)),hidePopup:this.hidePopup,workspaceId:o,frameId:this._frameId})}))}initPopup(){this._popup=document.createElement(\"div\"),this._popup.classList.add(\"workspaces-system-popup\"),document.body.appendChild(this._popup)}showElement(t,e,n){document.body.onclick=t=>{-1===t.composedPath().indexOf(this._popup)&&this.hidePopup()},document.body.onblur=t=>{\"iframe\"===document.activeElement.tagName.toLowerCase()&&this.hidePopup()},$(t).css(\"visibility\",\"visible\").css(\"top\",e.top+\"px\").css(\"left\",e.left+\"px\"),n.height&&$(t).css(\"height\",n.height+\"px\"),n.width&&$(t).css(\"width\",n.width+\"px\");const o=t.getBoundingClientRect(),i=document.body.getBoundingClientRect(),s=i.width-o.right-10,r=i.height-o.bottom-10;s<0&&$(t).css(\"left\",e.left+s),r<0&&$(t).css(\"top\",e.top+r)}resizePopup(t,e,n){t.height&&(n.css(\"height\",t.height+\"px\"),this._popupSizes[e].height=t.height),t.width&&(n.css(\"width\",t.width+\"px\"),this._popupSizes[e].width=t.width);const o=n[0].getBoundingClientRect(),i=document.body.getBoundingClientRect(),s=i.width-o.right-10,r=i.height-o.bottom-10;if(s<0){const t=n.css(\"left\"),e=parseInt(t.substring(0,t.length-2),10);n.css(\"left\",e+s)}if(r<0){const t=n.css(\"top\"),e=parseInt(t.substring(0,t.length-2),10);n.css(\"top\",e+r)}}getPopupSize(t){return this._popupSizes[t]}}var et=new class{getSettings(e){return t(this,void 0,void 0,(function*(){return this.settings||(this.settings=yield this.askForSettings(e)),this.settings}))}askForSettings(e){return t(this,void 0,void 0,(function*(){return(yield e.interop.invoke(\"T42.Web.Platform.Control\",{domain:\"workspaces\",operation:\"getWorkspacesConfig\",data:{}})).returned}))}};class nt{constructor(t,e,n,o,i){this._glue=t,this._stateResolver=e,this._frameController=n,this._manager=o,this._delayedExecutor=i,this.registry=s(),this.WAIT_FOR_WINDOWS_TIMEOUT=3e4,this.idToWindowPromise={}}start(e,n){return t(this,void 0,void 0,(function*(){if(\"emptyVisibleWindow\"===e.config.componentName)return;if(this.idToWindowPromise[r(e.config.id)])return this.idToWindowPromise[r(e.config.id)];const t=h.getById(n);if(!t)return;const o=this.startCore(e,t);this.idToWindowPromise[r(e.config.id)]=o;const i=this._frameController.onFrameRemoved((t=>{t===r(e.config.id)&&(i(),delete this.idToWindowPromise[t])}));return o}))}getLoadingStrategy(t,e,n){var o,i;return(null==n?void 0:n.loadingStrategy)?n.loadingStrategy:(null===(o=e.workspacesOptions)||void 0===o?void 0:o.loadingStrategy)?e.workspacesOptions.loadingStrategy:(null==t?void 0:t.loadingStrategy)?null===(i=null==t?void 0:t.loadingStrategy)||void 0===i?void 0:i.defaultStrategy:void 0}startLazy(e){return t(this,void 0,void 0,(function*(){const t=h.getById(e);if(!(null==t?void 0:t.layout))return;const n=t.layout.root.getItemsByType(\"component\"),o=this.getComponentsByVisibility(n.map((t=>t)));return Promise.all(o.visibleComponents.map((t=>this.start(t,e))))}))}startDelayed(e){return t(this,void 0,void 0,(function*(){const t=h.getById(e);if(!(null==t?void 0:t.layout))return;const n=t.layout.root.getItemsByType(\"component\"),o=this.getComponentsByVisibility(n.map((t=>t))),i=o.visibleComponents.map((t=>this.start(t,e))),s=(yield et.getSettings(this._glue)).loadingStrategy;return Promise.all(i).then((()=>{var t,n,i;return this._delayedExecutor.startExecution(o.notImmediatelyVisibleComponents.map((t=>({id:r(t.config.id),action:()=>this.start(t,e)}))),{batchSize:(null===(t=null==s?void 0:s.delayed)||void 0===t?void 0:t.batch)||1,executionInterval:(null===(n=null==s?void 0:s.delayed)||void 0===n?void 0:n.interval)||5e3,initialDelay:(null===(i=null==s?void 0:s.delayed)||void 0===i?void 0:i.initialOffsetInterval)||1e3})}))}))}startDirect(e){return t(this,void 0,void 0,(function*(){const t=h.getById(e);if(!(null==t?void 0:t.layout))return;const n=t.layout.root.getItemsByType(\"component\");yield Promise.all(n.map((t=>this.start(t,e))))}))}notifyFrameWillClose(t,e){return this._glue.interop.invoke(\"T42.Web.Platform.Control\",{domain:e?\"appManager\":\"windows\",operation:e?\"unregisterWorkspaceApp\":\"unregisterWorkspaceWindow\",data:{windowId:t}})}onStarted(t){return this.registry.add(\"on-started\",t)}onLoaded(t){return this.registry.add(\"on-loaded\",t)}onFailed(t){return this.registry.add(\"on-failed\",t)}waitForWindows(t,e){return new Promise(((n,o)=>{let i,s=()=>{},a=()=>{};const[l,c]=this.waitFor(e.length,(()=>{n(),s(),a(),clearTimeout(i)}));i=setTimeout((()=>{o(`Waiting for windows ${JSON.stringify(e)} in workspace ${t}, but only heard ${JSON.stringify(c())} in ${this.WAIT_FOR_WINDOWS_TIMEOUT} seconds`)}),this.WAIT_FOR_WINDOWS_TIMEOUT),s=this.onLoaded((({summary:n})=>{n.config.workspaceId===t&&e.includes(n.itemId)&&l(n.itemId)})),a=this.onFailed((n=>{n.workspaceId===t&&e.includes(r(n.component.config.id))&&l(n.component.config.id)}))}))}getUrlByAppName(t){var e,n,o,i;if(t)return null===(i=null===(o=null===(n=null===(e=this._glue.appManager)||void 0===e?void 0:e.application(t))||void 0===n?void 0:n.userProperties)||void 0===o?void 0:o.details)||void 0===i?void 0:i.url}raiseStarted(t){this.registry.execute(\"on-started\",{summary:t})}raiseLoaded(t){this.registry.execute(\"on-loaded\",{summary:t})}raiseFailed(t,e){this.registry.execute(\"on-failed\",{component:t,workspaceId:e})}getTitleByAppName(t){var e,n;if(t)return null===(n=null===(e=this._glue.appManager)||void 0===e?void 0:e.application(t))||void 0===n?void 0:n.title}getAppNameByWindowId(t){var e,n,o,i;return null===(i=null===(o=null===(n=null===(e=this._glue.appManager)||void 0===e?void 0:e.instances())||void 0===n?void 0:n.find((e=>e.id===t)))||void 0===o?void 0:o.application)||void 0===i?void 0:i.name}notifyFrameWillStart(t,e,n,o){return this._glue.interop.invoke(\"T42.Web.Platform.Control\",{domain:e?\"appManager\":\"windows\",operation:e?\"registerWorkspaceApp\":\"registerWorkspaceWindow\",data:{name:`${e||\"window\"}_${t}`,windowId:t,frameId:this._manager.frameId,appName:e,context:n,title:o}})}waitFor(t,e){let n=[];return[o=>{n.push(o),n.length===t&&e()},()=>n]}vaidateTitle(t){if(null==t?void 0:t.length)return t}getComponentsByVisibility(t){const e=t.filter((t=>this._stateResolver.isWindowSelected(t.config.id))),n=t.filter((t=>!e.includes(t)));return{visibleComponents:e,notImmediatelyVisibleComponents:n}}startCore(e,n){var o,i;return t(this,void 0,void 0,(function*(){const t=c(e.element),{componentState:s}=e.config,{title:a,appName:l}=s;let{windowId:d}=s;const u=r(e.config.id),p=this.getTitleByAppName(l),f=this.vaidateTitle(a)||this.vaidateTitle(p)||this.vaidateTitle(l)||\"Glue\",m=null===(o=null==e?void 0:e.config.componentState)||void 0===o?void 0:o.context;let g=this.getUrlByAppName(s.appName)||s.url;const w=!h.getWindow(u)||!h.getWindow(u).windowId,y=n.hibernatedWindows.some((t=>t.id===r(e.config.id)));if(h.addWindow({id:u,bounds:t,windowId:d,url:g,appName:l},n.id),!g&&d){const t=this._glue.windows.list().find((t=>t.id===d));g=yield t.getURL();h.getWindow(u).url=g}if(d=d||H.generate(),(null===(i=e.config.componentState)||void 0===i?void 0:i.context)&&delete e.config.componentState.context,e.config.componentState.url=g,f&&e.setTitle(f),w&&!y){const t=this._stateResolver.getWindowSummarySync(u,e);this._manager.workspacesEventEmitter.raiseWindowEvent({action:\"added\",payload:{windowSummary:t}});const n=this._glue.windows.findById(d);if(n)try{yield n.close()}catch(t){}}try{yield this.notifyFrameWillStart(d,l,m,f),yield this._frameController.startFrame(u,g,void 0,d);const t=h.getWindow(u);e.config.componentState.windowId=d,t.windowId=d;if(this._glue.windows.findById(d).getTitle().then((t=>{this.vaidateTitle(f)&&e.setTitle(t)})).catch((t=>{console.warn(\"Failed while setting the window title\",t)})),this._frameController.moveFrame(u,c(e.element)),w&&!y&&this._manager.workspacesEventEmitter.raiseWindowEvent({action:\"loaded\",payload:{windowSummary:yield this._stateResolver.getWindowSummary(u)}}),!l){const n=this.getAppNameByWindowId(d);if(!e.config.componentState)throw new Error(`Invalid state - the created component ${u} with windowId ${d} is missing its state object`);e.config.componentState.appName=n,t.appName=n}}catch(t){this.raiseFailed(e,n.id),e.config.componentState.windowId=void 0,g?this._frameController.moveFrame(u,c(e.element)):this._manager.closeTab(e,!1);if(!h.getById(n.id))throw new Error(`Workspace ${n.id} failed ot initialize because none of the specified windows were able to load\\n                Internal error: ${t}`)}finally{n.hibernatedWindows=n.hibernatedWindows.filter((t=>t.id!==r(e.config.id)))}}))}}class ot{constructor(){this.actionsInProgress=[]}startExecution(e,n){return t(this,void 0,void 0,(function*(){const o=this.splitInBatches(e,n.batchSize);yield this.waitFor(n.initialDelay);return o.reduce(((e,o)=>t(this,void 0,void 0,(function*(){const t=yield e;return t.push(...yield this.executeBatch(o)),yield this.waitFor(n.executionInterval),Promise.resolve(t)}))),Promise.resolve([])).then((()=>{this.actionsInProgress=[]}))}))}isActionInProgress(t){return this.actionsInProgress.some((e=>e.id===t))}executeBatch(t){return this.actionsInProgress=t,Promise.all(t.map((t=>t.action())))}splitInBatches(t,e){return t.reduce(((t,n,o)=>{if(o%e==0)t.push([n]);else{const e=t.pop();e.push(n),t.push(e)}return t}),[])}waitFor(t){return new Promise((e=>{setTimeout((()=>{e()}),t)}))}}var it=new class{constructor(){this._isLayoutInitialized=!1,this._initPromise=Promise.resolve(),this._workspacesEventEmitter=new J,this._titleGenerator=new X,this.getComponentBounds=()=>this._controller.bounds,this.subscribeForWindowClicked=t=>this._frameController?this._frameController.onFrameContentClicked(t):(console.warn(\"Your subscription to window clicked wasn't successful, because the Workspaces library isn't initialized yet\"),()=>{}),this.cleanUp=()=>{var t;if(this._isDisposing=!0,null===(t=U.config)||void 0===t?void 0:t.build)return;const e=[],n=h.workspaceIds.map((t=>{const n=h.getById(t);e.push(...n.windows.map((t=>this.stateResolver.getWindowSummarySync(t.id))));const o=this.stateResolver.getWorkspaceConfig(t),i=this.stateResolver.extractWindowSummariesFromSnapshot(o);return e.push(...i),this.stateResolver.getWorkspaceSummary(t)}));e.forEach((t=>{this._applicationFactory.notifyFrameWillClose(t.config.windowId,t.config.appName).catch((t=>{})),this.workspacesEventEmitter.raiseWindowEvent({action:\"removed\",payload:{windowSummary:t}})})),n.forEach((t=>{this.workspacesEventEmitter.raiseWorkspaceEvent({action:\"closed\",payload:{frameSummary:{id:this._frameId},workspaceSummary:t}})}));const o=h.layouts.filter((t=>{var e,n,o;return!(null===(o=null===(n=null===(e=t.layout)||void 0===e?void 0:e.config)||void 0===n?void 0:n.workspacesOptions)||void 0===o?void 0:o.noTabHeader)}));this._layoutsManager.saveWorkspacesFrame(o),this.workspacesEventEmitter.raiseFrameEvent({action:\"closed\",payload:{frameSummary:{id:this._frameId}}})}}get stateResolver(){return this._stateResolver}get workspacesEventEmitter(){return this._workspacesEventEmitter}get initPromise(){return this._initPromise}get initialized(){return this._initialized}get frameId(){return this._frameId}init(t,e,n,o){this._glue=t,this._facade=n;const i=U.loadConfig();if(this._initialized)return void f.reInitialize(o);this._initialized=!0,this._frameId=e,this._configFactory=new Y(t);const r=new Z(this._configFactory);f.init(this._frameId,o),this._frameController=new j(t);const a=new I(s());return this._stateResolver=new V(this._frameId,a,this._frameController),this._controller=new C(a,this._stateResolver,i,this._configFactory),this._applicationFactory=new nt(t,this.stateResolver,this._frameController,this,new ot),this._layoutsManager=new G(this.stateResolver,t,this._configFactory,r),this._popupManager=new Q(new K(t),new tt(o,e),o),i.emptyFrame||this.initLayout(),{cleanUp:this.cleanUp}}saveWorkspace(e,n,o){var i;return t(this,void 0,void 0,(function*(){const t=h.getById(n)||h.getActiveWorkspace(),s=yield this._layoutsManager.save({name:e,workspace:t,title:h.getWorkspaceTitle(t.id),saveContext:o}),r=(null===(i=t.layout)||void 0===i?void 0:i.config)||t.hibernateConfig;return r.workspacesOptions.layoutName=e,r.workspacesOptions.noTabHeader&&delete r.workspacesOptions.noTabHeader,s}))}openWorkspace(e,n){var o;return t(this,void 0,void 0,(function*(){const t=yield this._layoutsManager.getWorkspaceByName(e),i=t.config;if(i.workspacesOptions.context=t.layoutData.context,(null==n?void 0:n.context)&&i.workspacesOptions.context?i.workspacesOptions.context=Object.assign(t.layoutData.context,null==n?void 0:n.context):(null==n?void 0:n.context)&&(i.workspacesOptions.context=null==n?void 0:n.context),i.workspacesOptions.title=(null==n?void 0:n.title)||e,i&&i.workspacesOptions&&!i.workspacesOptions.name&&(i.workspacesOptions.name=e),i&&(i.workspacesOptions=i.workspacesOptions||{},i.workspacesOptions.layoutName=t.layoutData.name),i&&n&&(i.workspacesOptions.loadingStrategy=n.loadingStrategy),i&&void 0!==(null==n?void 0:n.noTabHeader)&&(i.workspacesOptions=i.workspacesOptions||{},i.workspacesOptions.noTabHeader=null==n?void 0:n.noTabHeader),!this._isLayoutInitialized)return this._layoutsManager.setInitialWorkspaceConfig(i),this._initPromise=this.initLayout(),yield this._initPromise,r(i.id);if(e){if(i.id=(null==n?void 0:n.reuseWorkspaceId)||this._configFactory.getId(),null==n?void 0:n.reuseWorkspaceId){h.getById(i.id).windows.map((t=>h.getWindowContentItem(t.id))).filter((t=>t)).map((t=>this.closeTab(t,!1))),yield this.reinitializeWorkspace(i.id,i),(null===(o=i.workspacesOptions)||void 0===o?void 0:o.context)&&(yield this._glue.contexts.set(d(i.id),i.workspacesOptions.context))}else yield this.addWorkspace(r(i.id),i);return r(i.id)}}))}exportAllLayouts(){return this._layoutsManager.export()}deleteLayout(t){this._layoutsManager.delete(t)}maximizeItem(t){this._controller.maximizeWindow(t)}restoreItem(t){this._controller.restoreWindow(t)}closeItem(t){const e=h.getWindow(t),n=h.getContainer(t);if(this._frameId===t)h.workspaceIds.forEach((t=>this.closeWorkspace(h.getById(t))));else if(e){const e=h.getWindowContentItem(t);if(!e)throw new Error(`Could not find item ${t} to close`);this.closeTab(e)}else if(n)this._controller.closeContainer(t);else{const e=h.getById(t);this.closeWorkspace(e)}}addContainer(e,n){return t(this,void 0,void 0,(function*(){const o=yield this._controller.addContainer(e,n),i=a(e.content),s=h.getById(n)||h.getByContainerId(n);return Promise.all(i.map((e=>t(this,void 0,void 0,(function*(){const t=h.getWindowContentItem(r(e.id));yield this._applicationFactory.start(t,s.id)}))))),o}))}addWindow(e,n){return t(this,void 0,void 0,(function*(){const t=h.getContainer(n);t&&\"stack\"===t.type||\"component\"!==e.type||(e=this._configFactory.wrapInGroup([e])),yield this._controller.addWindow(e,n);const o=h.getById(n)||h.getByContainerId(n),i=a([e]),s=h.getWindowContentItem(r(i[0].id));this._applicationFactory.start(s,o.id)}))}setItemTitle(t,e){h.getById(t)?this._controller.setWorkspaceTitle(t,e):this._controller.setWindowTitle(t,e)}eject(e){return t(this,void 0,void 0,(function*(){const{appName:t,url:n,windowId:o}=e.config.componentState,i=h.getWorkspaceContext(h.getByWindowId(e.config.id).id),s=this._glue.windows.findById(o),a=s?yield s.getContext():i;if(this.closeItem(r(e.config.id)),t){const e=o?{reuseId:o}:void 0;return{windowId:(yield this._glue.appManager.application(t).start(a,e)).id}}const l=this._applicationFactory.getUrlByAppName(t)||n;return{windowId:(yield this._glue.windows.open(`${t}_${o}`,l,{context:a,windowId:o})).id}}))}createWorkspace(e){var n,o,i;return t(this,void 0,void 0,(function*(){if(!this._isLayoutInitialized)return e.id=this._configFactory.getId(),this._layoutsManager.setInitialWorkspaceConfig(e),this._initPromise=this.initLayout(),yield this._initPromise,r(e.id);const t=(null===(n=e.workspacesOptions)||void 0===n?void 0:n.reuseWorkspaceId)||this._configFactory.getId();if(null===(o=e.workspacesOptions)||void 0===o?void 0:o.reuseWorkspaceId){const n=h.getById(t);if(!n)throw new Error(`Could not find workspace ${null===(i=e.workspacesOptions)||void 0===i?void 0:i.reuseWorkspaceId} to reuse`);n.windows.map((t=>h.getWindowContentItem(t.id))).filter((t=>t)).map((t=>this.closeTab(t,!1))),yield this.reinitializeWorkspace(t,e),e.workspacesOptions.context&&(yield this._glue.contexts.set(d(t),e.workspacesOptions.context))}else yield this.addWorkspace(t,e);return t}))}loadWindow(e){return t(this,void 0,void 0,(function*(){let t=h.getWindowContentItem(e);if(!t)throw new Error(`Could not find window ${e} to load`);let{windowId:n}=t.config.componentState;const o=h.getByWindowId(e);return this.stateResolver.isWindowLoaded(e)||\"component\"!==t.type||(this._applicationFactory.start(t,o.id),yield this.waitForFrameLoaded(e),t=h.getWindowContentItem(e),n=t.config.componentState.windowId),new Promise(((t,o)=>{n||o(`The window id of ${e} is missing`);let i=()=>{};const s=setTimeout((()=>{o(`Could not load window ${n} for 5000ms`),i()}),5e3);i=this._glue.windows.onWindowAdded((e=>{e.id===n&&(t({windowId:n}),i(),clearTimeout(s))}));this._glue.windows.list().find((t=>t.id===n))&&(t({windowId:n}),i(),clearTimeout(s))}))}))}focusItem(e){return t(this,void 0,void 0,(function*(){const t=h.getById(e);this._frameId===e||(t?(t.hibernateConfig&&(yield this.resumeWorkspace(t.id)),this._controller.focusWorkspace(t.id)):this._controller.focusWindow(e))}))}bundleWorkspace(t,e){if(this._stateResolver.isWorkspaceHibernated(t))throw new Error(`Could not bundle workspace ${t} because its hibernated`);this._controller.bundleWorkspace(t,e)}move(t){return this._glue.windows.my().moveTo(t.y,t.x)}getFrameSummary(t){const e=h.getByContainerId(t)||h.getByWindowId(t)||h.getById(t),n=this._frameId===t;return{id:e||n?this._frameId:\"none\"}}moveWindowTo(e,n){return t(this,void 0,void 0,(function*(){const t=h.getByWindowId(e),o=h.getByContainerId(n)||h.getById(n);if(!o)throw new Error(`Could not find container ${n} in frame ${this._frameId}`);if(!t)throw new Error(`Could not find window ${e} in frame ${this._frameId}`);if(this._stateResolver.isWorkspaceHibernated(o.id))throw new Error(`Could not move window ${e} to workspace ${o.id} because its hibernated`);if(this._stateResolver.isWorkspaceHibernated(t.id))throw new Error(`Could not move window ${e} from workspace ${t.id} because its hibernated`);const i=h.getWindowContentItem(e);if(!i)throw new Error(`Could not find window ${e} in frame ${this._frameId}`);const s=t.windows.find((t=>t.id===e||t.windowId===e));this._controller.removeLayoutElement(e),h.removeWindow(s,t.id),h.addWindow(s,o.id),yield this._controller.addWindow(i.config,n)}))}generateWorkspaceLayout(t,e){const n=h.getById(e);if(!n)throw new Error(\"Could not find workspace with id \"+e);return this._layoutsManager.generateLayout(t,n)}resumeWorkspace(e){return t(this,void 0,void 0,(function*(){const t=h.getById(e);if(!t)throw new Error(`Could not find workspace ${e} in any of the frames`);const n=t.hibernateConfig;n.workspacesOptions||(n.workspacesOptions={}),n.workspacesOptions.reuseWorkspaceId=e,yield this.createWorkspace(n),t.hibernateConfig=void 0,this._controller.showSaveIcon(e)}))}lockWorkspace(e){var n,o,i,s;return t(this,void 0,void 0,(function*(){e.config||(e.config={allowDrop:!1,allowDropLeft:!1,allowDropTop:!1,allowDropRight:!1,allowDropBottom:!1,allowExtract:!1,allowSplitters:!1,showCloseButton:!1,showSaveButton:!1}),Object.keys(e.config).forEach((t=>{const n=e.config;void 0===n[t]&&(n[t]=!0)})),void 0!==e.config.allowDrop&&(e.config.allowDropLeft=null!==(n=e.config.allowDropLeft)&&void 0!==n?n:e.config.allowDrop,e.config.allowDropTop=null!==(o=e.config.allowDropTop)&&void 0!==o?o:e.config.allowDrop,e.config.allowDropRight=null!==(i=e.config.allowDropRight)&&void 0!==i?i:e.config.allowDrop,e.config.allowDropBottom=null!==(s=e.config.allowDropBottom)&&void 0!==s?s:e.config.allowDrop);const{allowDrop:t,allowExtract:r,allowSplitters:a,showCloseButton:l,showSaveButton:c}=e.config,{workspaceId:d}=e;!1===t?this._controller.disableWorkspaceDrop(d,e.config):this._controller.enableWorkspaceDrop(d,e.config),!1===r?this._controller.disableWorkspaceExtract(d):this._controller.enableWorkspaceExtract(d),!1===a?this._controller.disableSplitters(d):this._controller.enableSplitters(d),!1===l?this._controller.disableWorkspaceCloseButton(d):this._controller.enableWorkspaceCloseButton(d),!1===c?this._controller.disableWorkspaceSaveButton(d):this._controller.enableWorkspaceSaveButton(d)}))}lockContainer(e){return t(this,void 0,void 0,(function*(){switch((e.config||\"column\"!==e.type)&&(e.config||\"row\"!==e.type)?e.config||\"group\"!==e.type||(e.config={allowDrop:!1,allowExtract:!1,showAddWindowButton:!1,showEjectButton:!1,showMaximizeButton:!1}):e.config={allowDrop:!1},Object.keys(e.config).forEach((t=>{const n=e.config;void 0===n[t]&&(n[t]=!0)})),e.type){case\"column\":this.handleColumnLockRequested(e);break;case\"row\":this.handleRowLockRequested(e);break;case\"group\":this.handleGroupLockRequested(e)}}))}lockWindow(e){return t(this,void 0,void 0,(function*(){e.config||(e.config={allowExtract:!1,showCloseButton:!1}),Object.keys(e.config).forEach((t=>{const n=e.config;void 0===n[t]&&(n[t]=!0)}));const{allowExtract:t,showCloseButton:n}=e.config,{windowPlacementId:o}=e;!1===t?this._controller.disableWindowExtract(o):this._controller.enableWindowExtract(o,t),!1===n?this._controller.disableWindowCloseButton(o):this._controller.enableWindowCloseButton(o,n);const i=h.getByWindowId(o);(null==i?void 0:i.layout)&&i.layout.updateSize()}))}hibernateWorkspace(e){return t(this,void 0,void 0,(function*(){const t=h.getById(e);if(h.getActiveWorkspace().id===t.id)throw new Error(`Cannot hibernate workspace ${t.id} because its active`);if(this.stateResolver.isWorkspaceHibernated(e))throw new Error(`Cannot hibernate workspace ${e} because it has already been hibernated`);if(!t.layout)throw new Error(`Cannot hibernate workspace ${t.id} because its empty`);const n=yield this.stateResolver.getWorkspaceConfig(t.id);return t.hibernatedWindows=t.windows,n.workspacesOptions.isHibernated=!0,t.hibernateConfig=n,t.windows.map((t=>h.getWindowContentItem(t.id))).forEach((t=>this.closeTab(t,!1))),h.removeLayout(t.id),this._controller.showHibernationIcon(e),n}))}closeTab(t,e=!0){const n=r(t.config.id),o=h.getByWindowId(n),i=this.stateResolver.getWindowSummarySync(n);this._controller.removeLayoutElement(n),this._frameController.remove(n),this._applicationFactory.notifyFrameWillClose(i.config.windowId,i.config.appName).catch((t=>{})),o.hibernatedWindows.some((t=>i.itemId===t.id))||this.workspacesEventEmitter.raiseWindowEvent({action:\"removed\",payload:{windowSummary:i}}),!o.windows.length&&e&&this.checkForEmptyWorkspace(o)}unmount(){try{this._popupManager.hidePopup()}catch(t){console.warn(t)}}initLayout(){var e;return t(this,void 0,void 0,(function*(){const t=yield et.getSettings(this._glue),n=yield this._layoutsManager.getInitialConfig();this.subscribeForPopups(),this.subscribeForLayout(),this._isLayoutInitialized=!0,yield Promise.all(n.workspaceConfigs.map((t=>{var e,n;return this._glue.contexts.set(d(t.id),(null===(n=null===(e=t.config)||void 0===e?void 0:e.workspacesOptions)||void 0===n?void 0:n.context)||{})}))),yield this._controller.init({frameId:this._frameId,workspaceLayout:n.workspaceLayout,workspaceConfigs:n.workspaceConfigs,showLoadingIndicator:(null===(e=null==t?void 0:t.loadingStrategy)||void 0===e?void 0:e.showDelayedIndicator)||!1}),Promise.all(h.workspaceIds.map((e=>{const o=this._applicationFactory.getLoadingStrategy(t,n.workspaceConfigs[0].config);return this.handleWindows(e,o)}))),h.layouts.map((t=>t.layout)).filter((t=>t)).forEach((t=>this.reportLayoutStructure(t))),U.config.emptyFrame&&this._workspacesEventEmitter.raiseFrameEvent({action:\"opened\",payload:{frameSummary:{id:this._frameId}}})}))}reinitializeWorkspace(e,n){return t(this,void 0,void 0,(function*(){yield this._controller.reinitializeWorkspace(e,n);const t=yield et.getSettings(this._glue),o=this._applicationFactory.getLoadingStrategy(t,n);this.handleWindows(e,o)}))}subscribeForLayout(){this._controller.emitter.onContentItemResized(((t,e)=>{this._frameController.moveFrame(e,c(t))})),this._controller.emitter.onTabCloseRequested((e=>t(this,void 0,void 0,(function*(){const t=h.getByWindowId(r(e.config.id));this.closeTab(e),this._controller.removeLayoutElement(r(e.config.id)),this._frameController.remove(r(e.config.id)),t.windows.length||this.checkForEmptyWorkspace(t)})))),this._controller.emitter.onWorkspaceTabCloseRequested((t=>{this.closeWorkspace(t)})),this._controller.emitter.onTabElementMouseDown((t=>{const e=c(t.contentItem.element),n=Math.min(e.width,800),o=Math.min(e.height,600);this._controller.setDragElementSize(n,o)})),this._controller.emitter.onTabDragStart((t=>{const e=this._controller.getDragElement(),n=new MutationObserver((e=>{Array.from(e).forEach((e=>{if(\"attributes\"===e.type){const e=$(this._controller.getDragElement()).children(\".lm_content\").children(\".lm_item_container\"),n=c(e[0]),o=r(t.contentItem.config.id);this._frameController.moveFrame(o,n),this._frameController.bringToFront(o)}}))}));e&&n.observe(e,{attributes:!0})})),this._controller.emitter.onTabDragEnd((t=>{const e=t.header.tabs.filter((e=>e.contentItem.config.id!==t.contentItem.config.id));this._frameController.selectionChanged([r(t.contentItem.id)],e.map((t=>r(t.contentItem.id))))})),this._controller.emitter.onSelectionChanged(((e,n)=>t(this,void 0,void 0,(function*(){this._popupManager.hidePopup(),this._frameController.selectionChanged(n.map((t=>t.id)),e.map((t=>t.id)))})))),this._controller.emitter.onWorkspaceAdded((t=>{var e;const n=h.workspaceIds.filter((e=>e!==t.id)).reduce(((t,e)=>[...t,...h.getById(e).windows]),[]);if(this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"opened\",payload:{frameSummary:{id:this._frameId},workspaceSummary:this.stateResolver.getWorkspaceSummary(t.id)}}),h.getActiveWorkspace().id===t.id){if(this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"selected\",payload:{frameSummary:{id:this._frameId},workspaceSummary:this.stateResolver.getWorkspaceSummary(t.id)}}),!t.layout)return void this._frameController.selectionChangedDeep([],n.map((t=>t.id)));const e=a(t.layout.toConfig().content);this._frameController.selectionChangedDeep(e.map((t=>r(t.id))),n.map((t=>t.id)))}if(!t.layout)return;const o=t.layout.config.workspacesOptions,i=o.title||o.name;i&&(null===(e=h.getWorkspaceLayoutItemById(t.id))||void 0===e||e.setTitle(i))})),this._controller.emitter.onWorkspaceSelectionChanged(((t,e)=>{if(this._popupManager.hidePopup(),!t.layout)return this._frameController.selectionChangedDeep([],e.map((t=>t.id))),this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"selected\",payload:{frameSummary:{id:this._frameId},workspaceSummary:this.stateResolver.getWorkspaceSummary(t.id)}}),void(t.hibernateConfig&&this.resumeWorkspace(t.id));const n=a(t.layout.toConfig().content).filter((t=>this._controller.isWindowVisible(t.id)));this._frameController.selectionChangedDeep(n.map((t=>r(t.id))),e.map((t=>t.id))),this._workspacesEventEmitter.raiseWorkspaceEvent({action:\"selected\",payload:{frameSummary:{id:this._frameId},workspaceSummary:this.stateResolver.getWorkspaceSummary(t.id)}})})),this._controller.emitter.onAddButtonClicked((({laneId:e,workspaceId:n,bounds:o,parentType:i})=>t(this,void 0,void 0,(function*(){const t={boxId:e,workspaceId:n,parentType:i,frameId:this._frameId,peerId:this._glue.agm.instance.peerId,domNode:void 0,resizePopup:void 0,hidePopup:void 0};yield this._popupManager.showAddWindowPopup(o,t)})))),this._controller.emitter.onContentLayoutInit((t=>{this.reportLayoutStructure(t)})),this._controller.emitter.onWorkspaceAddButtonClicked((()=>t(this,void 0,void 0,(function*(){const t={frameId:this._frameId,peerId:this._glue.agm.instance.windowId},e=h.workspaceLayoutHeader.element.find(\".lm_workspace_controls\").find(\".lm_add_button\"),n=c(e);yield this._popupManager.showOpenWorkspacePopup(n,t)})))),this._controller.emitter.onWorkspaceSaveRequested((e=>t(this,void 0,void 0,(function*(){const t={frameId:this._frameId,workspaceId:e,peerId:this._glue.agm.instance.peerId,buildMode:U.config.build,domNode:void 0,resizePopup:void 0,hidePopup:void 0},n=h.getWorkspaceLayoutItemById(e).tab.element.find(\".lm_saveButton\"),o=c(n);yield this._popupManager.showSaveWorkspacePopup(o,t)})))),this._controller.emitter.onStackMaximized((t=>{const e=t.getActiveContentItem(),n=t.contentItems.map((t=>r(t.config.id)));t.contentItems.forEach((t=>{this._frameController.maximizeTab(r(t.config.id))})),this._frameController.selectionChanged([r(e.config.id)],n)})),this._controller.emitter.onStackRestored((t=>{const e=t.getActiveContentItem(),n=t.contentItems.map((t=>r(t.config.id)));t.contentItems.forEach((t=>{this._frameController.restoreTab(r(t.config.id))})),this._frameController.selectionChanged([r(e.config.id)],n)})),this._controller.emitter.onEjectRequested((t=>{if(!t.isComponent)throw new Error(\"Can't eject item of type \"+t.type);return this.eject(t)})),this._controller.emitter.onComponentSelectedInWorkspace(((t,e)=>{this._applicationFactory.start(t,e)}));const e={};this._controller.emitter.onWorkspaceContainerResized((t=>{const n=r(t);e[n]&&clearTimeout(e[n]),e[n]=setTimeout((()=>{this._controller.refreshWorkspaceSize(n)}),16)}));let n=void 0;f.onWorkspaceContentsShown((t=>{const e=h.getActiveWorkspace();if(!(null==e?void 0:e.layout)||t!==e.id)return;n&&clearTimeout(n),n=setTimeout((()=>{const t=$(\"#nestHere\"+e.id),n=c(t[0]);e.layout.updateSize(n.width,n.height)}),50);const o=e.layout.root.getItemsByFilter((t=>\"stack\"===t.type));this._frameController.selectionChangedDeep(o.map((t=>r(t.getActiveContentItem().config.id))),[])})),f.onWorkspaceContentsHidden((t=>{const e=h.getById(t);(null==e?void 0:e.layout)&&t===e.id&&this._frameController.selectionChangedDeep([],e.windows.map((t=>t.id)))})),this.workspacesEventEmitter.onWorkspaceEvent(((t,e)=>{const n=h.getById(e.workspaceSummary.id);n&&(n.lastActive=Date.now())}))}subscribeForPopups(){this._frameController.onFrameContentClicked((()=>{this._popupManager.hidePopup()})),this._frameController.onWindowTitleChanged(((t,e)=>{this.setItemTitle(t,e)})),this._frameController.onFrameLoaded((t=>{this._controller.hideLoadingIndicator(t)}))}reportLayoutStructure(t){a(t.toConfig().content).forEach((e=>{const n=t.root.getItemsById(e.id)[0];this._frameController.moveFrame(r(n.config.id),c(n.element))}))}closeWorkspace(t){if(!t)throw new Error(\"Could not find a workspace to close\");t.hibernateConfig?this.closeHibernatedWorkspaceCore(t):this.closeWorkspaceCore(t)}closeWorkspaceCore(t){const e=this.stateResolver.getWorkspaceSummary(t.id),n=t.windows.map((t=>{if(h.getWindowContentItem(t.id))return this.stateResolver.getWindowSummarySync(t.id)})).filter((t=>t));t.windows.forEach((t=>this._frameController.remove(t.id)));const o=this.checkForEmptyWorkspace(t);n.forEach((t=>{this._applicationFactory.notifyFrameWillClose(t.config.windowId,t.config.appName).catch((t=>{})),this.workspacesEventEmitter.raiseWindowEvent({action:\"removed\",payload:{windowSummary:t}})})),o||this.workspacesEventEmitter.raiseWorkspaceEvent({action:\"closed\",payload:{workspaceSummary:e,frameSummary:{id:this._frameId}}})}closeHibernatedWorkspaceCore(t){const e=this.stateResolver.getWorkspaceSummary(t.id),n=this.stateResolver.getSnapshot(t.id),o=this.stateResolver.extractWindowSummariesFromSnapshot(n);t.windows.forEach((t=>this._frameController.remove(t.id)));const i=this.checkForEmptyWorkspace(t);o.forEach((t=>{this._applicationFactory.notifyFrameWillClose(t.config.windowId,t.config.appName).catch((t=>{})),this.workspacesEventEmitter.raiseWindowEvent({action:\"removed\",payload:{windowSummary:t}})})),i||this.workspacesEventEmitter.raiseWorkspaceEvent({action:\"closed\",payload:{workspaceSummary:e,frameSummary:{id:this._frameId}}})}addWorkspace(e,n){var o;return t(this,void 0,void 0,(function*(){yield this._glue.contexts.set(d(e),(null===(o=null==n?void 0:n.workspacesOptions)||void 0===o?void 0:o.context)||{}),yield this._controller.addWorkspace(e,n);const t=yield et.getSettings(this._glue),i=this._applicationFactory.getLoadingStrategy(t,n);this.handleWindows(e,i)}))}handleWindows(e,n){return t(this,void 0,void 0,(function*(){switch(n){case\"delayed\":yield this._applicationFactory.startDelayed(e);break;case\"direct\":yield this._applicationFactory.startDirect(e);break;case\"lazy\":yield this._applicationFactory.startLazy(e)}}))}checkForEmptyWorkspace(t){var e;if(1===h.layouts.length){if(this._isLayoutInitialized&&window.glue42core.isPlatformFrame){t.windows=[],null===(e=t.layout)||void 0===e||e.destroy(),t.layout=void 0,this._controller.showAddButton(t.id);const n=h.getWorkspaceTitle(t.id),o=this._configFactory.getWorkspaceTitle(h.workspaceTitles.filter((t=>t!==n)));return this._controller.setWorkspaceTitle(t.id,o),!0}if(this._isLayoutInitialized){try{this._facade.executeAfterControlIsDone((()=>{window.close()}))}catch(t){}return!0}}else this._controller.removeWorkspace(t.id);return!1}waitForFrameLoaded(t){return new Promise(((e,n)=>{let o=()=>{};const i=setTimeout((()=>{o(),n(`Did not hear frame loaded for ${t} in 5000ms`)}),5e3);o=this.workspacesEventEmitter.onWindowEvent(((n,s)=>{\"loaded\"===n&&s.windowSummary.itemId===t&&(e(),clearTimeout(i),o())})),this.stateResolver.isWindowLoaded(t)&&(e(),clearTimeout(i),o())}))}handleGroupLockRequested(t){const{allowExtract:e,showAddWindowButton:n,showEjectButton:o,showMaximizeButton:i,allowDrop:s}=t.config;!1===e?this._controller.disableGroupExtract(t.itemId):this._controller.enableGroupExtract(t.itemId,e),!1===n?this._controller.disableGroupAddWindowButton(t.itemId):this._controller.enableGroupAddWindowButton(t.itemId,n),!1===o?this._controller.disableGroupEjectButton(t.itemId):this._controller.enableGroupEjectButton(t.itemId,o),!1===i?this._controller.disableGroupMaximizeButton(t.itemId):this._controller.enableGroupMaximizeButton(t.itemId,i),!1===s?this._controller.disableGroupDrop(t.itemId):this._controller.enableGroupDrop(t.itemId,s);const r=h.getByContainerId(t.itemId);(null==r?void 0:r.layout)&&r.layout.updateSize()}handleRowLockRequested(t){const{allowDrop:e}=t.config;!1===e?this._controller.disableRowDrop(t.itemId):this._controller.enableRowDrop(t.itemId,e)}handleColumnLockRequested(t){const{allowDrop:e}=t.config;!1===e?this._controller.disableColumnDrop(t.itemId):this._controller.enableColumnDrop(t.itemId,e)}};var st=new class{constructor(){this._workspacesControlMethod=\"T42.Workspaces.Control\",this._workspacesEventMethod=\"T42.Workspaces.Events\",this._inDisposing=!1,this._controlPromise=Promise.resolve(),this.handleControlCore=(e,n,o,i)=>t(this,void 0,void 0,(function*(){try{switch(yield it.initPromise,e.operation){case\"isWindowInWorkspace\":o(this.handleIsWindowInWorkspace(e.operationArguments));break;case\"addWindow\":o(yield this.handleAddWindow(e.operationArguments));break;case\"addContainer\":o(yield this.handleAddContainer(e.operationArguments));break;case\"getWorkspaceSnapshot\":o(this.handleGetWorkspaceSnapshot(e.operationArguments));break;case\"openWorkspace\":o(yield this.handleOpenWorkspace(e.operationArguments));break;case\"saveLayout\":o(yield this.handleSaveLayout(e.operationArguments));break;case\"exportAllLayouts\":o(yield this.handleExportAllLayouts());break;case\"deleteLayout\":this.handleDeleteLayout(e.operationArguments),o(void 0);break;case\"getAllWorkspacesSummaries\":o(this.handleGetAllWorkspaceSummaries());break;case\"maximizeItem\":this.handleMaximizeItem(e.operationArguments),o(void 0);break;case\"restoreItem\":this.handleRestoreItem(e.operationArguments),o(void 0);break;case\"closeItem\":this.handleCloseItem(e.operationArguments),o(void 0);break;case\"setItemTitle\":yield this.handleSetItemTitle(e.operationArguments),o(void 0);break;case\"addWorkspaceChildren\":yield this.handleAddWorkspaceChildren(e.operationArguments),o(void 0);break;case\"ejectWindow\":o(yield this.handleEject(e.operationArguments));break;case\"createWorkspace\":o(yield this.handleCreateWorkspace(e.operationArguments));break;case\"forceLoadWindow\":o(yield this.handleForceLoadWindow(e.operationArguments));break;case\"focusItem\":yield this.handleFocusItem(e.operationArguments),o(void 0);break;case\"bundleWorkspace\":this.handleBundleWorkspace(e.operationArguments),o(void 0);break;case\"getFrameSummary\":o(yield this.handleGetFrameSummary(e.operationArguments));break;case\"moveFrame\":yield this.handleMoveFrame(e.operationArguments),o(void 0);break;case\"getFrameSnapshot\":o(yield this.handleGetFrameSnapshot());break;case\"getSnapshot\":o(yield this.handleGetSnapshot(e.operationArguments));break;case\"moveWindowTo\":yield this.handleMoveWindowTo(e.operationArguments),o(void 0);break;case\"generateLayout\":o(yield this.handleGenerateLayout(e.operationArguments));break;case\"ping\":o(this.handlePing());break;case\"hibernateWorkspace\":yield this.handleHibernateWorkspace(e.operationArguments),o(void 0);break;case\"resumeWorkspace\":yield this.handleResumeWorkspace(e.operationArguments),o(void 0);break;case\"lockWorkspace\":yield this.handleLockWorkspace(e.operationArguments),o(void 0);break;case\"lockContainer\":yield this.handleLockContainer(e.operationArguments),o(void 0);break;case\"lockWindow\":yield this.handleLockWindow(e.operationArguments),o(void 0);break;default:i(\"Invalid operation - \"+e.operation)}}catch(t){i(t.message),console.warn(t)}})),this.handleControl=(e,n,o,i)=>t(this,void 0,void 0,(function*(){const t=this.handleControlCore(e,n,o,i);this._controlPromise=t,yield t}))}init(e,n){return t(this,void 0,void 0,(function*(){this._frameId=n,this._glue=e,this._configFactory=new Y(e),this._converter=new Z(this._configFactory),this._glue&&(yield this.registerAgmMethods())}))}dispose(){this._inDisposing=!0}subscribeForWorkspaceEvents(){it.workspacesEventEmitter.onFrameEvent(((t,e)=>{this.publishEventData(t,e,\"frame\")})),it.workspacesEventEmitter.onWindowEvent(((t,e)=>{this.publishEventData(t,e,\"window\")})),it.workspacesEventEmitter.onWorkspaceEvent(((t,e)=>{this.publishEventData(t,e,\"workspace\")})),it.workspacesEventEmitter.onContainerEvent(((t,e)=>{this.publishEventData(t,e,\"box\")}))}executeAfterControlIsDone(t){this._controlPromise.finally((()=>t()))}registerAgmMethods(){return t(this,void 0,void 0,(function*(){yield this._glue.agm.registerAsync({name:this._workspacesControlMethod},this.handleControl)}))}handleOpenWorkspace(e){return t(this,void 0,void 0,(function*(){const t=yield it.openWorkspace(e.name,e.restoreOptions),n=it.stateResolver.getWorkspaceConfig(t),o=this._converter.convertToAPIConfig(n);return{id:o.id,children:o.children,config:o.config,frameSummary:{id:this._frameId}}}))}handleExportAllLayouts(){return t(this,void 0,void 0,(function*(){return{layouts:yield it.exportAllLayouts()}}))}handleSaveLayout(e){return t(this,void 0,void 0,(function*(){return yield it.saveWorkspace(e.name,e.workspaceId,e.saveContext)}))}handleDeleteLayout(t){it.deleteLayout(t.name)}handleGetWorkspaceSnapshot(t){const e=h.getById(t.itemId),n=it.stateResolver.getWorkspaceConfig(e.id),o=this._converter.convertToAPIConfig(n);return{id:o.id,children:o.children,config:o.config,frameSummary:{id:this._frameId}}}handleGetAllWorkspaceSummaries(){return{summaries:h.layouts.map((t=>it.stateResolver.getWorkspaceSummary(t.id)))}}handleCloseItem(t){it.closeItem(t.itemId)}handleRestoreItem(t){it.restoreItem(t.itemId)}handleMaximizeItem(t){it.maximizeItem(t.itemId)}handleAddContainer(e){return t(this,void 0,void 0,(function*(){const t=this._converter.convertToRendererConfig(e.definition);if(\"workspace\"===t.type)throw new Error(\"Unsuccessful conversion\");const n={id:r(t.id),content:t.content,type:t.type,workspacesConfig:t.workspacesConfig};return{itemId:yield it.addContainer(n,e.parentId)}}))}handleAddWindow(e){return t(this,void 0,void 0,(function*(){const t=this._configFactory.createGDWindowConfig({windowId:e.definition.windowId,id:void 0,appName:e.definition.appName,url:e.definition.url,context:e.definition.context,allowExtract:!0,showCloseButton:!0});if(e.definition.windowId){const n=this._glue.windows.list().find((t=>t.id===e.definition.windowId)),o=yield n.getURL();t.componentState.url=o,t.componentState.appName=this._configFactory.getAppNameFromWindowId(n.id)}return yield it.addWindow(t,e.parentId),{itemId:r(t.id)}}))}handleSetItemTitle(t){it.setItemTitle(t.itemId,t.title)}handleAddWorkspaceChildren(e){return t(this,void 0,void 0,(function*(){const t=e.children.some((t=>\"row\"===t.type)),n=e.children.some((t=>\"column\"===t.type));if(n&&t)throw new Error(\"Can't add both row and column workspace children\");let o={type:\"column\",children:e.children};n&&(o={type:\"row\",children:e.children});const i=this._converter.convertToRendererConfig(o);yield it.addContainer(i,e.workspaceId)}))}handleEject(e){return t(this,void 0,void 0,(function*(){const t=h.getWindowContentItem(e.itemId);if(!t)throw new Error(\"Could not find item \"+e.itemId);return yield it.eject(t)}))}handleCreateWorkspace(e){return t(this,void 0,void 0,(function*(){e.config||(e.config={}),e.config.context=e.config.context||e.context;const t=this._converter.convertToRendererConfig(e),n=yield it.createWorkspace(t),o=this._converter.convertToAPIConfig(it.stateResolver.getWorkspaceConfig(n));return{id:o.id,children:o.children,config:o.config,frameSummary:{id:this._frameId}}}))}handleForceLoadWindow(e){return t(this,void 0,void 0,(function*(){return yield it.loadWindow(e.itemId)}))}handleFocusItem(t){return it.focusItem(t.itemId)}handleBundleWorkspace(t){return it.bundleWorkspace(t.workspaceId,t.type)}handleIsWindowInWorkspace(t){return{inWorkspace:it.stateResolver.isWindowInWorkspace(t.itemId)}}handleGetFrameSummary(e){return t(this,void 0,void 0,(function*(){return it.getFrameSummary(e.itemId)}))}handleMoveFrame(e){return t(this,void 0,void 0,(function*(){yield it.move(e.location)}))}handleGetFrameSnapshot(){return it.stateResolver.getFrameSnapshot()}handleGetSnapshot(e){return t(this,void 0,void 0,(function*(){return it.stateResolver.getSnapshot(e.itemId)}))}handleMoveWindowTo(e){return t(this,void 0,void 0,(function*(){return it.moveWindowTo(e.itemId,e.containerId)}))}handleGenerateLayout(t){return it.generateWorkspaceLayout(t.name,t.workspaceId)}handlePing(){return{live:!this._inDisposing}}handleHibernateWorkspace(e){return t(this,void 0,void 0,(function*(){return it.hibernateWorkspace(e.workspaceId)}))}handleResumeWorkspace(e){return t(this,void 0,void 0,(function*(){return it.resumeWorkspace(e.workspaceId)}))}handleLockWorkspace(t){return it.lockWorkspace(t)}handleLockWindow(t){return it.lockWindow(t)}handleLockContainer(t){return it.lockContainer(t)}publishEventData(t,e,n){if(this._glue.agm.methods().some((t=>t.name===this._workspacesEventMethod))){const o={action:t,type:n,payload:e};this._glue.agm.invoke(this._workspacesEventMethod,o).catch((()=>{}))}}},rt=n((function(t){\n/*!\n * jQuery JavaScript Library v3.5.1\n * https://jquery.com/\n *\n * Includes Sizzle.js\n * https://sizzlejs.com/\n *\n * Copyright JS Foundation and other contributors\n * Released under the MIT license\n * https://jquery.org/license\n *\n * Date: 2020-05-04T22:49Z\n */\n!function(e,n){t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error(\"jQuery requires a window with a document\");return n(t)}}(\"undefined\"!=typeof window?window:e,(function(t,e){var n=[],o=Object.getPrototypeOf,i=n.slice,s=n.flat?function(t){return n.flat.call(t)}:function(t){return n.concat.apply([],t)},r=n.push,a=n.indexOf,l={},c=l.toString,d=l.hasOwnProperty,h=d.toString,u=h.call(Object),p={},f=function(t){return\"function\"==typeof t&&\"number\"!=typeof t.nodeType},m=function(t){return null!=t&&t===t.window},g=t.document,w={type:!0,src:!0,nonce:!0,noModule:!0};function y(t,e,n){var o,i,s=(n=n||g).createElement(\"script\");if(s.text=t,e)for(o in w)(i=e[o]||e.getAttribute&&e.getAttribute(o))&&s.setAttribute(o,i);n.head.appendChild(s).parentNode.removeChild(s)}function v(t){return null==t?t+\"\":\"object\"==typeof t||\"function\"==typeof t?l[c.call(t)]||\"object\":typeof t}var _=\"3.5.1\",C=function(t,e){return new C.fn.init(t,e)};function I(t){var e=!!t&&\"length\"in t&&t.length,n=v(t);return!f(t)&&!m(t)&&(\"array\"===n||0===e||\"number\"==typeof e&&e>0&&e-1 in t)}C.fn=C.prototype={jquery:_,constructor:C,length:0,toArray:function(){return i.call(this)},get:function(t){return null==t?i.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=C.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return C.each(this,t)},map:function(t){return this.pushStack(C.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return this.pushStack(i.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(C.grep(this,(function(t,e){return(e+1)%2})))},odd:function(){return this.pushStack(C.grep(this,(function(t,e){return e%2})))},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:r,sort:n.sort,splice:n.splice},C.extend=C.fn.extend=function(){var t,e,n,o,i,s,r=arguments[0]||{},a=1,l=arguments.length,c=!1;for(\"boolean\"==typeof r&&(c=r,r=arguments[a]||{},a++),\"object\"==typeof r||f(r)||(r={}),a===l&&(r=this,a--);a<l;a++)if(null!=(t=arguments[a]))for(e in t)o=t[e],\"__proto__\"!==e&&r!==o&&(c&&o&&(C.isPlainObject(o)||(i=Array.isArray(o)))?(n=r[e],s=i&&!Array.isArray(n)?[]:i||C.isPlainObject(n)?n:{},i=!1,r[e]=C.extend(c,s,o)):void 0!==o&&(r[e]=o));return r},C.extend({expando:\"jQuery\"+(_+Math.random()).replace(/\\D/g,\"\"),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||\"[object Object]\"!==c.call(t))&&(!(e=o(t))||\"function\"==typeof(n=d.call(e,\"constructor\")&&e.constructor)&&h.call(n)===u)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,n){y(t,{nonce:e&&e.nonce},n)},each:function(t,e){var n,o=0;if(I(t))for(n=t.length;o<n&&!1!==e.call(t[o],o,t[o]);o++);else for(o in t)if(!1===e.call(t[o],o,t[o]))break;return t},makeArray:function(t,e){var n=e||[];return null!=t&&(I(Object(t))?C.merge(n,\"string\"==typeof t?[t]:t):r.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:a.call(e,t,n)},merge:function(t,e){for(var n=+e.length,o=0,i=t.length;o<n;o++)t[i++]=e[o];return t.length=i,t},grep:function(t,e,n){for(var o=[],i=0,s=t.length,r=!n;i<s;i++)!e(t[i],i)!==r&&o.push(t[i]);return o},map:function(t,e,n){var o,i,r=0,a=[];if(I(t))for(o=t.length;r<o;r++)null!=(i=e(t[r],r,n))&&a.push(i);else for(r in t)null!=(i=e(t[r],r,n))&&a.push(i);return s(a)},guid:1,support:p}),\"function\"==typeof Symbol&&(C.fn[Symbol.iterator]=n[Symbol.iterator]),C.each(\"Boolean Number String Function Array Date RegExp Object Error Symbol\".split(\" \"),(function(t,e){l[\"[object \"+e+\"]\"]=e.toLowerCase()}));var b=\n/*!\n * Sizzle CSS Selector Engine v2.3.5\n * https://sizzlejs.com/\n *\n * Copyright JS Foundation and other contributors\n * Released under the MIT license\n * https://js.foundation/\n *\n * Date: 2020-03-14\n */\nfunction(t){var e,n,o,i,s,r,a,l,c,d,h,u,p,f,m,g,w,y,v,_=\"sizzle\"+1*new Date,C=t.document,I=0,b=0,k=lt(),x=lt(),E=lt(),W=lt(),S=function(t,e){return t===e&&(h=!0),0},T={}.hasOwnProperty,A=[],D=A.pop,B=A.push,L=A.push,M=A.slice,P=function(t,e){for(var n=0,o=t.length;n<o;n++)if(t[n]===e)return n;return-1},F=\"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\",z=\"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",O=\"(?:\\\\\\\\[\\\\da-fA-F]{1,6}[\\\\x20\\\\t\\\\r\\\\n\\\\f]?|\\\\\\\\[^\\\\r\\\\n\\\\f]|[\\\\w-]|[^\\0-\\\\x7f])+\",$=\"\\\\[[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(\"+O+\")(?:\"+z+\"*([*^$|!~]?=)\"+z+\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\"+O+\"))|)\"+z+\"*\\\\]\",R=\":(\"+O+\")(?:\\\\((('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\"+$+\")*)|.*)\\\\)|)\",N=new RegExp(z+\"+\",\"g\"),H=new RegExp(\"^[\\\\x20\\\\t\\\\r\\\\n\\\\f]+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)[\\\\x20\\\\t\\\\r\\\\n\\\\f]+$\",\"g\"),j=new RegExp(\"^[\\\\x20\\\\t\\\\r\\\\n\\\\f]*,[\\\\x20\\\\t\\\\r\\\\n\\\\f]*\"),q=new RegExp(\"^[\\\\x20\\\\t\\\\r\\\\n\\\\f]*([>+~]|[\\\\x20\\\\t\\\\r\\\\n\\\\f])[\\\\x20\\\\t\\\\r\\\\n\\\\f]*\"),U=new RegExp(z+\"|>\"),G=new RegExp(R),V=new RegExp(\"^\"+O+\"$\"),X={ID:new RegExp(\"^#(\"+O+\")\"),CLASS:new RegExp(\"^\\\\.(\"+O+\")\"),TAG:new RegExp(\"^(\"+O+\"|[*])\"),ATTR:new RegExp(\"^\"+$),PSEUDO:new RegExp(\"^\"+R),CHILD:new RegExp(\"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\([\\\\x20\\\\t\\\\r\\\\n\\\\f]*(even|odd|(([+-]|)(\\\\d*)n|)[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(?:([+-]|)[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(\\\\d+)|))[\\\\x20\\\\t\\\\r\\\\n\\\\f]*\\\\)|)\",\"i\"),bool:new RegExp(\"^(?:\"+F+\")$\",\"i\"),needsContext:new RegExp(\"^[\\\\x20\\\\t\\\\r\\\\n\\\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\([\\\\x20\\\\t\\\\r\\\\n\\\\f]*((?:-\\\\d)?\\\\d*)[\\\\x20\\\\t\\\\r\\\\n\\\\f]*\\\\)|)(?=[^-]|$)\",\"i\")},Y=/HTML$/i,J=/^(?:input|select|textarea|button)$/i,Z=/^h\\d$/i,Q=/^[^{]+\\{\\s*\\[native \\w/,K=/^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,tt=/[+~]/,et=new RegExp(\"\\\\\\\\[\\\\da-fA-F]{1,6}[\\\\x20\\\\t\\\\r\\\\n\\\\f]?|\\\\\\\\([^\\\\r\\\\n\\\\f])\",\"g\"),nt=function(t,e){var n=\"0x\"+t.slice(1)-65536;return e||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},ot=/([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\0-\\x1f\\x7f-\\uFFFF\\w-]/g,it=function(t,e){return e?\"\\0\"===t?\"�\":t.slice(0,-1)+\"\\\\\"+t.charCodeAt(t.length-1).toString(16)+\" \":\"\\\\\"+t},st=function(){u()},rt=_t((function(t){return!0===t.disabled&&\"fieldset\"===t.nodeName.toLowerCase()}),{dir:\"parentNode\",next:\"legend\"});try{L.apply(A=M.call(C.childNodes),C.childNodes),A[C.childNodes.length].nodeType}catch(t){L={apply:A.length?function(t,e){B.apply(t,M.call(e))}:function(t,e){for(var n=t.length,o=0;t[n++]=e[o++];);t.length=n-1}}}function at(t,e,o,i){var s,a,c,d,h,f,w,y=e&&e.ownerDocument,C=e?e.nodeType:9;if(o=o||[],\"string\"!=typeof t||!t||1!==C&&9!==C&&11!==C)return o;if(!i&&(u(e),e=e||p,m)){if(11!==C&&(h=K.exec(t)))if(s=h[1]){if(9===C){if(!(c=e.getElementById(s)))return o;if(c.id===s)return o.push(c),o}else if(y&&(c=y.getElementById(s))&&v(e,c)&&c.id===s)return o.push(c),o}else{if(h[2])return L.apply(o,e.getElementsByTagName(t)),o;if((s=h[3])&&n.getElementsByClassName&&e.getElementsByClassName)return L.apply(o,e.getElementsByClassName(s)),o}if(n.qsa&&!W[t+\" \"]&&(!g||!g.test(t))&&(1!==C||\"object\"!==e.nodeName.toLowerCase())){if(w=t,y=e,1===C&&(U.test(t)||q.test(t))){for((y=tt.test(t)&&wt(e.parentNode)||e)===e&&n.scope||((d=e.getAttribute(\"id\"))?d=d.replace(ot,it):e.setAttribute(\"id\",d=_)),a=(f=r(t)).length;a--;)f[a]=(d?\"#\"+d:\":scope\")+\" \"+vt(f[a]);w=f.join(\",\")}try{return L.apply(o,y.querySelectorAll(w)),o}catch(e){W(t,!0)}finally{d===_&&e.removeAttribute(\"id\")}}}return l(t.replace(H,\"$1\"),e,o,i)}function lt(){var t=[];return function e(n,i){return t.push(n+\" \")>o.cacheLength&&delete e[t.shift()],e[n+\" \"]=i}}function ct(t){return t[_]=!0,t}function dt(t){var e=p.createElement(\"fieldset\");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ht(t,e){for(var n=t.split(\"|\"),i=n.length;i--;)o.attrHandle[n[i]]=e}function ut(t,e){var n=e&&t,o=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(o)return o;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function pt(t){return function(e){return\"input\"===e.nodeName.toLowerCase()&&e.type===t}}function ft(t){return function(e){var n=e.nodeName.toLowerCase();return(\"input\"===n||\"button\"===n)&&e.type===t}}function mt(t){return function(e){return\"form\"in e?e.parentNode&&!1===e.disabled?\"label\"in e?\"label\"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&rt(e)===t:e.disabled===t:\"label\"in e&&e.disabled===t}}function gt(t){return ct((function(e){return e=+e,ct((function(n,o){for(var i,s=t([],n.length,e),r=s.length;r--;)n[i=s[r]]&&(n[i]=!(o[i]=n[i]))}))}))}function wt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=at.support={},s=at.isXML=function(t){var e=t.namespaceURI,n=(t.ownerDocument||t).documentElement;return!Y.test(e||n&&n.nodeName||\"HTML\")},u=at.setDocument=function(t){var e,i,r=t?t.ownerDocument||t:C;return r!=p&&9===r.nodeType&&r.documentElement?(f=(p=r).documentElement,m=!s(p),C!=p&&(i=p.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener(\"unload\",st,!1):i.attachEvent&&i.attachEvent(\"onunload\",st)),n.scope=dt((function(t){return f.appendChild(t).appendChild(p.createElement(\"div\")),void 0!==t.querySelectorAll&&!t.querySelectorAll(\":scope fieldset div\").length})),n.attributes=dt((function(t){return t.className=\"i\",!t.getAttribute(\"className\")})),n.getElementsByTagName=dt((function(t){return t.appendChild(p.createComment(\"\")),!t.getElementsByTagName(\"*\").length})),n.getElementsByClassName=Q.test(p.getElementsByClassName),n.getById=dt((function(t){return f.appendChild(t).id=_,!p.getElementsByName||!p.getElementsByName(_).length})),n.getById?(o.filter.ID=function(t){var e=t.replace(et,nt);return function(t){return t.getAttribute(\"id\")===e}},o.find.ID=function(t,e){if(void 0!==e.getElementById&&m){var n=e.getElementById(t);return n?[n]:[]}}):(o.filter.ID=function(t){var e=t.replace(et,nt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode(\"id\");return n&&n.value===e}},o.find.ID=function(t,e){if(void 0!==e.getElementById&&m){var n,o,i,s=e.getElementById(t);if(s){if((n=s.getAttributeNode(\"id\"))&&n.value===t)return[s];for(i=e.getElementsByName(t),o=0;s=i[o++];)if((n=s.getAttributeNode(\"id\"))&&n.value===t)return[s]}return[]}}),o.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,o=[],i=0,s=e.getElementsByTagName(t);if(\"*\"===t){for(;n=s[i++];)1===n.nodeType&&o.push(n);return o}return s},o.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&m)return e.getElementsByClassName(t)},w=[],g=[],(n.qsa=Q.test(p.querySelectorAll))&&(dt((function(t){var e;f.appendChild(t).innerHTML=\"<a id='\"+_+\"'></a><select id='\"+_+\"-\\r\\\\' msallowcapture=''><option selected=''></option></select>\",t.querySelectorAll(\"[msallowcapture^='']\").length&&g.push(\"[*^$]=[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(?:''|\\\"\\\")\"),t.querySelectorAll(\"[selected]\").length||g.push(\"\\\\[[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(?:value|\"+F+\")\"),t.querySelectorAll(\"[id~=\"+_+\"-]\").length||g.push(\"~=\"),(e=p.createElement(\"input\")).setAttribute(\"name\",\"\"),t.appendChild(e),t.querySelectorAll(\"[name='']\").length||g.push(\"\\\\[[\\\\x20\\\\t\\\\r\\\\n\\\\f]*name[\\\\x20\\\\t\\\\r\\\\n\\\\f]*=[\\\\x20\\\\t\\\\r\\\\n\\\\f]*(?:''|\\\"\\\")\"),t.querySelectorAll(\":checked\").length||g.push(\":checked\"),t.querySelectorAll(\"a#\"+_+\"+*\").length||g.push(\".#.+[+~]\"),t.querySelectorAll(\"\\\\\\f\"),g.push(\"[\\\\r\\\\n\\\\f]\")})),dt((function(t){t.innerHTML=\"<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>\";var e=p.createElement(\"input\");e.setAttribute(\"type\",\"hidden\"),t.appendChild(e).setAttribute(\"name\",\"D\"),t.querySelectorAll(\"[name=d]\").length&&g.push(\"name[\\\\x20\\\\t\\\\r\\\\n\\\\f]*[*^$|!~]?=\"),2!==t.querySelectorAll(\":enabled\").length&&g.push(\":enabled\",\":disabled\"),f.appendChild(t).disabled=!0,2!==t.querySelectorAll(\":disabled\").length&&g.push(\":enabled\",\":disabled\"),t.querySelectorAll(\"*,:x\"),g.push(\",.*:\")}))),(n.matchesSelector=Q.test(y=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&dt((function(t){n.disconnectedMatch=y.call(t,\"*\"),y.call(t,\"[s!='']:x\"),w.push(\"!=\",R)})),g=g.length&&new RegExp(g.join(\"|\")),w=w.length&&new RegExp(w.join(\"|\")),e=Q.test(f.compareDocumentPosition),v=e||Q.test(f.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,o=e&&e.parentNode;return t===o||!(!o||1!==o.nodeType||!(n.contains?n.contains(o):t.compareDocumentPosition&&16&t.compareDocumentPosition(o)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},S=e?function(t,e){if(t===e)return h=!0,0;var o=!t.compareDocumentPosition-!e.compareDocumentPosition;return o||(1&(o=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===o?t==p||t.ownerDocument==C&&v(C,t)?-1:e==p||e.ownerDocument==C&&v(C,e)?1:d?P(d,t)-P(d,e):0:4&o?-1:1)}:function(t,e){if(t===e)return h=!0,0;var n,o=0,i=t.parentNode,s=e.parentNode,r=[t],a=[e];if(!i||!s)return t==p?-1:e==p?1:i?-1:s?1:d?P(d,t)-P(d,e):0;if(i===s)return ut(t,e);for(n=t;n=n.parentNode;)r.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;r[o]===a[o];)o++;return o?ut(r[o],a[o]):r[o]==C?-1:a[o]==C?1:0},p):p},at.matches=function(t,e){return at(t,null,null,e)},at.matchesSelector=function(t,e){if(u(t),n.matchesSelector&&m&&!W[e+\" \"]&&(!w||!w.test(e))&&(!g||!g.test(e)))try{var o=y.call(t,e);if(o||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return o}catch(t){W(e,!0)}return at(e,p,null,[t]).length>0},at.contains=function(t,e){return(t.ownerDocument||t)!=p&&u(t),v(t,e)},at.attr=function(t,e){(t.ownerDocument||t)!=p&&u(t);var i=o.attrHandle[e.toLowerCase()],s=i&&T.call(o.attrHandle,e.toLowerCase())?i(t,e,!m):void 0;return void 0!==s?s:n.attributes||!m?t.getAttribute(e):(s=t.getAttributeNode(e))&&s.specified?s.value:null},at.escape=function(t){return(t+\"\").replace(ot,it)},at.error=function(t){throw new Error(\"Syntax error, unrecognized expression: \"+t)},at.uniqueSort=function(t){var e,o=[],i=0,s=0;if(h=!n.detectDuplicates,d=!n.sortStable&&t.slice(0),t.sort(S),h){for(;e=t[s++];)e===t[s]&&(i=o.push(s));for(;i--;)t.splice(o[i],1)}return d=null,t},i=at.getText=function(t){var e,n=\"\",o=0,s=t.nodeType;if(s){if(1===s||9===s||11===s){if(\"string\"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=i(t)}else if(3===s||4===s)return t.nodeValue}else for(;e=t[o++];)n+=i(e);return n},(o=at.selectors={cacheLength:50,createPseudo:ct,match:X,attrHandle:{},find:{},relative:{\">\":{dir:\"parentNode\",first:!0},\" \":{dir:\"parentNode\"},\"+\":{dir:\"previousSibling\",first:!0},\"~\":{dir:\"previousSibling\"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,nt),t[3]=(t[3]||t[4]||t[5]||\"\").replace(et,nt),\"~=\"===t[2]&&(t[3]=\" \"+t[3]+\" \"),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),\"nth\"===t[1].slice(0,3)?(t[3]||at.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*(\"even\"===t[3]||\"odd\"===t[3])),t[5]=+(t[7]+t[8]||\"odd\"===t[3])):t[3]&&at.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return X.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||\"\":n&&G.test(n)&&(e=r(n,!0))&&(e=n.indexOf(\")\",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,nt).toLowerCase();return\"*\"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=k[t+\" \"];return e||(e=new RegExp(\"(^|[\\\\x20\\\\t\\\\r\\\\n\\\\f])\"+t+\"(\"+z+\"|$)\"))&&k(t,(function(t){return e.test(\"string\"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute(\"class\")||\"\")}))},ATTR:function(t,e,n){return function(o){var i=at.attr(o,t);return null==i?\"!=\"===e:!e||(i+=\"\",\"=\"===e?i===n:\"!=\"===e?i!==n:\"^=\"===e?n&&0===i.indexOf(n):\"*=\"===e?n&&i.indexOf(n)>-1:\"$=\"===e?n&&i.slice(-n.length)===n:\"~=\"===e?(\" \"+i.replace(N,\" \")+\" \").indexOf(n)>-1:\"|=\"===e&&(i===n||i.slice(0,n.length+1)===n+\"-\"))}},CHILD:function(t,e,n,o,i){var s=\"nth\"!==t.slice(0,3),r=\"last\"!==t.slice(-4),a=\"of-type\"===e;return 1===o&&0===i?function(t){return!!t.parentNode}:function(e,n,l){var c,d,h,u,p,f,m=s!==r?\"nextSibling\":\"previousSibling\",g=e.parentNode,w=a&&e.nodeName.toLowerCase(),y=!l&&!a,v=!1;if(g){if(s){for(;m;){for(u=e;u=u[m];)if(a?u.nodeName.toLowerCase()===w:1===u.nodeType)return!1;f=m=\"only\"===t&&!f&&\"nextSibling\"}return!0}if(f=[r?g.firstChild:g.lastChild],r&&y){for(v=(p=(c=(d=(h=(u=g)[_]||(u[_]={}))[u.uniqueID]||(h[u.uniqueID]={}))[t]||[])[0]===I&&c[1])&&c[2],u=p&&g.childNodes[p];u=++p&&u&&u[m]||(v=p=0)||f.pop();)if(1===u.nodeType&&++v&&u===e){d[t]=[I,p,v];break}}else if(y&&(v=p=(c=(d=(h=(u=e)[_]||(u[_]={}))[u.uniqueID]||(h[u.uniqueID]={}))[t]||[])[0]===I&&c[1]),!1===v)for(;(u=++p&&u&&u[m]||(v=p=0)||f.pop())&&((a?u.nodeName.toLowerCase()!==w:1!==u.nodeType)||!++v||(y&&((d=(h=u[_]||(u[_]={}))[u.uniqueID]||(h[u.uniqueID]={}))[t]=[I,v]),u!==e)););return(v-=i)===o||v%o==0&&v/o>=0}}},PSEUDO:function(t,e){var n,i=o.pseudos[t]||o.setFilters[t.toLowerCase()]||at.error(\"unsupported pseudo: \"+t);return i[_]?i(e):i.length>1?(n=[t,t,\"\",e],o.setFilters.hasOwnProperty(t.toLowerCase())?ct((function(t,n){for(var o,s=i(t,e),r=s.length;r--;)t[o=P(t,s[r])]=!(n[o]=s[r])})):function(t){return i(t,0,n)}):i}},pseudos:{not:ct((function(t){var e=[],n=[],o=a(t.replace(H,\"$1\"));return o[_]?ct((function(t,e,n,i){for(var s,r=o(t,null,i,[]),a=t.length;a--;)(s=r[a])&&(t[a]=!(e[a]=s))})):function(t,i,s){return e[0]=t,o(e,null,s,n),e[0]=null,!n.pop()}})),has:ct((function(t){return function(e){return at(t,e).length>0}})),contains:ct((function(t){return t=t.replace(et,nt),function(e){return(e.textContent||i(e)).indexOf(t)>-1}})),lang:ct((function(t){return V.test(t||\"\")||at.error(\"unsupported lang: \"+t),t=t.replace(et,nt).toLowerCase(),function(e){var n;do{if(n=m?e.lang:e.getAttribute(\"xml:lang\")||e.getAttribute(\"lang\"))return(n=n.toLowerCase())===t||0===n.indexOf(t+\"-\")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===f},focus:function(t){return t===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:mt(!1),disabled:mt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return\"input\"===e&&!!t.checked||\"option\"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!o.pseudos.empty(t)},header:function(t){return Z.test(t.nodeName)},input:function(t){return J.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return\"input\"===e&&\"button\"===t.type||\"button\"===e},text:function(t){var e;return\"input\"===t.nodeName.toLowerCase()&&\"text\"===t.type&&(null==(e=t.getAttribute(\"type\"))||\"text\"===e.toLowerCase())},first:gt((function(){return[0]})),last:gt((function(t,e){return[e-1]})),eq:gt((function(t,e,n){return[n<0?n+e:n]})),even:gt((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:gt((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:gt((function(t,e,n){for(var o=n<0?n+e:n>e?e:n;--o>=0;)t.push(o);return t})),gt:gt((function(t,e,n){for(var o=n<0?n+e:n;++o<e;)t.push(o);return t}))}}).pseudos.nth=o.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})o.pseudos[e]=pt(e);for(e in{submit:!0,reset:!0})o.pseudos[e]=ft(e);function yt(){}function vt(t){for(var e=0,n=t.length,o=\"\";e<n;e++)o+=t[e].value;return o}function _t(t,e,n){var o=e.dir,i=e.next,s=i||o,r=n&&\"parentNode\"===s,a=b++;return e.first?function(e,n,i){for(;e=e[o];)if(1===e.nodeType||r)return t(e,n,i);return!1}:function(e,n,l){var c,d,h,u=[I,a];if(l){for(;e=e[o];)if((1===e.nodeType||r)&&t(e,n,l))return!0}else for(;e=e[o];)if(1===e.nodeType||r)if(d=(h=e[_]||(e[_]={}))[e.uniqueID]||(h[e.uniqueID]={}),i&&i===e.nodeName.toLowerCase())e=e[o]||e;else{if((c=d[s])&&c[0]===I&&c[1]===a)return u[2]=c[2];if(d[s]=u,u[2]=t(e,n,l))return!0}return!1}}function Ct(t){return t.length>1?function(e,n,o){for(var i=t.length;i--;)if(!t[i](e,n,o))return!1;return!0}:t[0]}function It(t,e,n,o,i){for(var s,r=[],a=0,l=t.length,c=null!=e;a<l;a++)(s=t[a])&&(n&&!n(s,o,i)||(r.push(s),c&&e.push(a)));return r}function bt(t,e,n,o,i,s){return o&&!o[_]&&(o=bt(o)),i&&!i[_]&&(i=bt(i,s)),ct((function(s,r,a,l){var c,d,h,u=[],p=[],f=r.length,m=s||function(t,e,n){for(var o=0,i=e.length;o<i;o++)at(t,e[o],n);return n}(e||\"*\",a.nodeType?[a]:a,[]),g=!t||!s&&e?m:It(m,u,t,a,l),w=n?i||(s?t:f||o)?[]:r:g;if(n&&n(g,w,a,l),o)for(c=It(w,p),o(c,[],a,l),d=c.length;d--;)(h=c[d])&&(w[p[d]]=!(g[p[d]]=h));if(s){if(i||t){if(i){for(c=[],d=w.length;d--;)(h=w[d])&&c.push(g[d]=h);i(null,w=[],c,l)}for(d=w.length;d--;)(h=w[d])&&(c=i?P(s,h):u[d])>-1&&(s[c]=!(r[c]=h))}}else w=It(w===r?w.splice(f,w.length):w),i?i(null,r,w,l):L.apply(r,w)}))}function kt(t){for(var e,n,i,s=t.length,r=o.relative[t[0].type],a=r||o.relative[\" \"],l=r?1:0,d=_t((function(t){return t===e}),a,!0),h=_t((function(t){return P(e,t)>-1}),a,!0),u=[function(t,n,o){var i=!r&&(o||n!==c)||((e=n).nodeType?d(t,n,o):h(t,n,o));return e=null,i}];l<s;l++)if(n=o.relative[t[l].type])u=[_t(Ct(u),n)];else{if((n=o.filter[t[l].type].apply(null,t[l].matches))[_]){for(i=++l;i<s&&!o.relative[t[i].type];i++);return bt(l>1&&Ct(u),l>1&&vt(t.slice(0,l-1).concat({value:\" \"===t[l-2].type?\"*\":\"\"})).replace(H,\"$1\"),n,l<i&&kt(t.slice(l,i)),i<s&&kt(t=t.slice(i)),i<s&&vt(t))}u.push(n)}return Ct(u)}return yt.prototype=o.filters=o.pseudos,o.setFilters=new yt,r=at.tokenize=function(t,e){var n,i,s,r,a,l,c,d=x[t+\" \"];if(d)return e?0:d.slice(0);for(a=t,l=[],c=o.preFilter;a;){for(r in n&&!(i=j.exec(a))||(i&&(a=a.slice(i[0].length)||a),l.push(s=[])),n=!1,(i=q.exec(a))&&(n=i.shift(),s.push({value:n,type:i[0].replace(H,\" \")}),a=a.slice(n.length)),o.filter)!(i=X[r].exec(a))||c[r]&&!(i=c[r](i))||(n=i.shift(),s.push({value:n,type:r,matches:i}),a=a.slice(n.length));if(!n)break}return e?a.length:a?at.error(t):x(t,l).slice(0)},a=at.compile=function(t,e){var n,i=[],s=[],a=E[t+\" \"];if(!a){for(e||(e=r(t)),n=e.length;n--;)(a=kt(e[n]))[_]?i.push(a):s.push(a);(a=E(t,function(t,e){var n=e.length>0,i=t.length>0,s=function(s,r,a,l,d){var h,f,g,w=0,y=\"0\",v=s&&[],_=[],C=c,b=s||i&&o.find.TAG(\"*\",d),k=I+=null==C?1:Math.random()||.1,x=b.length;for(d&&(c=r==p||r||d);y!==x&&null!=(h=b[y]);y++){if(i&&h){for(f=0,r||h.ownerDocument==p||(u(h),a=!m);g=t[f++];)if(g(h,r||p,a)){l.push(h);break}d&&(I=k)}n&&((h=!g&&h)&&w--,s&&v.push(h))}if(w+=y,n&&y!==w){for(f=0;g=e[f++];)g(v,_,r,a);if(s){if(w>0)for(;y--;)v[y]||_[y]||(_[y]=D.call(l));_=It(_)}L.apply(l,_),d&&!s&&_.length>0&&w+e.length>1&&at.uniqueSort(l)}return d&&(I=k,c=C),v};return n?ct(s):s}(s,i))).selector=t}return a},l=at.select=function(t,e,n,i){var s,l,c,d,h,u=\"function\"==typeof t&&t,p=!i&&r(t=u.selector||t);if(n=n||[],1===p.length){if((l=p[0]=p[0].slice(0)).length>2&&\"ID\"===(c=l[0]).type&&9===e.nodeType&&m&&o.relative[l[1].type]){if(!(e=(o.find.ID(c.matches[0].replace(et,nt),e)||[])[0]))return n;u&&(e=e.parentNode),t=t.slice(l.shift().value.length)}for(s=X.needsContext.test(t)?0:l.length;s--&&(c=l[s],!o.relative[d=c.type]);)if((h=o.find[d])&&(i=h(c.matches[0].replace(et,nt),tt.test(l[0].type)&&wt(e.parentNode)||e))){if(l.splice(s,1),!(t=i.length&&vt(l)))return L.apply(n,i),n;break}}return(u||a(t,p))(i,e,!m,n,!e||tt.test(t)&&wt(e.parentNode)||e),n},n.sortStable=_.split(\"\").sort(S).join(\"\")===_,n.detectDuplicates=!!h,u(),n.sortDetached=dt((function(t){return 1&t.compareDocumentPosition(p.createElement(\"fieldset\"))})),dt((function(t){return t.innerHTML=\"<a href='#'></a>\",\"#\"===t.firstChild.getAttribute(\"href\")}))||ht(\"type|href|height|width\",(function(t,e,n){if(!n)return t.getAttribute(e,\"type\"===e.toLowerCase()?1:2)})),n.attributes&&dt((function(t){return t.innerHTML=\"<input/>\",t.firstChild.setAttribute(\"value\",\"\"),\"\"===t.firstChild.getAttribute(\"value\")}))||ht(\"value\",(function(t,e,n){if(!n&&\"input\"===t.nodeName.toLowerCase())return t.defaultValue})),dt((function(t){return null==t.getAttribute(\"disabled\")}))||ht(F,(function(t,e,n){var o;if(!n)return!0===t[e]?e.toLowerCase():(o=t.getAttributeNode(e))&&o.specified?o.value:null})),at}(t);C.find=b,C.expr=b.selectors,C.expr[\":\"]=C.expr.pseudos,C.uniqueSort=C.unique=b.uniqueSort,C.text=b.getText,C.isXMLDoc=b.isXML,C.contains=b.contains,C.escapeSelector=b.escape;var k=function(t,e,n){for(var o=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&C(t).is(n))break;o.push(t)}return o},x=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},E=C.expr.match.needsContext;function W(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var S=/^<([a-z][^\\/\\0>:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?>(?:<\\/\\1>|)$/i;function T(t,e,n){return f(e)?C.grep(t,(function(t,o){return!!e.call(t,o,t)!==n})):e.nodeType?C.grep(t,(function(t){return t===e!==n})):\"string\"!=typeof e?C.grep(t,(function(t){return a.call(e,t)>-1!==n})):C.filter(e,t,n)}C.filter=function(t,e,n){var o=e[0];return n&&(t=\":not(\"+t+\")\"),1===e.length&&1===o.nodeType?C.find.matchesSelector(o,t)?[o]:[]:C.find.matches(t,C.grep(e,(function(t){return 1===t.nodeType})))},C.fn.extend({find:function(t){var e,n,o=this.length,i=this;if(\"string\"!=typeof t)return this.pushStack(C(t).filter((function(){for(e=0;e<o;e++)if(C.contains(i[e],this))return!0})));for(n=this.pushStack([]),e=0;e<o;e++)C.find(t,i[e],n);return o>1?C.uniqueSort(n):n},filter:function(t){return this.pushStack(T(this,t||[],!1))},not:function(t){return this.pushStack(T(this,t||[],!0))},is:function(t){return!!T(this,\"string\"==typeof t&&E.test(t)?C(t):t||[],!1).length}});var A,D=/^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]+))$/;(C.fn.init=function(t,e,n){var o,i;if(!t)return this;if(n=n||A,\"string\"==typeof t){if(!(o=\"<\"===t[0]&&\">\"===t[t.length-1]&&t.length>=3?[null,t,null]:D.exec(t))||!o[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(o[1]){if(e=e instanceof C?e[0]:e,C.merge(this,C.parseHTML(o[1],e&&e.nodeType?e.ownerDocument||e:g,!0)),S.test(o[1])&&C.isPlainObject(e))for(o in e)f(this[o])?this[o](e[o]):this.attr(o,e[o]);return this}return(i=g.getElementById(o[2]))&&(this[0]=i,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):f(t)?void 0!==n.ready?n.ready(t):t(C):C.makeArray(t,this)}).prototype=C.fn,A=C(g);var B=/^(?:parents|prev(?:Until|All))/,L={children:!0,contents:!0,next:!0,prev:!0};function M(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}C.fn.extend({has:function(t){var e=C(t,this),n=e.length;return this.filter((function(){for(var t=0;t<n;t++)if(C.contains(this,e[t]))return!0}))},closest:function(t,e){var n,o=0,i=this.length,s=[],r=\"string\"!=typeof t&&C(t);if(!E.test(t))for(;o<i;o++)for(n=this[o];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(r?r.index(n)>-1:1===n.nodeType&&C.find.matchesSelector(n,t))){s.push(n);break}return this.pushStack(s.length>1?C.uniqueSort(s):s)},index:function(t){return t?\"string\"==typeof t?a.call(C(t),this[0]):a.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(C.uniqueSort(C.merge(this.get(),C(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),C.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return k(t,\"parentNode\")},parentsUntil:function(t,e,n){return k(t,\"parentNode\",n)},next:function(t){return M(t,\"nextSibling\")},prev:function(t){return M(t,\"previousSibling\")},nextAll:function(t){return k(t,\"nextSibling\")},prevAll:function(t){return k(t,\"previousSibling\")},nextUntil:function(t,e,n){return k(t,\"nextSibling\",n)},prevUntil:function(t,e,n){return k(t,\"previousSibling\",n)},siblings:function(t){return x((t.parentNode||{}).firstChild,t)},children:function(t){return x(t.firstChild)},contents:function(t){return null!=t.contentDocument&&o(t.contentDocument)?t.contentDocument:(W(t,\"template\")&&(t=t.content||t),C.merge([],t.childNodes))}},(function(t,e){C.fn[t]=function(n,o){var i=C.map(this,e,n);return\"Until\"!==t.slice(-5)&&(o=n),o&&\"string\"==typeof o&&(i=C.filter(o,i)),this.length>1&&(L[t]||C.uniqueSort(i),B.test(t)&&i.reverse()),this.pushStack(i)}}));var P=/[^\\x20\\t\\r\\n\\f]+/g;function F(t){return t}function z(t){throw t}function O(t,e,n,o){var i;try{t&&f(i=t.promise)?i.call(t).done(e).fail(n):t&&f(i=t.then)?i.call(t,e,n):e.apply(void 0,[t].slice(o))}catch(t){n.apply(void 0,[t])}}C.Callbacks=function(t){t=\"string\"==typeof t?function(t){var e={};return C.each(t.match(P)||[],(function(t,n){e[n]=!0})),e}(t):C.extend({},t);var e,n,o,i,s=[],r=[],a=-1,l=function(){for(i=i||t.once,o=e=!0;r.length;a=-1)for(n=r.shift();++a<s.length;)!1===s[a].apply(n[0],n[1])&&t.stopOnFalse&&(a=s.length,n=!1);t.memory||(n=!1),e=!1,i&&(s=n?[]:\"\")},c={add:function(){return s&&(n&&!e&&(a=s.length-1,r.push(n)),function e(n){C.each(n,(function(n,o){f(o)?t.unique&&c.has(o)||s.push(o):o&&o.length&&\"string\"!==v(o)&&e(o)}))}(arguments),n&&!e&&l()),this},remove:function(){return C.each(arguments,(function(t,e){for(var n;(n=C.inArray(e,s,n))>-1;)s.splice(n,1),n<=a&&a--})),this},has:function(t){return t?C.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return i=r=[],s=n=\"\",this},disabled:function(){return!s},lock:function(){return i=r=[],n||e||(s=n=\"\"),this},locked:function(){return!!i},fireWith:function(t,n){return i||(n=[t,(n=n||[]).slice?n.slice():n],r.push(n),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!o}};return c},C.extend({Deferred:function(e){var n=[[\"notify\",\"progress\",C.Callbacks(\"memory\"),C.Callbacks(\"memory\"),2],[\"resolve\",\"done\",C.Callbacks(\"once memory\"),C.Callbacks(\"once memory\"),0,\"resolved\"],[\"reject\",\"fail\",C.Callbacks(\"once memory\"),C.Callbacks(\"once memory\"),1,\"rejected\"]],o=\"pending\",i={state:function(){return o},always:function(){return s.done(arguments).fail(arguments),this},catch:function(t){return i.then(null,t)},pipe:function(){var t=arguments;return C.Deferred((function(e){C.each(n,(function(n,o){var i=f(t[o[4]])&&t[o[4]];s[o[1]]((function(){var t=i&&i.apply(this,arguments);t&&f(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[o[0]+\"With\"](this,i?[t]:arguments)}))})),t=null})).promise()},then:function(e,o,i){var s=0;function r(e,n,o,i){return function(){var a=this,l=arguments,c=function(){var t,c;if(!(e<s)){if((t=o.apply(a,l))===n.promise())throw new TypeError(\"Thenable self-resolution\");c=t&&(\"object\"==typeof t||\"function\"==typeof t)&&t.then,f(c)?i?c.call(t,r(s,n,F,i),r(s,n,z,i)):(s++,c.call(t,r(s,n,F,i),r(s,n,z,i),r(s,n,F,n.notifyWith))):(o!==F&&(a=void 0,l=[t]),(i||n.resolveWith)(a,l))}},d=i?c:function(){try{c()}catch(t){C.Deferred.exceptionHook&&C.Deferred.exceptionHook(t,d.stackTrace),e+1>=s&&(o!==z&&(a=void 0,l=[t]),n.rejectWith(a,l))}};e?d():(C.Deferred.getStackHook&&(d.stackTrace=C.Deferred.getStackHook()),t.setTimeout(d))}}return C.Deferred((function(t){n[0][3].add(r(0,t,f(i)?i:F,t.notifyWith)),n[1][3].add(r(0,t,f(e)?e:F)),n[2][3].add(r(0,t,f(o)?o:z))})).promise()},promise:function(t){return null!=t?C.extend(t,i):i}},s={};return C.each(n,(function(t,e){var r=e[2],a=e[5];i[e[1]]=r.add,a&&r.add((function(){o=a}),n[3-t][2].disable,n[3-t][3].disable,n[0][2].lock,n[0][3].lock),r.add(e[3].fire),s[e[0]]=function(){return s[e[0]+\"With\"](this===s?void 0:this,arguments),this},s[e[0]+\"With\"]=r.fireWith})),i.promise(s),e&&e.call(s,s),s},when:function(t){var e=arguments.length,n=e,o=Array(n),s=i.call(arguments),r=C.Deferred(),a=function(t){return function(n){o[t]=this,s[t]=arguments.length>1?i.call(arguments):n,--e||r.resolveWith(o,s)}};if(e<=1&&(O(t,r.done(a(n)).resolve,r.reject,!e),\"pending\"===r.state()||f(s[n]&&s[n].then)))return r.then();for(;n--;)O(s[n],a(n),r.reject);return r.promise()}});var $=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;C.Deferred.exceptionHook=function(e,n){t.console&&t.console.warn&&e&&$.test(e.name)&&t.console.warn(\"jQuery.Deferred exception: \"+e.message,e.stack,n)},C.readyException=function(e){t.setTimeout((function(){throw e}))};var R=C.Deferred();function N(){g.removeEventListener(\"DOMContentLoaded\",N),t.removeEventListener(\"load\",N),C.ready()}C.fn.ready=function(t){return R.then(t).catch((function(t){C.readyException(t)})),this},C.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--C.readyWait:C.isReady)||(C.isReady=!0,!0!==t&&--C.readyWait>0||R.resolveWith(g,[C]))}}),C.ready.then=R.then,\"complete\"===g.readyState||\"loading\"!==g.readyState&&!g.documentElement.doScroll?t.setTimeout(C.ready):(g.addEventListener(\"DOMContentLoaded\",N),t.addEventListener(\"load\",N));var H=function(t,e,n,o,i,s,r){var a=0,l=t.length,c=null==n;if(\"object\"===v(n))for(a in i=!0,n)H(t,e,a,n[a],!0,s,r);else if(void 0!==o&&(i=!0,f(o)||(r=!0),c&&(r?(e.call(t,o),e=null):(c=e,e=function(t,e,n){return c.call(C(t),n)})),e))for(;a<l;a++)e(t[a],n,r?o:o.call(t[a],a,e(t[a],n)));return i?t:c?e.call(t):l?e(t[0],n):s},j=/^-ms-/,q=/-([a-z])/g;function U(t,e){return e.toUpperCase()}function G(t){return t.replace(j,\"ms-\").replace(q,U)}var V=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function X(){this.expando=C.expando+X.uid++}X.uid=1,X.prototype={cache:function(t){var e=t[this.expando];return e||(e={},V(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var o,i=this.cache(t);if(\"string\"==typeof e)i[G(e)]=n;else for(o in e)i[G(o)]=e[o];return i},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][G(e)]},access:function(t,e,n){return void 0===e||e&&\"string\"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,o=t[this.expando];if(void 0!==o){if(void 0!==e){n=(e=Array.isArray(e)?e.map(G):(e=G(e))in o?[e]:e.match(P)||[]).length;for(;n--;)delete o[e[n]]}(void 0===e||C.isEmptyObject(o))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!C.isEmptyObject(e)}};var Y=new X,J=new X,Z=/^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,Q=/[A-Z]/g;function K(t,e,n){var o;if(void 0===n&&1===t.nodeType)if(o=\"data-\"+e.replace(Q,\"-$&\").toLowerCase(),\"string\"==typeof(n=t.getAttribute(o))){try{n=function(t){return\"true\"===t||\"false\"!==t&&(\"null\"===t?null:t===+t+\"\"?+t:Z.test(t)?JSON.parse(t):t)}(n)}catch(t){}J.set(t,e,n)}else n=void 0;return n}C.extend({hasData:function(t){return J.hasData(t)||Y.hasData(t)},data:function(t,e,n){return J.access(t,e,n)},removeData:function(t,e){J.remove(t,e)},_data:function(t,e,n){return Y.access(t,e,n)},_removeData:function(t,e){Y.remove(t,e)}}),C.fn.extend({data:function(t,e){var n,o,i,s=this[0],r=s&&s.attributes;if(void 0===t){if(this.length&&(i=J.get(s),1===s.nodeType&&!Y.get(s,\"hasDataAttrs\"))){for(n=r.length;n--;)r[n]&&0===(o=r[n].name).indexOf(\"data-\")&&(o=G(o.slice(5)),K(s,o,i[o]));Y.set(s,\"hasDataAttrs\",!0)}return i}return\"object\"==typeof t?this.each((function(){J.set(this,t)})):H(this,(function(e){var n;if(s&&void 0===e)return void 0!==(n=J.get(s,t))||void 0!==(n=K(s,t))?n:void 0;this.each((function(){J.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){J.remove(this,t)}))}}),C.extend({queue:function(t,e,n){var o;if(t)return e=(e||\"fx\")+\"queue\",o=Y.get(t,e),n&&(!o||Array.isArray(n)?o=Y.access(t,e,C.makeArray(n)):o.push(n)),o||[]},dequeue:function(t,e){e=e||\"fx\";var n=C.queue(t,e),o=n.length,i=n.shift(),s=C._queueHooks(t,e);\"inprogress\"===i&&(i=n.shift(),o--),i&&(\"fx\"===e&&n.unshift(\"inprogress\"),delete s.stop,i.call(t,(function(){C.dequeue(t,e)}),s)),!o&&s&&s.empty.fire()},_queueHooks:function(t,e){var n=e+\"queueHooks\";return Y.get(t,n)||Y.access(t,n,{empty:C.Callbacks(\"once memory\").add((function(){Y.remove(t,[e+\"queue\",n])}))})}}),C.fn.extend({queue:function(t,e){var n=2;return\"string\"!=typeof t&&(e=t,t=\"fx\",n--),arguments.length<n?C.queue(this[0],t):void 0===e?this:this.each((function(){var n=C.queue(this,t,e);C._queueHooks(this,t),\"fx\"===t&&\"inprogress\"!==n[0]&&C.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){C.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||\"fx\",[])},promise:function(t,e){var n,o=1,i=C.Deferred(),s=this,r=this.length,a=function(){--o||i.resolveWith(s,[s])};for(\"string\"!=typeof t&&(e=t,t=void 0),t=t||\"fx\";r--;)(n=Y.get(s[r],t+\"queueHooks\"))&&n.empty&&(o++,n.empty.add(a));return a(),i.promise(e)}});var tt=/[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/.source,et=new RegExp(\"^(?:([+-])=|)(\"+tt+\")([a-z%]*)$\",\"i\"),nt=[\"Top\",\"Right\",\"Bottom\",\"Left\"],ot=g.documentElement,it=function(t){return C.contains(t.ownerDocument,t)},st={composed:!0};ot.getRootNode&&(it=function(t){return C.contains(t.ownerDocument,t)||t.getRootNode(st)===t.ownerDocument});var rt=function(t,e){return\"none\"===(t=e||t).style.display||\"\"===t.style.display&&it(t)&&\"none\"===C.css(t,\"display\")};function at(t,e,n,o){var i,s,r=20,a=o?function(){return o.cur()}:function(){return C.css(t,e,\"\")},l=a(),c=n&&n[3]||(C.cssNumber[e]?\"\":\"px\"),d=t.nodeType&&(C.cssNumber[e]||\"px\"!==c&&+l)&&et.exec(C.css(t,e));if(d&&d[3]!==c){for(l/=2,c=c||d[3],d=+l||1;r--;)C.style(t,e,d+c),(1-s)*(1-(s=a()/l||.5))<=0&&(r=0),d/=s;d*=2,C.style(t,e,d+c),n=n||[]}return n&&(d=+d||+l||0,i=n[1]?d+(n[1]+1)*n[2]:+n[2],o&&(o.unit=c,o.start=d,o.end=i)),i}var lt={};function ct(t){var e,n=t.ownerDocument,o=t.nodeName,i=lt[o];return i||(e=n.body.appendChild(n.createElement(o)),i=C.css(e,\"display\"),e.parentNode.removeChild(e),\"none\"===i&&(i=\"block\"),lt[o]=i,i)}function dt(t,e){for(var n,o,i=[],s=0,r=t.length;s<r;s++)(o=t[s]).style&&(n=o.style.display,e?(\"none\"===n&&(i[s]=Y.get(o,\"display\")||null,i[s]||(o.style.display=\"\")),\"\"===o.style.display&&rt(o)&&(i[s]=ct(o))):\"none\"!==n&&(i[s]=\"none\",Y.set(o,\"display\",n)));for(s=0;s<r;s++)null!=i[s]&&(t[s].style.display=i[s]);return t}C.fn.extend({show:function(){return dt(this,!0)},hide:function(){return dt(this)},toggle:function(t){return\"boolean\"==typeof t?t?this.show():this.hide():this.each((function(){rt(this)?C(this).show():C(this).hide()}))}});var ht,ut,pt=/^(?:checkbox|radio)$/i,ft=/<([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)/i,mt=/^$|^module$|\\/(?:java|ecma)script/i;ht=g.createDocumentFragment().appendChild(g.createElement(\"div\")),(ut=g.createElement(\"input\")).setAttribute(\"type\",\"radio\"),ut.setAttribute(\"checked\",\"checked\"),ut.setAttribute(\"name\",\"t\"),ht.appendChild(ut),p.checkClone=ht.cloneNode(!0).cloneNode(!0).lastChild.checked,ht.innerHTML=\"<textarea>x</textarea>\",p.noCloneChecked=!!ht.cloneNode(!0).lastChild.defaultValue,ht.innerHTML=\"<option></option>\",p.option=!!ht.lastChild;var gt={thead:[1,\"<table>\",\"</table>\"],col:[2,\"<table><colgroup>\",\"</colgroup></table>\"],tr:[2,\"<table><tbody>\",\"</tbody></table>\"],td:[3,\"<table><tbody><tr>\",\"</tr></tbody></table>\"],_default:[0,\"\",\"\"]};function wt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||\"*\"):void 0!==t.querySelectorAll?t.querySelectorAll(e||\"*\"):[],void 0===e||e&&W(t,e)?C.merge([t],n):n}function yt(t,e){for(var n=0,o=t.length;n<o;n++)Y.set(t[n],\"globalEval\",!e||Y.get(e[n],\"globalEval\"))}gt.tbody=gt.tfoot=gt.colgroup=gt.caption=gt.thead,gt.th=gt.td,p.option||(gt.optgroup=gt.option=[1,\"<select multiple='multiple'>\",\"</select>\"]);var vt=/<|&#?\\w+;/;function _t(t,e,n,o,i){for(var s,r,a,l,c,d,h=e.createDocumentFragment(),u=[],p=0,f=t.length;p<f;p++)if((s=t[p])||0===s)if(\"object\"===v(s))C.merge(u,s.nodeType?[s]:s);else if(vt.test(s)){for(r=r||h.appendChild(e.createElement(\"div\")),a=(ft.exec(s)||[\"\",\"\"])[1].toLowerCase(),l=gt[a]||gt._default,r.innerHTML=l[1]+C.htmlPrefilter(s)+l[2],d=l[0];d--;)r=r.lastChild;C.merge(u,r.childNodes),(r=h.firstChild).textContent=\"\"}else u.push(e.createTextNode(s));for(h.textContent=\"\",p=0;s=u[p++];)if(o&&C.inArray(s,o)>-1)i&&i.push(s);else if(c=it(s),r=wt(h.appendChild(s),\"script\"),c&&yt(r),n)for(d=0;s=r[d++];)mt.test(s.type||\"\")&&n.push(s);return h}var Ct=/^key/,It=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,bt=/^([^.]*)(?:\\.(.+)|)/;function kt(){return!0}function xt(){return!1}function Et(t,e){return t===function(){try{return g.activeElement}catch(t){}}()==(\"focus\"===e)}function Wt(t,e,n,o,i,s){var r,a;if(\"object\"==typeof e){for(a in\"string\"!=typeof n&&(o=o||n,n=void 0),e)Wt(t,a,n,o,e[a],s);return t}if(null==o&&null==i?(i=n,o=n=void 0):null==i&&(\"string\"==typeof n?(i=o,o=void 0):(i=o,o=n,n=void 0)),!1===i)i=xt;else if(!i)return t;return 1===s&&(r=i,(i=function(t){return C().off(t),r.apply(this,arguments)}).guid=r.guid||(r.guid=C.guid++)),t.each((function(){C.event.add(this,e,i,o,n)}))}function St(t,e,n){n?(Y.set(t,e,!1),C.event.add(t,e,{namespace:!1,handler:function(t){var o,s,r=Y.get(this,e);if(1&t.isTrigger&&this[e]){if(r.length)(C.event.special[e]||{}).delegateType&&t.stopPropagation();else if(r=i.call(arguments),Y.set(this,e,r),o=n(this,e),this[e](),r!==(s=Y.get(this,e))||o?Y.set(this,e,!1):s={},r!==s)return t.stopImmediatePropagation(),t.preventDefault(),s.value}else r.length&&(Y.set(this,e,{value:C.event.trigger(C.extend(r[0],C.Event.prototype),r.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===Y.get(t,e)&&C.event.add(t,e,kt)}C.event={global:{},add:function(t,e,n,o,i){var s,r,a,l,c,d,h,u,p,f,m,g=Y.get(t);if(V(t))for(n.handler&&(n=(s=n).handler,i=s.selector),i&&C.find.matchesSelector(ot,i),n.guid||(n.guid=C.guid++),(l=g.events)||(l=g.events=Object.create(null)),(r=g.handle)||(r=g.handle=function(e){return void 0!==C&&C.event.triggered!==e.type?C.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||\"\").match(P)||[\"\"]).length;c--;)p=m=(a=bt.exec(e[c])||[])[1],f=(a[2]||\"\").split(\".\").sort(),p&&(h=C.event.special[p]||{},p=(i?h.delegateType:h.bindType)||p,h=C.event.special[p]||{},d=C.extend({type:p,origType:m,data:o,handler:n,guid:n.guid,selector:i,needsContext:i&&C.expr.match.needsContext.test(i),namespace:f.join(\".\")},s),(u=l[p])||((u=l[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,o,f,r)||t.addEventListener&&t.addEventListener(p,r)),h.add&&(h.add.call(t,d),d.handler.guid||(d.handler.guid=n.guid)),i?u.splice(u.delegateCount++,0,d):u.push(d),C.event.global[p]=!0)},remove:function(t,e,n,o,i){var s,r,a,l,c,d,h,u,p,f,m,g=Y.hasData(t)&&Y.get(t);if(g&&(l=g.events)){for(c=(e=(e||\"\").match(P)||[\"\"]).length;c--;)if(p=m=(a=bt.exec(e[c])||[])[1],f=(a[2]||\"\").split(\".\").sort(),p){for(h=C.event.special[p]||{},u=l[p=(o?h.delegateType:h.bindType)||p]||[],a=a[2]&&new RegExp(\"(^|\\\\.)\"+f.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"),r=s=u.length;s--;)d=u[s],!i&&m!==d.origType||n&&n.guid!==d.guid||a&&!a.test(d.namespace)||o&&o!==d.selector&&(\"**\"!==o||!d.selector)||(u.splice(s,1),d.selector&&u.delegateCount--,h.remove&&h.remove.call(t,d));r&&!u.length&&(h.teardown&&!1!==h.teardown.call(t,f,g.handle)||C.removeEvent(t,p,g.handle),delete l[p])}else for(p in l)C.event.remove(t,p+e[c],n,o,!0);C.isEmptyObject(l)&&Y.remove(t,\"handle events\")}},dispatch:function(t){var e,n,o,i,s,r,a=new Array(arguments.length),l=C.event.fix(t),c=(Y.get(this,\"events\")||Object.create(null))[l.type]||[],d=C.event.special[l.type]||{};for(a[0]=l,e=1;e<arguments.length;e++)a[e]=arguments[e];if(l.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,l)){for(r=C.event.handlers.call(this,l,c),e=0;(i=r[e++])&&!l.isPropagationStopped();)for(l.currentTarget=i.elem,n=0;(s=i.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==s.namespace&&!l.rnamespace.test(s.namespace)||(l.handleObj=s,l.data=s.data,void 0!==(o=((C.event.special[s.origType]||{}).handle||s.handler).apply(i.elem,a))&&!1===(l.result=o)&&(l.preventDefault(),l.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,l),l.result}},handlers:function(t,e){var n,o,i,s,r,a=[],l=e.delegateCount,c=t.target;if(l&&c.nodeType&&!(\"click\"===t.type&&t.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&(\"click\"!==t.type||!0!==c.disabled)){for(s=[],r={},n=0;n<l;n++)void 0===r[i=(o=e[n]).selector+\" \"]&&(r[i]=o.needsContext?C(i,this).index(c)>-1:C.find(i,this,null,[c]).length),r[i]&&s.push(o);s.length&&a.push({elem:c,handlers:s})}return c=this,l<e.length&&a.push({elem:c,handlers:e.slice(l)}),a},addProp:function(t,e){Object.defineProperty(C.Event.prototype,t,{enumerable:!0,configurable:!0,get:f(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[C.expando]?t:new C.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return pt.test(e.type)&&e.click&&W(e,\"input\")&&St(e,\"click\",kt),!1},trigger:function(t){var e=this||t;return pt.test(e.type)&&e.click&&W(e,\"input\")&&St(e,\"click\"),!0},_default:function(t){var e=t.target;return pt.test(e.type)&&e.click&&W(e,\"input\")&&Y.get(e,\"click\")||W(e,\"a\")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},C.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},C.Event=function(t,e){if(!(this instanceof C.Event))return new C.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?kt:xt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&C.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[C.expando]=!0},C.Event.prototype={constructor:C.Event,isDefaultPrevented:xt,isPropagationStopped:xt,isImmediatePropagationStopped:xt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=kt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=kt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=kt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},C.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Ct.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&It.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},C.event.addProp),C.each({focus:\"focusin\",blur:\"focusout\"},(function(t,e){C.event.special[t]={setup:function(){return St(this,t,Et),!1},trigger:function(){return St(this,t),!0},delegateType:e}})),C.each({mouseenter:\"mouseover\",mouseleave:\"mouseout\",pointerenter:\"pointerover\",pointerleave:\"pointerout\"},(function(t,e){C.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,o=this,i=t.relatedTarget,s=t.handleObj;return i&&(i===o||C.contains(o,i))||(t.type=s.origType,n=s.handler.apply(this,arguments),t.type=e),n}}})),C.fn.extend({on:function(t,e,n,o){return Wt(this,t,e,n,o)},one:function(t,e,n,o){return Wt(this,t,e,n,o,1)},off:function(t,e,n){var o,i;if(t&&t.preventDefault&&t.handleObj)return o=t.handleObj,C(t.delegateTarget).off(o.namespace?o.origType+\".\"+o.namespace:o.origType,o.selector,o.handler),this;if(\"object\"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return!1!==e&&\"function\"!=typeof e||(n=e,e=void 0),!1===n&&(n=xt),this.each((function(){C.event.remove(this,t,n,e)}))}});var Tt=/<script|<style|<link/i,At=/checked\\s*(?:[^=]|=\\s*.checked.)/i,Dt=/^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g;function Bt(t,e){return W(t,\"table\")&&W(11!==e.nodeType?e:e.firstChild,\"tr\")&&C(t).children(\"tbody\")[0]||t}function Lt(t){return t.type=(null!==t.getAttribute(\"type\"))+\"/\"+t.type,t}function Mt(t){return\"true/\"===(t.type||\"\").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute(\"type\"),t}function Pt(t,e){var n,o,i,s,r,a;if(1===e.nodeType){if(Y.hasData(t)&&(a=Y.get(t).events))for(i in Y.remove(e,\"handle events\"),a)for(n=0,o=a[i].length;n<o;n++)C.event.add(e,i,a[i][n]);J.hasData(t)&&(s=J.access(t),r=C.extend({},s),J.set(e,r))}}function Ft(t,e){var n=e.nodeName.toLowerCase();\"input\"===n&&pt.test(t.type)?e.checked=t.checked:\"input\"!==n&&\"textarea\"!==n||(e.defaultValue=t.defaultValue)}function zt(t,e,n,o){e=s(e);var i,r,a,l,c,d,h=0,u=t.length,m=u-1,g=e[0],w=f(g);if(w||u>1&&\"string\"==typeof g&&!p.checkClone&&At.test(g))return t.each((function(i){var s=t.eq(i);w&&(e[0]=g.call(this,i,s.html())),zt(s,e,n,o)}));if(u&&(r=(i=_t(e,t[0].ownerDocument,!1,t,o)).firstChild,1===i.childNodes.length&&(i=r),r||o)){for(l=(a=C.map(wt(i,\"script\"),Lt)).length;h<u;h++)c=i,h!==m&&(c=C.clone(c,!0,!0),l&&C.merge(a,wt(c,\"script\"))),n.call(t[h],c,h);if(l)for(d=a[a.length-1].ownerDocument,C.map(a,Mt),h=0;h<l;h++)c=a[h],mt.test(c.type||\"\")&&!Y.access(c,\"globalEval\")&&C.contains(d,c)&&(c.src&&\"module\"!==(c.type||\"\").toLowerCase()?C._evalUrl&&!c.noModule&&C._evalUrl(c.src,{nonce:c.nonce||c.getAttribute(\"nonce\")},d):y(c.textContent.replace(Dt,\"\"),c,d))}return t}function Ot(t,e,n){for(var o,i=e?C.filter(e,t):t,s=0;null!=(o=i[s]);s++)n||1!==o.nodeType||C.cleanData(wt(o)),o.parentNode&&(n&&it(o)&&yt(wt(o,\"script\")),o.parentNode.removeChild(o));return t}C.extend({htmlPrefilter:function(t){return t},clone:function(t,e,n){var o,i,s,r,a=t.cloneNode(!0),l=it(t);if(!(p.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||C.isXMLDoc(t)))for(r=wt(a),o=0,i=(s=wt(t)).length;o<i;o++)Ft(s[o],r[o]);if(e)if(n)for(s=s||wt(t),r=r||wt(a),o=0,i=s.length;o<i;o++)Pt(s[o],r[o]);else Pt(t,a);return(r=wt(a,\"script\")).length>0&&yt(r,!l&&wt(t,\"script\")),a},cleanData:function(t){for(var e,n,o,i=C.event.special,s=0;void 0!==(n=t[s]);s++)if(V(n)){if(e=n[Y.expando]){if(e.events)for(o in e.events)i[o]?C.event.remove(n,o):C.removeEvent(n,o,e.handle);n[Y.expando]=void 0}n[J.expando]&&(n[J.expando]=void 0)}}}),C.fn.extend({detach:function(t){return Ot(this,t,!0)},remove:function(t){return Ot(this,t)},text:function(t){return H(this,(function(t){return void 0===t?C.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return zt(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Bt(this,t).appendChild(t)}))},prepend:function(){return zt(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Bt(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return zt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return zt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(C.cleanData(wt(t,!1)),t.textContent=\"\");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return C.clone(this,t,e)}))},html:function(t){return H(this,(function(t){var e=this[0]||{},n=0,o=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if(\"string\"==typeof t&&!Tt.test(t)&&!gt[(ft.exec(t)||[\"\",\"\"])[1].toLowerCase()]){t=C.htmlPrefilter(t);try{for(;n<o;n++)1===(e=this[n]||{}).nodeType&&(C.cleanData(wt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return zt(this,arguments,(function(e){var n=this.parentNode;C.inArray(this,t)<0&&(C.cleanData(wt(this)),n&&n.replaceChild(e,this))}),t)}}),C.each({appendTo:\"append\",prependTo:\"prepend\",insertBefore:\"before\",insertAfter:\"after\",replaceAll:\"replaceWith\"},(function(t,e){C.fn[t]=function(t){for(var n,o=[],i=C(t),s=i.length-1,a=0;a<=s;a++)n=a===s?this:this.clone(!0),C(i[a])[e](n),r.apply(o,n.get());return this.pushStack(o)}}));var $t=new RegExp(\"^(\"+tt+\")(?!px)[a-z%]+$\",\"i\"),Rt=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},Nt=function(t,e,n){var o,i,s={};for(i in e)s[i]=t.style[i],t.style[i]=e[i];for(i in o=n.call(t),e)t.style[i]=s[i];return o},Ht=new RegExp(nt.join(\"|\"),\"i\");function jt(t,e,n){var o,i,s,r,a=t.style;return(n=n||Rt(t))&&(\"\"!==(r=n.getPropertyValue(e)||n[e])||it(t)||(r=C.style(t,e)),!p.pixelBoxStyles()&&$t.test(r)&&Ht.test(e)&&(o=a.width,i=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=n.width,a.width=o,a.minWidth=i,a.maxWidth=s)),void 0!==r?r+\"\":r}function qt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function e(){if(d){c.style.cssText=\"position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0\",d.style.cssText=\"position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%\",ot.appendChild(c).appendChild(d);var e=t.getComputedStyle(d);o=\"1%\"!==e.top,l=12===n(e.marginLeft),d.style.right=\"60%\",r=36===n(e.right),i=36===n(e.width),d.style.position=\"absolute\",s=12===n(d.offsetWidth/3),ot.removeChild(c),d=null}}function n(t){return Math.round(parseFloat(t))}var o,i,s,r,a,l,c=g.createElement(\"div\"),d=g.createElement(\"div\");d.style&&(d.style.backgroundClip=\"content-box\",d.cloneNode(!0).style.backgroundClip=\"\",p.clearCloneStyle=\"content-box\"===d.style.backgroundClip,C.extend(p,{boxSizingReliable:function(){return e(),i},pixelBoxStyles:function(){return e(),r},pixelPosition:function(){return e(),o},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),s},reliableTrDimensions:function(){var e,n,o,i;return null==a&&(e=g.createElement(\"table\"),n=g.createElement(\"tr\"),o=g.createElement(\"div\"),e.style.cssText=\"position:absolute;left:-11111px\",n.style.height=\"1px\",o.style.height=\"9px\",ot.appendChild(e).appendChild(n).appendChild(o),i=t.getComputedStyle(n),a=parseInt(i.height)>3,ot.removeChild(e)),a}}))}();var Ut=[\"Webkit\",\"Moz\",\"ms\"],Gt=g.createElement(\"div\").style,Vt={};function Xt(t){var e=C.cssProps[t]||Vt[t];return e||(t in Gt?t:Vt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=Ut.length;n--;)if((t=Ut[n]+e)in Gt)return t}(t)||t)}var Yt=/^(none|table(?!-c[ea]).+)/,Jt=/^--/,Zt={position:\"absolute\",visibility:\"hidden\",display:\"block\"},Qt={letterSpacing:\"0\",fontWeight:\"400\"};function Kt(t,e,n){var o=et.exec(e);return o?Math.max(0,o[2]-(n||0))+(o[3]||\"px\"):e}function te(t,e,n,o,i,s){var r=\"width\"===e?1:0,a=0,l=0;if(n===(o?\"border\":\"content\"))return 0;for(;r<4;r+=2)\"margin\"===n&&(l+=C.css(t,n+nt[r],!0,i)),o?(\"content\"===n&&(l-=C.css(t,\"padding\"+nt[r],!0,i)),\"margin\"!==n&&(l-=C.css(t,\"border\"+nt[r]+\"Width\",!0,i))):(l+=C.css(t,\"padding\"+nt[r],!0,i),\"padding\"!==n?l+=C.css(t,\"border\"+nt[r]+\"Width\",!0,i):a+=C.css(t,\"border\"+nt[r]+\"Width\",!0,i));return!o&&s>=0&&(l+=Math.max(0,Math.ceil(t[\"offset\"+e[0].toUpperCase()+e.slice(1)]-s-l-a-.5))||0),l}function ee(t,e,n){var o=Rt(t),i=(!p.boxSizingReliable()||n)&&\"border-box\"===C.css(t,\"boxSizing\",!1,o),s=i,r=jt(t,e,o),a=\"offset\"+e[0].toUpperCase()+e.slice(1);if($t.test(r)){if(!n)return r;r=\"auto\"}return(!p.boxSizingReliable()&&i||!p.reliableTrDimensions()&&W(t,\"tr\")||\"auto\"===r||!parseFloat(r)&&\"inline\"===C.css(t,\"display\",!1,o))&&t.getClientRects().length&&(i=\"border-box\"===C.css(t,\"boxSizing\",!1,o),(s=a in t)&&(r=t[a])),(r=parseFloat(r)||0)+te(t,e,n||(i?\"border\":\"content\"),s,o,r)+\"px\"}function ne(t,e,n,o,i){return new ne.prototype.init(t,e,n,o,i)}C.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=jt(t,\"opacity\");return\"\"===n?\"1\":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,o){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,s,r,a=G(e),l=Jt.test(e),c=t.style;if(l||(e=Xt(a)),r=C.cssHooks[e]||C.cssHooks[a],void 0===n)return r&&\"get\"in r&&void 0!==(i=r.get(t,!1,o))?i:c[e];\"string\"===(s=typeof n)&&(i=et.exec(n))&&i[1]&&(n=at(t,e,i),s=\"number\"),null!=n&&n==n&&(\"number\"!==s||l||(n+=i&&i[3]||(C.cssNumber[a]?\"\":\"px\")),p.clearCloneStyle||\"\"!==n||0!==e.indexOf(\"background\")||(c[e]=\"inherit\"),r&&\"set\"in r&&void 0===(n=r.set(t,n,o))||(l?c.setProperty(e,n):c[e]=n))}},css:function(t,e,n,o){var i,s,r,a=G(e);return Jt.test(e)||(e=Xt(a)),(r=C.cssHooks[e]||C.cssHooks[a])&&\"get\"in r&&(i=r.get(t,!0,n)),void 0===i&&(i=jt(t,e,o)),\"normal\"===i&&e in Qt&&(i=Qt[e]),\"\"===n||n?(s=parseFloat(i),!0===n||isFinite(s)?s||0:i):i}}),C.each([\"height\",\"width\"],(function(t,e){C.cssHooks[e]={get:function(t,n,o){if(n)return!Yt.test(C.css(t,\"display\"))||t.getClientRects().length&&t.getBoundingClientRect().width?ee(t,e,o):Nt(t,Zt,(function(){return ee(t,e,o)}))},set:function(t,n,o){var i,s=Rt(t),r=!p.scrollboxSize()&&\"absolute\"===s.position,a=(r||o)&&\"border-box\"===C.css(t,\"boxSizing\",!1,s),l=o?te(t,e,o,a,s):0;return a&&r&&(l-=Math.ceil(t[\"offset\"+e[0].toUpperCase()+e.slice(1)]-parseFloat(s[e])-te(t,e,\"border\",!1,s)-.5)),l&&(i=et.exec(n))&&\"px\"!==(i[3]||\"px\")&&(t.style[e]=n,n=C.css(t,e)),Kt(0,n,l)}}})),C.cssHooks.marginLeft=qt(p.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(jt(t,\"marginLeft\"))||t.getBoundingClientRect().left-Nt(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+\"px\"})),C.each({margin:\"\",padding:\"\",border:\"Width\"},(function(t,e){C.cssHooks[t+e]={expand:function(n){for(var o=0,i={},s=\"string\"==typeof n?n.split(\" \"):[n];o<4;o++)i[t+nt[o]+e]=s[o]||s[o-2]||s[0];return i}},\"margin\"!==t&&(C.cssHooks[t+e].set=Kt)})),C.fn.extend({css:function(t,e){return H(this,(function(t,e,n){var o,i,s={},r=0;if(Array.isArray(e)){for(o=Rt(t),i=e.length;r<i;r++)s[e[r]]=C.css(t,e[r],!1,o);return s}return void 0!==n?C.style(t,e,n):C.css(t,e)}),t,e,arguments.length>1)}}),C.Tween=ne,ne.prototype={constructor:ne,init:function(t,e,n,o,i,s){this.elem=t,this.prop=n,this.easing=i||C.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=o,this.unit=s||(C.cssNumber[n]?\"\":\"px\")},cur:function(){var t=ne.propHooks[this.prop];return t&&t.get?t.get(this):ne.propHooks._default.get(this)},run:function(t){var e,n=ne.propHooks[this.prop];return this.options.duration?this.pos=e=C.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ne.propHooks._default.set(this),this}},ne.prototype.init.prototype=ne.prototype,ne.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=C.css(t.elem,t.prop,\"\"))&&\"auto\"!==e?e:0},set:function(t){C.fx.step[t.prop]?C.fx.step[t.prop](t):1!==t.elem.nodeType||!C.cssHooks[t.prop]&&null==t.elem.style[Xt(t.prop)]?t.elem[t.prop]=t.now:C.style(t.elem,t.prop,t.now+t.unit)}}},ne.propHooks.scrollTop=ne.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},C.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:\"swing\"},C.fx=ne.prototype.init,C.fx.step={};var oe,ie,se=/^(?:toggle|show|hide)$/,re=/queueHooks$/;function ae(){ie&&(!1===g.hidden&&t.requestAnimationFrame?t.requestAnimationFrame(ae):t.setTimeout(ae,C.fx.interval),C.fx.tick())}function le(){return t.setTimeout((function(){oe=void 0})),oe=Date.now()}function ce(t,e){var n,o=0,i={height:t};for(e=e?1:0;o<4;o+=2-e)i[\"margin\"+(n=nt[o])]=i[\"padding\"+n]=t;return e&&(i.opacity=i.width=t),i}function de(t,e,n){for(var o,i=(he.tweeners[e]||[]).concat(he.tweeners[\"*\"]),s=0,r=i.length;s<r;s++)if(o=i[s].call(n,e,t))return o}function he(t,e,n){var o,i,s=0,r=he.prefilters.length,a=C.Deferred().always((function(){delete l.elem})),l=function(){if(i)return!1;for(var e=oe||le(),n=Math.max(0,c.startTime+c.duration-e),o=1-(n/c.duration||0),s=0,r=c.tweens.length;s<r;s++)c.tweens[s].run(o);return a.notifyWith(t,[c,o,n]),o<1&&r?n:(r||a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:C.extend({},e),opts:C.extend(!0,{specialEasing:{},easing:C.easing._default},n),originalProperties:e,originalOptions:n,startTime:oe||le(),duration:n.duration,tweens:[],createTween:function(e,n){var o=C.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(o),o},stop:function(e){var n=0,o=e?c.tweens.length:0;if(i)return this;for(i=!0;n<o;n++)c.tweens[n].run(1);return e?(a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c,e])):a.rejectWith(t,[c,e]),this}}),d=c.props;for(!function(t,e){var n,o,i,s,r;for(n in t)if(i=e[o=G(n)],s=t[n],Array.isArray(s)&&(i=s[1],s=t[n]=s[0]),n!==o&&(t[o]=s,delete t[n]),(r=C.cssHooks[o])&&\"expand\"in r)for(n in s=r.expand(s),delete t[o],s)n in t||(t[n]=s[n],e[n]=i);else e[o]=i}(d,c.opts.specialEasing);s<r;s++)if(o=he.prefilters[s].call(c,t,d,c.opts))return f(o.stop)&&(C._queueHooks(c.elem,c.opts.queue).stop=o.stop.bind(o)),o;return C.map(d,de,c),f(c.opts.start)&&c.opts.start.call(t,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),C.fx.timer(C.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c}C.Animation=C.extend(he,{tweeners:{\"*\":[function(t,e){var n=this.createTween(t,e);return at(n.elem,t,et.exec(e),n),n}]},tweener:function(t,e){f(t)?(e=t,t=[\"*\"]):t=t.match(P);for(var n,o=0,i=t.length;o<i;o++)n=t[o],he.tweeners[n]=he.tweeners[n]||[],he.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var o,i,s,r,a,l,c,d,h=\"width\"in e||\"height\"in e,u=this,p={},f=t.style,m=t.nodeType&&rt(t),g=Y.get(t,\"fxshow\");for(o in n.queue||(null==(r=C._queueHooks(t,\"fx\")).unqueued&&(r.unqueued=0,a=r.empty.fire,r.empty.fire=function(){r.unqueued||a()}),r.unqueued++,u.always((function(){u.always((function(){r.unqueued--,C.queue(t,\"fx\").length||r.empty.fire()}))}))),e)if(i=e[o],se.test(i)){if(delete e[o],s=s||\"toggle\"===i,i===(m?\"hide\":\"show\")){if(\"show\"!==i||!g||void 0===g[o])continue;m=!0}p[o]=g&&g[o]||C.style(t,o)}if((l=!C.isEmptyObject(e))||!C.isEmptyObject(p))for(o in h&&1===t.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=g&&g.display)&&(c=Y.get(t,\"display\")),\"none\"===(d=C.css(t,\"display\"))&&(c?d=c:(dt([t],!0),c=t.style.display||c,d=C.css(t,\"display\"),dt([t]))),(\"inline\"===d||\"inline-block\"===d&&null!=c)&&\"none\"===C.css(t,\"float\")&&(l||(u.done((function(){f.display=c})),null==c&&(d=f.display,c=\"none\"===d?\"\":d)),f.display=\"inline-block\")),n.overflow&&(f.overflow=\"hidden\",u.always((function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}))),l=!1,p)l||(g?\"hidden\"in g&&(m=g.hidden):g=Y.access(t,\"fxshow\",{display:c}),s&&(g.hidden=!m),m&&dt([t],!0),u.done((function(){for(o in m||dt([t]),Y.remove(t,\"fxshow\"),p)C.style(t,o,p[o])}))),l=de(m?g[o]:0,o,u),o in g||(g[o]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?he.prefilters.unshift(t):he.prefilters.push(t)}}),C.speed=function(t,e,n){var o=t&&\"object\"==typeof t?C.extend({},t):{complete:n||!n&&e||f(t)&&t,duration:t,easing:n&&e||e&&!f(e)&&e};return C.fx.off?o.duration=0:\"number\"!=typeof o.duration&&(o.duration in C.fx.speeds?o.duration=C.fx.speeds[o.duration]:o.duration=C.fx.speeds._default),null!=o.queue&&!0!==o.queue||(o.queue=\"fx\"),o.old=o.complete,o.complete=function(){f(o.old)&&o.old.call(this),o.queue&&C.dequeue(this,o.queue)},o},C.fn.extend({fadeTo:function(t,e,n,o){return this.filter(rt).css(\"opacity\",0).show().end().animate({opacity:e},t,n,o)},animate:function(t,e,n,o){var i=C.isEmptyObject(t),s=C.speed(e,n,o),r=function(){var e=he(this,C.extend({},t),s);(i||Y.get(this,\"finish\"))&&e.stop(!0)};return r.finish=r,i||!1===s.queue?this.each(r):this.queue(s.queue,r)},stop:function(t,e,n){var o=function(t){var e=t.stop;delete t.stop,e(n)};return\"string\"!=typeof t&&(n=e,e=t,t=void 0),e&&this.queue(t||\"fx\",[]),this.each((function(){var e=!0,i=null!=t&&t+\"queueHooks\",s=C.timers,r=Y.get(this);if(i)r[i]&&r[i].stop&&o(r[i]);else for(i in r)r[i]&&r[i].stop&&re.test(i)&&o(r[i]);for(i=s.length;i--;)s[i].elem!==this||null!=t&&s[i].queue!==t||(s[i].anim.stop(n),e=!1,s.splice(i,1));!e&&n||C.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||\"fx\"),this.each((function(){var e,n=Y.get(this),o=n[t+\"queue\"],i=n[t+\"queueHooks\"],s=C.timers,r=o?o.length:0;for(n.finish=!0,C.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=s.length;e--;)s[e].elem===this&&s[e].queue===t&&(s[e].anim.stop(!0),s.splice(e,1));for(e=0;e<r;e++)o[e]&&o[e].finish&&o[e].finish.call(this);delete n.finish}))}}),C.each([\"toggle\",\"show\",\"hide\"],(function(t,e){var n=C.fn[e];C.fn[e]=function(t,o,i){return null==t||\"boolean\"==typeof t?n.apply(this,arguments):this.animate(ce(e,!0),t,o,i)}})),C.each({slideDown:ce(\"show\"),slideUp:ce(\"hide\"),slideToggle:ce(\"toggle\"),fadeIn:{opacity:\"show\"},fadeOut:{opacity:\"hide\"},fadeToggle:{opacity:\"toggle\"}},(function(t,e){C.fn[t]=function(t,n,o){return this.animate(e,t,n,o)}})),C.timers=[],C.fx.tick=function(){var t,e=0,n=C.timers;for(oe=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||C.fx.stop(),oe=void 0},C.fx.timer=function(t){C.timers.push(t),C.fx.start()},C.fx.interval=13,C.fx.start=function(){ie||(ie=!0,ae())},C.fx.stop=function(){ie=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(e,n){return e=C.fx&&C.fx.speeds[e]||e,n=n||\"fx\",this.queue(n,(function(n,o){var i=t.setTimeout(n,e);o.stop=function(){t.clearTimeout(i)}}))},function(){var t=g.createElement(\"input\"),e=g.createElement(\"select\").appendChild(g.createElement(\"option\"));t.type=\"checkbox\",p.checkOn=\"\"!==t.value,p.optSelected=e.selected,(t=g.createElement(\"input\")).value=\"t\",t.type=\"radio\",p.radioValue=\"t\"===t.value}();var ue,pe=C.expr.attrHandle;C.fn.extend({attr:function(t,e){return H(this,C.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){C.removeAttr(this,t)}))}}),C.extend({attr:function(t,e,n){var o,i,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===t.getAttribute?C.prop(t,e,n):(1===s&&C.isXMLDoc(t)||(i=C.attrHooks[e.toLowerCase()]||(C.expr.match.bool.test(e)?ue:void 0)),void 0!==n?null===n?void C.removeAttr(t,e):i&&\"set\"in i&&void 0!==(o=i.set(t,n,e))?o:(t.setAttribute(e,n+\"\"),n):i&&\"get\"in i&&null!==(o=i.get(t,e))?o:null==(o=C.find.attr(t,e))?void 0:o)},attrHooks:{type:{set:function(t,e){if(!p.radioValue&&\"radio\"===e&&W(t,\"input\")){var n=t.value;return t.setAttribute(\"type\",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,o=0,i=e&&e.match(P);if(i&&1===t.nodeType)for(;n=i[o++];)t.removeAttribute(n)}}),ue={set:function(t,e,n){return!1===e?C.removeAttr(t,n):t.setAttribute(n,n),n}},C.each(C.expr.match.bool.source.match(/\\w+/g),(function(t,e){var n=pe[e]||C.find.attr;pe[e]=function(t,e,o){var i,s,r=e.toLowerCase();return o||(s=pe[r],pe[r]=i,i=null!=n(t,e,o)?r:null,pe[r]=s),i}}));var fe=/^(?:input|select|textarea|button)$/i,me=/^(?:a|area)$/i;function ge(t){return(t.match(P)||[]).join(\" \")}function we(t){return t.getAttribute&&t.getAttribute(\"class\")||\"\"}function ye(t){return Array.isArray(t)?t:\"string\"==typeof t&&t.match(P)||[]}C.fn.extend({prop:function(t,e){return H(this,C.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[C.propFix[t]||t]}))}}),C.extend({prop:function(t,e,n){var o,i,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&C.isXMLDoc(t)||(e=C.propFix[e]||e,i=C.propHooks[e]),void 0!==n?i&&\"set\"in i&&void 0!==(o=i.set(t,n,e))?o:t[e]=n:i&&\"get\"in i&&null!==(o=i.get(t,e))?o:t[e]},propHooks:{tabIndex:{get:function(t){var e=C.find.attr(t,\"tabindex\");return e?parseInt(e,10):fe.test(t.nodeName)||me.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:\"htmlFor\",class:\"className\"}}),p.optSelected||(C.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),C.each([\"tabIndex\",\"readOnly\",\"maxLength\",\"cellSpacing\",\"cellPadding\",\"rowSpan\",\"colSpan\",\"useMap\",\"frameBorder\",\"contentEditable\"],(function(){C.propFix[this.toLowerCase()]=this})),C.fn.extend({addClass:function(t){var e,n,o,i,s,r,a,l=0;if(f(t))return this.each((function(e){C(this).addClass(t.call(this,e,we(this)))}));if((e=ye(t)).length)for(;n=this[l++];)if(i=we(n),o=1===n.nodeType&&\" \"+ge(i)+\" \"){for(r=0;s=e[r++];)o.indexOf(\" \"+s+\" \")<0&&(o+=s+\" \");i!==(a=ge(o))&&n.setAttribute(\"class\",a)}return this},removeClass:function(t){var e,n,o,i,s,r,a,l=0;if(f(t))return this.each((function(e){C(this).removeClass(t.call(this,e,we(this)))}));if(!arguments.length)return this.attr(\"class\",\"\");if((e=ye(t)).length)for(;n=this[l++];)if(i=we(n),o=1===n.nodeType&&\" \"+ge(i)+\" \"){for(r=0;s=e[r++];)for(;o.indexOf(\" \"+s+\" \")>-1;)o=o.replace(\" \"+s+\" \",\" \");i!==(a=ge(o))&&n.setAttribute(\"class\",a)}return this},toggleClass:function(t,e){var n=typeof t,o=\"string\"===n||Array.isArray(t);return\"boolean\"==typeof e&&o?e?this.addClass(t):this.removeClass(t):f(t)?this.each((function(n){C(this).toggleClass(t.call(this,n,we(this),e),e)})):this.each((function(){var e,i,s,r;if(o)for(i=0,s=C(this),r=ye(t);e=r[i++];)s.hasClass(e)?s.removeClass(e):s.addClass(e);else void 0!==t&&\"boolean\"!==n||((e=we(this))&&Y.set(this,\"__className__\",e),this.setAttribute&&this.setAttribute(\"class\",e||!1===t?\"\":Y.get(this,\"__className__\")||\"\"))}))},hasClass:function(t){var e,n,o=0;for(e=\" \"+t+\" \";n=this[o++];)if(1===n.nodeType&&(\" \"+ge(we(n))+\" \").indexOf(e)>-1)return!0;return!1}});var ve=/\\r/g;C.fn.extend({val:function(t){var e,n,o,i=this[0];return arguments.length?(o=f(t),this.each((function(n){var i;1===this.nodeType&&(null==(i=o?t.call(this,n,C(this).val()):t)?i=\"\":\"number\"==typeof i?i+=\"\":Array.isArray(i)&&(i=C.map(i,(function(t){return null==t?\"\":t+\"\"}))),(e=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()])&&\"set\"in e&&void 0!==e.set(this,i,\"value\")||(this.value=i))}))):i?(e=C.valHooks[i.type]||C.valHooks[i.nodeName.toLowerCase()])&&\"get\"in e&&void 0!==(n=e.get(i,\"value\"))?n:\"string\"==typeof(n=i.value)?n.replace(ve,\"\"):null==n?\"\":n:void 0}}),C.extend({valHooks:{option:{get:function(t){var e=C.find.attr(t,\"value\");return null!=e?e:ge(C.text(t))}},select:{get:function(t){var e,n,o,i=t.options,s=t.selectedIndex,r=\"select-one\"===t.type,a=r?null:[],l=r?s+1:i.length;for(o=s<0?l:r?s:0;o<l;o++)if(((n=i[o]).selected||o===s)&&!n.disabled&&(!n.parentNode.disabled||!W(n.parentNode,\"optgroup\"))){if(e=C(n).val(),r)return e;a.push(e)}return a},set:function(t,e){for(var n,o,i=t.options,s=C.makeArray(e),r=i.length;r--;)((o=i[r]).selected=C.inArray(C.valHooks.option.get(o),s)>-1)&&(n=!0);return n||(t.selectedIndex=-1),s}}}}),C.each([\"radio\",\"checkbox\"],(function(){C.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=C.inArray(C(t).val(),e)>-1}},p.checkOn||(C.valHooks[this].get=function(t){return null===t.getAttribute(\"value\")?\"on\":t.value})})),p.focusin=\"onfocusin\"in t;var _e=/^(?:focusinfocus|focusoutblur)$/,Ce=function(t){t.stopPropagation()};C.extend(C.event,{trigger:function(e,n,o,i){var s,r,a,l,c,h,u,p,w=[o||g],y=d.call(e,\"type\")?e.type:e,v=d.call(e,\"namespace\")?e.namespace.split(\".\"):[];if(r=p=a=o=o||g,3!==o.nodeType&&8!==o.nodeType&&!_e.test(y+C.event.triggered)&&(y.indexOf(\".\")>-1&&(v=y.split(\".\"),y=v.shift(),v.sort()),c=y.indexOf(\":\")<0&&\"on\"+y,(e=e[C.expando]?e:new C.Event(y,\"object\"==typeof e&&e)).isTrigger=i?2:3,e.namespace=v.join(\".\"),e.rnamespace=e.namespace?new RegExp(\"(^|\\\\.)\"+v.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"):null,e.result=void 0,e.target||(e.target=o),n=null==n?[e]:C.makeArray(n,[e]),u=C.event.special[y]||{},i||!u.trigger||!1!==u.trigger.apply(o,n))){if(!i&&!u.noBubble&&!m(o)){for(l=u.delegateType||y,_e.test(l+y)||(r=r.parentNode);r;r=r.parentNode)w.push(r),a=r;a===(o.ownerDocument||g)&&w.push(a.defaultView||a.parentWindow||t)}for(s=0;(r=w[s++])&&!e.isPropagationStopped();)p=r,e.type=s>1?l:u.bindType||y,(h=(Y.get(r,\"events\")||Object.create(null))[e.type]&&Y.get(r,\"handle\"))&&h.apply(r,n),(h=c&&r[c])&&h.apply&&V(r)&&(e.result=h.apply(r,n),!1===e.result&&e.preventDefault());return e.type=y,i||e.isDefaultPrevented()||u._default&&!1!==u._default.apply(w.pop(),n)||!V(o)||c&&f(o[y])&&!m(o)&&((a=o[c])&&(o[c]=null),C.event.triggered=y,e.isPropagationStopped()&&p.addEventListener(y,Ce),o[y](),e.isPropagationStopped()&&p.removeEventListener(y,Ce),C.event.triggered=void 0,a&&(o[c]=a)),e.result}},simulate:function(t,e,n){var o=C.extend(new C.Event,n,{type:t,isSimulated:!0});C.event.trigger(o,null,e)}}),C.fn.extend({trigger:function(t,e){return this.each((function(){C.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];if(n)return C.event.trigger(t,e,n,!0)}}),p.focusin||C.each({focus:\"focusin\",blur:\"focusout\"},(function(t,e){var n=function(t){C.event.simulate(e,t.target,C.event.fix(t))};C.event.special[e]={setup:function(){var o=this.ownerDocument||this.document||this,i=Y.access(o,e);i||o.addEventListener(t,n,!0),Y.access(o,e,(i||0)+1)},teardown:function(){var o=this.ownerDocument||this.document||this,i=Y.access(o,e)-1;i?Y.access(o,e,i):(o.removeEventListener(t,n,!0),Y.remove(o,e))}}}));var Ie=t.location,be={guid:Date.now()},ke=/\\?/;C.parseXML=function(e){var n;if(!e||\"string\"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,\"text/xml\")}catch(t){n=void 0}return n&&!n.getElementsByTagName(\"parsererror\").length||C.error(\"Invalid XML: \"+e),n};var xe=/\\[\\]$/,Ee=/\\r?\\n/g,We=/^(?:submit|button|image|reset|file)$/i,Se=/^(?:input|select|textarea|keygen)/i;function Te(t,e,n,o){var i;if(Array.isArray(e))C.each(e,(function(e,i){n||xe.test(t)?o(t,i):Te(t+\"[\"+(\"object\"==typeof i&&null!=i?e:\"\")+\"]\",i,n,o)}));else if(n||\"object\"!==v(e))o(t,e);else for(i in e)Te(t+\"[\"+i+\"]\",e[i],n,o)}C.param=function(t,e){var n,o=[],i=function(t,e){var n=f(e)?e():e;o[o.length]=encodeURIComponent(t)+\"=\"+encodeURIComponent(null==n?\"\":n)};if(null==t)return\"\";if(Array.isArray(t)||t.jquery&&!C.isPlainObject(t))C.each(t,(function(){i(this.name,this.value)}));else for(n in t)Te(n,t[n],e,i);return o.join(\"&\")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=C.prop(this,\"elements\");return t?C.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!C(this).is(\":disabled\")&&Se.test(this.nodeName)&&!We.test(t)&&(this.checked||!pt.test(t))})).map((function(t,e){var n=C(this).val();return null==n?null:Array.isArray(n)?C.map(n,(function(t){return{name:e.name,value:t.replace(Ee,\"\\r\\n\")}})):{name:e.name,value:n.replace(Ee,\"\\r\\n\")}})).get()}});var Ae=/%20/g,De=/#.*$/,Be=/([?&])_=[^&]*/,Le=/^(.*?):[ \\t]*([^\\r\\n]*)$/gm,Me=/^(?:GET|HEAD)$/,Pe=/^\\/\\//,Fe={},ze={},Oe=\"*/\".concat(\"*\"),$e=g.createElement(\"a\");function Re(t){return function(e,n){\"string\"!=typeof e&&(n=e,e=\"*\");var o,i=0,s=e.toLowerCase().match(P)||[];if(f(n))for(;o=s[i++];)\"+\"===o[0]?(o=o.slice(1)||\"*\",(t[o]=t[o]||[]).unshift(n)):(t[o]=t[o]||[]).push(n)}}function Ne(t,e,n,o){var i={},s=t===ze;function r(a){var l;return i[a]=!0,C.each(t[a]||[],(function(t,a){var c=a(e,n,o);return\"string\"!=typeof c||s||i[c]?s?!(l=c):void 0:(e.dataTypes.unshift(c),r(c),!1)})),l}return r(e.dataTypes[0])||!i[\"*\"]&&r(\"*\")}function He(t,e){var n,o,i=C.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:o||(o={}))[n]=e[n]);return o&&C.extend(!0,t,o),t}$e.href=Ie.href,C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ie.href,type:\"GET\",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ie.protocol),global:!0,processData:!0,async:!0,contentType:\"application/x-www-form-urlencoded; charset=UTF-8\",accepts:{\"*\":Oe,text:\"text/plain\",html:\"text/html\",xml:\"application/xml, text/xml\",json:\"application/json, text/javascript\"},contents:{xml:/\\bxml\\b/,html:/\\bhtml/,json:/\\bjson\\b/},responseFields:{xml:\"responseXML\",text:\"responseText\",json:\"responseJSON\"},converters:{\"* text\":String,\"text html\":!0,\"text json\":JSON.parse,\"text xml\":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?He(He(t,C.ajaxSettings),e):He(C.ajaxSettings,t)},ajaxPrefilter:Re(Fe),ajaxTransport:Re(ze),ajax:function(e,n){\"object\"==typeof e&&(n=e,e=void 0),n=n||{};var o,i,s,r,a,l,c,d,h,u,p=C.ajaxSetup({},n),f=p.context||p,m=p.context&&(f.nodeType||f.jquery)?C(f):C.event,w=C.Deferred(),y=C.Callbacks(\"once memory\"),v=p.statusCode||{},_={},I={},b=\"canceled\",k={readyState:0,getResponseHeader:function(t){var e;if(c){if(!r)for(r={};e=Le.exec(s);)r[e[1].toLowerCase()+\" \"]=(r[e[1].toLowerCase()+\" \"]||[]).concat(e[2]);e=r[t.toLowerCase()+\" \"]}return null==e?null:e.join(\", \")},getAllResponseHeaders:function(){return c?s:null},setRequestHeader:function(t,e){return null==c&&(t=I[t.toLowerCase()]=I[t.toLowerCase()]||t,_[t]=e),this},overrideMimeType:function(t){return null==c&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)k.always(t[k.status]);else for(e in t)v[e]=[v[e],t[e]];return this},abort:function(t){var e=t||b;return o&&o.abort(e),x(0,e),this}};if(w.promise(k),p.url=((e||p.url||Ie.href)+\"\").replace(Pe,Ie.protocol+\"//\"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=(p.dataType||\"*\").toLowerCase().match(P)||[\"\"],null==p.crossDomain){l=g.createElement(\"a\");try{l.href=p.url,l.href=l.href,p.crossDomain=$e.protocol+\"//\"+$e.host!=l.protocol+\"//\"+l.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&\"string\"!=typeof p.data&&(p.data=C.param(p.data,p.traditional)),Ne(Fe,p,n,k),c)return k;for(h in(d=C.event&&p.global)&&0==C.active++&&C.event.trigger(\"ajaxStart\"),p.type=p.type.toUpperCase(),p.hasContent=!Me.test(p.type),i=p.url.replace(De,\"\"),p.hasContent?p.data&&p.processData&&0===(p.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&(p.data=p.data.replace(Ae,\"+\")):(u=p.url.slice(i.length),p.data&&(p.processData||\"string\"==typeof p.data)&&(i+=(ke.test(i)?\"&\":\"?\")+p.data,delete p.data),!1===p.cache&&(i=i.replace(Be,\"$1\"),u=(ke.test(i)?\"&\":\"?\")+\"_=\"+be.guid+++u),p.url=i+u),p.ifModified&&(C.lastModified[i]&&k.setRequestHeader(\"If-Modified-Since\",C.lastModified[i]),C.etag[i]&&k.setRequestHeader(\"If-None-Match\",C.etag[i])),(p.data&&p.hasContent&&!1!==p.contentType||n.contentType)&&k.setRequestHeader(\"Content-Type\",p.contentType),k.setRequestHeader(\"Accept\",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+(\"*\"!==p.dataTypes[0]?\", \"+Oe+\"; q=0.01\":\"\"):p.accepts[\"*\"]),p.headers)k.setRequestHeader(h,p.headers[h]);if(p.beforeSend&&(!1===p.beforeSend.call(f,k,p)||c))return k.abort();if(b=\"abort\",y.add(p.complete),k.done(p.success),k.fail(p.error),o=Ne(ze,p,n,k)){if(k.readyState=1,d&&m.trigger(\"ajaxSend\",[k,p]),c)return k;p.async&&p.timeout>0&&(a=t.setTimeout((function(){k.abort(\"timeout\")}),p.timeout));try{c=!1,o.send(_,x)}catch(t){if(c)throw t;x(-1,t)}}else x(-1,\"No Transport\");function x(e,n,r,l){var h,u,g,_,I,b=n;c||(c=!0,a&&t.clearTimeout(a),o=void 0,s=l||\"\",k.readyState=e>0?4:0,h=e>=200&&e<300||304===e,r&&(_=function(t,e,n){for(var o,i,s,r,a=t.contents,l=t.dataTypes;\"*\"===l[0];)l.shift(),void 0===o&&(o=t.mimeType||e.getResponseHeader(\"Content-Type\"));if(o)for(i in a)if(a[i]&&a[i].test(o)){l.unshift(i);break}if(l[0]in n)s=l[0];else{for(i in n){if(!l[0]||t.converters[i+\" \"+l[0]]){s=i;break}r||(r=i)}s=s||r}if(s)return s!==l[0]&&l.unshift(s),n[s]}(p,k,r)),!h&&C.inArray(\"script\",p.dataTypes)>-1&&(p.converters[\"text script\"]=function(){}),_=function(t,e,n,o){var i,s,r,a,l,c={},d=t.dataTypes.slice();if(d[1])for(r in t.converters)c[r.toLowerCase()]=t.converters[r];for(s=d.shift();s;)if(t.responseFields[s]&&(n[t.responseFields[s]]=e),!l&&o&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=s,s=d.shift())if(\"*\"===s)s=l;else if(\"*\"!==l&&l!==s){if(!(r=c[l+\" \"+s]||c[\"* \"+s]))for(i in c)if((a=i.split(\" \"))[1]===s&&(r=c[l+\" \"+a[0]]||c[\"* \"+a[0]])){!0===r?r=c[i]:!0!==c[i]&&(s=a[0],d.unshift(a[1]));break}if(!0!==r)if(r&&t.throws)e=r(e);else try{e=r(e)}catch(t){return{state:\"parsererror\",error:r?t:\"No conversion from \"+l+\" to \"+s}}}return{state:\"success\",data:e}}(p,_,k,h),h?(p.ifModified&&((I=k.getResponseHeader(\"Last-Modified\"))&&(C.lastModified[i]=I),(I=k.getResponseHeader(\"etag\"))&&(C.etag[i]=I)),204===e||\"HEAD\"===p.type?b=\"nocontent\":304===e?b=\"notmodified\":(b=_.state,u=_.data,h=!(g=_.error))):(g=b,!e&&b||(b=\"error\",e<0&&(e=0))),k.status=e,k.statusText=(n||b)+\"\",h?w.resolveWith(f,[u,b,k]):w.rejectWith(f,[k,b,g]),k.statusCode(v),v=void 0,d&&m.trigger(h?\"ajaxSuccess\":\"ajaxError\",[k,p,h?u:g]),y.fireWith(f,[k,b]),d&&(m.trigger(\"ajaxComplete\",[k,p]),--C.active||C.event.trigger(\"ajaxStop\")))}return k},getJSON:function(t,e,n){return C.get(t,e,n,\"json\")},getScript:function(t,e){return C.get(t,void 0,e,\"script\")}}),C.each([\"get\",\"post\"],(function(t,e){C[e]=function(t,n,o,i){return f(n)&&(i=i||o,o=n,n=void 0),C.ajax(C.extend({url:t,type:e,dataType:i,data:n,success:o},C.isPlainObject(t)&&t))}})),C.ajaxPrefilter((function(t){var e;for(e in t.headers)\"content-type\"===e.toLowerCase()&&(t.contentType=t.headers[e]||\"\")})),C._evalUrl=function(t,e,n){return C.ajax({url:t,type:\"GET\",dataType:\"script\",cache:!0,async:!1,global:!1,converters:{\"text script\":function(){}},dataFilter:function(t){C.globalEval(t,e,n)}})},C.fn.extend({wrapAll:function(t){var e;return this[0]&&(f(t)&&(t=t.call(this[0])),e=C(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return f(t)?this.each((function(e){C(this).wrapInner(t.call(this,e))})):this.each((function(){var e=C(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)}))},wrap:function(t){var e=f(t);return this.each((function(n){C(this).wrapAll(e?t.call(this,n):t)}))},unwrap:function(t){return this.parent(t).not(\"body\").each((function(){C(this).replaceWith(this.childNodes)})),this}}),C.expr.pseudos.hidden=function(t){return!C.expr.pseudos.visible(t)},C.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},C.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var je={0:200,1223:204},qe=C.ajaxSettings.xhr();p.cors=!!qe&&\"withCredentials\"in qe,p.ajax=qe=!!qe,C.ajaxTransport((function(e){var n,o;if(p.cors||qe&&!e.crossDomain)return{send:function(i,s){var r,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)a[r]=e.xhrFields[r];for(r in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||i[\"X-Requested-With\"]||(i[\"X-Requested-With\"]=\"XMLHttpRequest\"),i)a.setRequestHeader(r,i[r]);n=function(t){return function(){n&&(n=o=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,\"abort\"===t?a.abort():\"error\"===t?\"number\"!=typeof a.status?s(0,\"error\"):s(a.status,a.statusText):s(je[a.status]||a.status,a.statusText,\"text\"!==(a.responseType||\"text\")||\"string\"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),o=a.onerror=a.ontimeout=n(\"error\"),void 0!==a.onabort?a.onabort=o:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout((function(){n&&o()}))},n=n(\"abort\");try{a.send(e.hasContent&&e.data||null)}catch(t){if(n)throw t}},abort:function(){n&&n()}}})),C.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),C.ajaxSetup({accepts:{script:\"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\"},contents:{script:/\\b(?:java|ecma)script\\b/},converters:{\"text script\":function(t){return C.globalEval(t),t}}}),C.ajaxPrefilter(\"script\",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type=\"GET\")})),C.ajaxTransport(\"script\",(function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(o,i){e=C(\"<script>\").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on(\"load error\",n=function(t){e.remove(),n=null,t&&i(\"error\"===t.type?404:200,t.type)}),g.head.appendChild(e[0])},abort:function(){n&&n()}}}));var Ue,Ge=[],Ve=/(=)\\?(?=&|$)|\\?\\?/;C.ajaxSetup({jsonp:\"callback\",jsonpCallback:function(){var t=Ge.pop()||C.expando+\"_\"+be.guid++;return this[t]=!0,t}}),C.ajaxPrefilter(\"json jsonp\",(function(e,n,o){var i,s,r,a=!1!==e.jsonp&&(Ve.test(e.url)?\"url\":\"string\"==typeof e.data&&0===(e.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&Ve.test(e.data)&&\"data\");if(a||\"jsonp\"===e.dataTypes[0])return i=e.jsonpCallback=f(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Ve,\"$1\"+i):!1!==e.jsonp&&(e.url+=(ke.test(e.url)?\"&\":\"?\")+e.jsonp+\"=\"+i),e.converters[\"script json\"]=function(){return r||C.error(i+\" was not called\"),r[0]},e.dataTypes[0]=\"json\",s=t[i],t[i]=function(){r=arguments},o.always((function(){void 0===s?C(t).removeProp(i):t[i]=s,e[i]&&(e.jsonpCallback=n.jsonpCallback,Ge.push(i)),r&&f(s)&&s(r[0]),r=s=void 0})),\"script\"})),p.createHTMLDocument=((Ue=g.implementation.createHTMLDocument(\"\").body).innerHTML=\"<form></form><form></form>\",2===Ue.childNodes.length),C.parseHTML=function(t,e,n){return\"string\"!=typeof t?[]:(\"boolean\"==typeof e&&(n=e,e=!1),e||(p.createHTMLDocument?((o=(e=g.implementation.createHTMLDocument(\"\")).createElement(\"base\")).href=g.location.href,e.head.appendChild(o)):e=g),s=!n&&[],(i=S.exec(t))?[e.createElement(i[1])]:(i=_t([t],e,s),s&&s.length&&C(s).remove(),C.merge([],i.childNodes)));var o,i,s},C.fn.load=function(t,e,n){var o,i,s,r=this,a=t.indexOf(\" \");return a>-1&&(o=ge(t.slice(a)),t=t.slice(0,a)),f(e)?(n=e,e=void 0):e&&\"object\"==typeof e&&(i=\"POST\"),r.length>0&&C.ajax({url:t,type:i||\"GET\",dataType:\"html\",data:e}).done((function(t){s=arguments,r.html(o?C(\"<div>\").append(C.parseHTML(t)).find(o):t)})).always(n&&function(t,e){r.each((function(){n.apply(this,s||[t.responseText,e,t])}))}),this},C.expr.pseudos.animated=function(t){return C.grep(C.timers,(function(e){return t===e.elem})).length},C.offset={setOffset:function(t,e,n){var o,i,s,r,a,l,c=C.css(t,\"position\"),d=C(t),h={};\"static\"===c&&(t.style.position=\"relative\"),a=d.offset(),s=C.css(t,\"top\"),l=C.css(t,\"left\"),(\"absolute\"===c||\"fixed\"===c)&&(s+l).indexOf(\"auto\")>-1?(r=(o=d.position()).top,i=o.left):(r=parseFloat(s)||0,i=parseFloat(l)||0),f(e)&&(e=e.call(t,n,C.extend({},a))),null!=e.top&&(h.top=e.top-a.top+r),null!=e.left&&(h.left=e.left-a.left+i),\"using\"in e?e.using.call(t,h):(\"number\"==typeof h.top&&(h.top+=\"px\"),\"number\"==typeof h.left&&(h.left+=\"px\"),d.css(h))}},C.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){C.offset.setOffset(this,t,e)}));var e,n,o=this[0];return o?o.getClientRects().length?(e=o.getBoundingClientRect(),n=o.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,o=this[0],i={top:0,left:0};if(\"fixed\"===C.css(o,\"position\"))e=o.getBoundingClientRect();else{for(e=this.offset(),n=o.ownerDocument,t=o.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&\"static\"===C.css(t,\"position\");)t=t.parentNode;t&&t!==o&&1===t.nodeType&&((i=C(t).offset()).top+=C.css(t,\"borderTopWidth\",!0),i.left+=C.css(t,\"borderLeftWidth\",!0))}return{top:e.top-i.top-C.css(o,\"marginTop\",!0),left:e.left-i.left-C.css(o,\"marginLeft\",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&\"static\"===C.css(t,\"position\");)t=t.offsetParent;return t||ot}))}}),C.each({scrollLeft:\"pageXOffset\",scrollTop:\"pageYOffset\"},(function(t,e){var n=\"pageYOffset\"===e;C.fn[t]=function(o){return H(this,(function(t,o,i){var s;if(m(t)?s=t:9===t.nodeType&&(s=t.defaultView),void 0===i)return s?s[e]:t[o];s?s.scrollTo(n?s.pageXOffset:i,n?i:s.pageYOffset):t[o]=i}),t,o,arguments.length)}})),C.each([\"top\",\"left\"],(function(t,e){C.cssHooks[e]=qt(p.pixelPosition,(function(t,n){if(n)return n=jt(t,e),$t.test(n)?C(t).position()[e]+\"px\":n}))})),C.each({Height:\"height\",Width:\"width\"},(function(t,e){C.each({padding:\"inner\"+t,content:e,\"\":\"outer\"+t},(function(n,o){C.fn[o]=function(i,s){var r=arguments.length&&(n||\"boolean\"!=typeof i),a=n||(!0===i||!0===s?\"margin\":\"border\");return H(this,(function(e,n,i){var s;return m(e)?0===o.indexOf(\"outer\")?e[\"inner\"+t]:e.document.documentElement[\"client\"+t]:9===e.nodeType?(s=e.documentElement,Math.max(e.body[\"scroll\"+t],s[\"scroll\"+t],e.body[\"offset\"+t],s[\"offset\"+t],s[\"client\"+t])):void 0===i?C.css(e,n,a):C.style(e,n,i,a)}),e,r?i:void 0,r)}}))})),C.each([\"ajaxStart\",\"ajaxStop\",\"ajaxComplete\",\"ajaxError\",\"ajaxSuccess\",\"ajaxSend\"],(function(t,e){C.fn[e]=function(t){return this.on(e,t)}})),C.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,o){return this.on(e,t,n,o)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,\"**\"):this.off(e,t||\"**\",n)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),C.each(\"blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu\".split(\" \"),(function(t,e){C.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}));var Xe=/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g;C.proxy=function(t,e){var n,o,s;if(\"string\"==typeof e&&(n=t[e],e=t,t=n),f(t))return o=i.call(arguments,2),(s=function(){return t.apply(e||this,o.concat(i.call(arguments)))}).guid=t.guid=t.guid||C.guid++,s},C.holdReady=function(t){t?C.readyWait++:C.ready(!0)},C.isArray=Array.isArray,C.parseJSON=JSON.parse,C.nodeName=W,C.isFunction=f,C.isWindow=m,C.camelCase=G,C.type=v,C.now=Date.now,C.isNumeric=function(t){var e=C.type(t);return(\"number\"===e||\"string\"===e)&&!isNaN(t-parseFloat(t))},C.trim=function(t){return null==t?\"\":(t+\"\").replace(Xe,\"\")};var Ye=t.jQuery,Je=t.$;return C.noConflict=function(e){return t.$===C&&(t.$=Je),e&&t.jQuery===C&&(t.jQuery=Ye),C},void 0===e&&(t.jQuery=t.$=C),C}))}));let at;window.$=rt,window.addEventListener(\"beforeunload\",(()=>(st.dispose(),at&&at(),\"Are you sure you want to leave? changes will be lost\")));const lt={init:(t,e)=>{if(it.initialized)return void it.init(t,t.agm.instance.windowId,st,e);st.subscribeForWorkspaceEvents();const n=it.init(t,t.agm.instance.windowId,st,e);return at=n.cleanUp,st.init(t,t.agm.instance.windowId).then((()=>{U.config.emptyFrame||it.workspacesEventEmitter.raiseFrameEvent({action:\"opened\",payload:{frameSummary:{id:t.agm.instance.windowId}}})})).catch(console.warn),it},getFrameId:()=>it.frameId,notifyMoveAreaChanged:()=>{},getComponentBounds:()=>it.getComponentBounds(),registerPopup:t=>\"\",removePopup:t=>{},removePopupById:t=>{},unmount:()=>{it.unmount()},subscribeForWindowFocused:t=>it.subscribeForWindowClicked(t),notifyWorkspacePopupChanged:t=>{},requestFocus:()=>{}};export default lt;\n//# sourceMappingURL=export.js.map\n","import workspacesManager from \"@glue42/workspaces-ui-core\";\r\nimport { Bounds, WorkspacesManager } from \"./types/internal\";\r\n\r\ndeclare const window: Window & { workspacesManager: WorkspacesManager };\r\n\r\nclass WorkspacesManagerDecorator {\r\n    public init(glue: any, componentFactory: any) {\r\n        if (window.workspacesManager) {\r\n            window.workspacesManager.init(componentFactory);\r\n        } else {\r\n            workspacesManager.init(glue, componentFactory);\r\n        }\r\n    }\r\n\r\n    public getFrameId() {\r\n        return (window.workspacesManager || workspacesManager).getFrameId();\r\n    }\r\n\r\n    public notifyMoveAreaChanged() {\r\n        (window.workspacesManager || workspacesManager).notifyMoveAreaChanged();\r\n    }\r\n\r\n    public notifyWorkspacePopupChanged(element: HTMLElement): string {\r\n        return (window.workspacesManager || workspacesManager).notifyWorkspacePopupChanged(element);\r\n    }\r\n\r\n    public getComponentBounds(): Bounds {\r\n        return (window.workspacesManager || workspacesManager).getComponentBounds();\r\n    }\r\n\r\n    public registerPopup(element: HTMLElement): string {\r\n        return (window.workspacesManager || workspacesManager).registerPopup(element);\r\n    }\r\n\r\n    public removePopup(element: HTMLElement): void {\r\n        return (window.workspacesManager || workspacesManager).removePopup(element);\r\n    }\r\n\r\n    public removePopupById(elementId: string): void {\r\n        return (window.workspacesManager || workspacesManager).removePopupById(elementId);\r\n    }\r\n\r\n    public subscribeForWindowFocused(cb: () => any): () => void {\r\n        return (window.workspacesManager || workspacesManager).subscribeForWindowFocused(cb);\r\n    }\r\n\r\n    public unmount(): void {\r\n        return (window.workspacesManager || workspacesManager).unmount();\r\n    }\r\n\r\n    public requestFocus(): void {\r\n        return (window.workspacesManager || workspacesManager).requestFocus();\r\n    }\r\n}\r\n\r\nexport default new WorkspacesManagerDecorator();","import React, { useEffect, useLayoutEffect, forwardRef, useState, useRef, useImperativeHandle } from 'react';\nimport ReactDOM from 'react-dom';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar useOnEscape = function useOnEscape(handler, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  useEffect(function () {\n    if (!active) return;\n\n    var listener = function listener(event) {\n      // check if key is an Escape\n      if (event.key === 'Escape') handler();\n    };\n\n    document.addEventListener('keyup', listener);\n    return function () {\n      if (!active) return;\n      document.removeEventListener('keyup', listener);\n    };\n  }, [handler, active]);\n};\nvar useRepositionOnResize = function useRepositionOnResize(handler, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  useEffect(function () {\n    if (!active) return;\n\n    var listener = function listener() {\n      handler();\n    };\n\n    window.addEventListener('resize', listener);\n    return function () {\n      if (!active) return;\n      window.removeEventListener('resize', listener);\n    };\n  }, [handler, active]);\n};\nvar useOnClickOutside = function useOnClickOutside(ref, handler, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  useEffect(function () {\n    if (!active) return;\n\n    var listener = function listener(event) {\n      // Do nothing if clicking ref's element or descendent elements\n      var refs = Array.isArray(ref) ? ref : [ref];\n      var contains = false;\n      refs.forEach(function (r) {\n        if (!r.current || r.current.contains(event.target)) {\n          contains = true;\n          return;\n        }\n      });\n      event.stopPropagation();\n      if (!contains) handler();\n    };\n\n    document.addEventListener('mousedown', listener);\n    document.addEventListener('touchstart', listener);\n    return function () {\n      if (!active) return;\n      document.removeEventListener('mousedown', listener);\n      document.removeEventListener('touchstart', listener);\n    };\n  }, [ref, handler, active]);\n}; // Make sure that user is not able TAB out of the Modal content on Open\n\nvar useTabbing = function useTabbing(contentRef, active) {\n  if (active === void 0) {\n    active = true;\n  }\n\n  useEffect(function () {\n    if (!active) return;\n\n    var listener = function listener(event) {\n      // check if key is an Tab\n      if (event.keyCode === 9) {\n        var _contentRef$current;\n\n        var els = contentRef === null || contentRef === void 0 ? void 0 : (_contentRef$current = contentRef.current) === null || _contentRef$current === void 0 ? void 0 : _contentRef$current.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex=\"0\"]');\n        var focusableEls = Array.prototype.slice.call(els);\n\n        if (focusableEls.length === 1) {\n          event.preventDefault();\n          return;\n        }\n\n        var firstFocusableEl = focusableEls[0];\n        var lastFocusableEl = focusableEls[focusableEls.length - 1];\n\n        if (event.shiftKey && document.activeElement === firstFocusableEl) {\n          event.preventDefault();\n          lastFocusableEl.focus();\n        } else if (document.activeElement === lastFocusableEl) {\n          event.preventDefault();\n          firstFocusableEl.focus();\n        }\n      }\n    };\n\n    document.addEventListener('keydown', listener);\n    return function () {\n      if (!active) return;\n      document.removeEventListener('keydown', listener);\n    };\n  }, [contentRef, active]);\n};\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;\n\nvar Style = {\n  popupContent: {\n    tooltip: {\n      position: 'absolute',\n      zIndex: 999\n    },\n    modal: {\n      position: 'relative',\n      margin: 'auto'\n    }\n  },\n  popupArrow: {\n    height: '8px',\n    width: '16px',\n    position: 'absolute',\n    background: 'transparent',\n    color: '#FFF',\n    zIndex: -1\n  },\n  overlay: {\n    tooltip: {\n      position: 'fixed',\n      top: '0',\n      bottom: '0',\n      left: '0',\n      right: '0',\n      zIndex: 999\n    },\n    modal: {\n      position: 'fixed',\n      top: '0',\n      bottom: '0',\n      left: '0',\n      right: '0',\n      display: 'flex',\n      zIndex: 999\n    }\n  }\n};\n\nvar POSITION_TYPES = ['top left', 'top center', 'top right', 'right top', 'right center', 'right bottom', 'bottom left', 'bottom center', 'bottom right', 'left top', 'left center', 'left bottom'];\n\nvar getCoordinatesForPosition = function getCoordinatesForPosition(triggerBounding, ContentBounding, position, //PopupPosition | PopupPosition[],\narrow, _ref) {\n  var offsetX = _ref.offsetX,\n      offsetY = _ref.offsetY;\n  var margin = arrow ? 8 : 0;\n  var args = position.split(' '); // the step N 1 : center the popup content => ok\n\n  var CenterTop = triggerBounding.top + triggerBounding.height / 2;\n  var CenterLeft = triggerBounding.left + triggerBounding.width / 2;\n  var height = ContentBounding.height,\n      width = ContentBounding.width;\n  var top = CenterTop - height / 2;\n  var left = CenterLeft - width / 2;\n  var transform = '';\n  var arrowTop = '0%';\n  var arrowLeft = '0%'; // the  step N 2 : => ok\n\n  switch (args[0]) {\n    case 'top':\n      top -= height / 2 + triggerBounding.height / 2 + margin;\n      transform = \"rotate(180deg)  translateX(50%)\";\n      arrowTop = '100%';\n      arrowLeft = '50%';\n      break;\n\n    case 'bottom':\n      top += height / 2 + triggerBounding.height / 2 + margin;\n      transform = \"rotate(0deg) translateY(-100%) translateX(-50%)\";\n      arrowLeft = '50%';\n      break;\n\n    case 'left':\n      left -= width / 2 + triggerBounding.width / 2 + margin;\n      transform = \" rotate(90deg)  translateY(50%) translateX(-25%)\";\n      arrowLeft = '100%';\n      arrowTop = '50%';\n      break;\n\n    case 'right':\n      left += width / 2 + triggerBounding.width / 2 + margin;\n      transform = \"rotate(-90deg)  translateY(-150%) translateX(25%)\";\n      arrowTop = '50%';\n      break;\n  }\n\n  switch (args[1]) {\n    case 'top':\n      top = triggerBounding.top;\n      arrowTop = triggerBounding.height / 2 + \"px\";\n      break;\n\n    case 'bottom':\n      top = triggerBounding.top - height + triggerBounding.height;\n      arrowTop = height - triggerBounding.height / 2 + \"px\";\n      break;\n\n    case 'left':\n      left = triggerBounding.left;\n      arrowLeft = triggerBounding.width / 2 + \"px\";\n      break;\n\n    case 'right':\n      left = triggerBounding.left - width + triggerBounding.width;\n      arrowLeft = width - triggerBounding.width / 2 + \"px\";\n      break;\n  }\n\n  top = args[0] === 'top' ? top - offsetY : top + offsetY;\n  left = args[0] === 'left' ? left - offsetX : left + offsetX;\n  return {\n    top: top,\n    left: left,\n    transform: transform,\n    arrowLeft: arrowLeft,\n    arrowTop: arrowTop\n  };\n};\n\nvar getTooltipBoundary = function getTooltipBoundary(keepTooltipInside) {\n  // add viewport\n  var boundingBox = {\n    top: 0,\n    left: 0,\n\n    /* eslint-disable-next-line no-undef */\n    width: window.innerWidth,\n\n    /* eslint-disable-next-line no-undef */\n    height: window.innerHeight\n  };\n\n  if (typeof keepTooltipInside === 'string') {\n    /* eslint-disable-next-line no-undef */\n    var selector = document.querySelector(keepTooltipInside);\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (selector === null) throw new Error(keepTooltipInside + \" selector does not exist : keepTooltipInside must be a valid html selector 'class' or 'Id'  or a boolean value\");\n    }\n\n    if (selector !== null) boundingBox = selector.getBoundingClientRect();\n  }\n\n  return boundingBox;\n};\n\nvar calculatePosition = function calculatePosition(triggerBounding, ContentBounding, position, arrow, _ref2, keepTooltipInside) {\n  var offsetX = _ref2.offsetX,\n      offsetY = _ref2.offsetY;\n  var bestCoords = {\n    arrowLeft: '0%',\n    arrowTop: '0%',\n    left: 0,\n    top: 0,\n    transform: 'rotate(135deg)'\n  };\n  var i = 0;\n  var wrapperBox = getTooltipBoundary(keepTooltipInside);\n  var positions = Array.isArray(position) ? position : [position]; // keepTooltipInside would be activated if the  keepTooltipInside exist or the position is Array\n\n  if (keepTooltipInside || Array.isArray(position)) positions = [].concat(positions, POSITION_TYPES); // add viewPort for WarpperBox\n  // wrapperBox.top = wrapperBox.top + window.scrollY;\n  // wrapperBox.left = wrapperBox.left + window.scrollX;\n\n  while (i < positions.length) {\n    bestCoords = getCoordinatesForPosition(triggerBounding, ContentBounding, positions[i], arrow, {\n      offsetX: offsetX,\n      offsetY: offsetY\n    });\n    var contentBox = {\n      top: bestCoords.top,\n      left: bestCoords.left,\n      width: ContentBounding.width,\n      height: ContentBounding.height\n    };\n\n    if (contentBox.top <= wrapperBox.top || contentBox.left <= wrapperBox.left || contentBox.top + contentBox.height >= wrapperBox.top + wrapperBox.height || contentBox.left + contentBox.width >= wrapperBox.left + wrapperBox.width) {\n      i++;\n    } else {\n      break;\n    }\n  }\n\n  return bestCoords;\n};\n\nvar popupIdCounter = 0;\n\nvar getRootPopup = function getRootPopup() {\n  var PopupRoot = document.getElementById('popup-root');\n\n  if (PopupRoot === null) {\n    PopupRoot = document.createElement('div');\n    PopupRoot.setAttribute('id', 'popup-root');\n    document.body.appendChild(PopupRoot);\n  }\n\n  return PopupRoot;\n};\n\nvar Popup = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var _ref$trigger = _ref.trigger,\n      trigger = _ref$trigger === void 0 ? null : _ref$trigger,\n      _ref$onOpen = _ref.onOpen,\n      onOpen = _ref$onOpen === void 0 ? function () {} : _ref$onOpen,\n      _ref$onClose = _ref.onClose,\n      onClose = _ref$onClose === void 0 ? function () {} : _ref$onClose,\n      _ref$defaultOpen = _ref.defaultOpen,\n      defaultOpen = _ref$defaultOpen === void 0 ? false : _ref$defaultOpen,\n      _ref$open = _ref.open,\n      open = _ref$open === void 0 ? undefined : _ref$open,\n      _ref$disabled = _ref.disabled,\n      disabled = _ref$disabled === void 0 ? false : _ref$disabled,\n      _ref$nested = _ref.nested,\n      nested = _ref$nested === void 0 ? false : _ref$nested,\n      _ref$closeOnDocumentC = _ref.closeOnDocumentClick,\n      closeOnDocumentClick = _ref$closeOnDocumentC === void 0 ? true : _ref$closeOnDocumentC,\n      _ref$repositionOnResi = _ref.repositionOnResize,\n      repositionOnResize = _ref$repositionOnResi === void 0 ? true : _ref$repositionOnResi,\n      _ref$closeOnEscape = _ref.closeOnEscape,\n      closeOnEscape = _ref$closeOnEscape === void 0 ? true : _ref$closeOnEscape,\n      _ref$on = _ref.on,\n      on = _ref$on === void 0 ? ['click'] : _ref$on,\n      _ref$contentStyle = _ref.contentStyle,\n      contentStyle = _ref$contentStyle === void 0 ? {} : _ref$contentStyle,\n      _ref$arrowStyle = _ref.arrowStyle,\n      arrowStyle = _ref$arrowStyle === void 0 ? {} : _ref$arrowStyle,\n      _ref$overlayStyle = _ref.overlayStyle,\n      overlayStyle = _ref$overlayStyle === void 0 ? {} : _ref$overlayStyle,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? '' : _ref$className,\n      _ref$position = _ref.position,\n      position = _ref$position === void 0 ? 'bottom center' : _ref$position,\n      _ref$modal = _ref.modal,\n      modal = _ref$modal === void 0 ? false : _ref$modal,\n      _ref$lockScroll = _ref.lockScroll,\n      lockScroll = _ref$lockScroll === void 0 ? false : _ref$lockScroll,\n      _ref$arrow = _ref.arrow,\n      arrow = _ref$arrow === void 0 ? true : _ref$arrow,\n      _ref$offsetX = _ref.offsetX,\n      offsetX = _ref$offsetX === void 0 ? 0 : _ref$offsetX,\n      _ref$offsetY = _ref.offsetY,\n      offsetY = _ref$offsetY === void 0 ? 0 : _ref$offsetY,\n      _ref$mouseEnterDelay = _ref.mouseEnterDelay,\n      mouseEnterDelay = _ref$mouseEnterDelay === void 0 ? 100 : _ref$mouseEnterDelay,\n      _ref$mouseLeaveDelay = _ref.mouseLeaveDelay,\n      mouseLeaveDelay = _ref$mouseLeaveDelay === void 0 ? 100 : _ref$mouseLeaveDelay,\n      _ref$keepTooltipInsid = _ref.keepTooltipInside,\n      keepTooltipInside = _ref$keepTooltipInsid === void 0 ? false : _ref$keepTooltipInsid,\n      children = _ref.children;\n\n  var _useState = useState(open || defaultOpen),\n      isOpen = _useState[0],\n      setIsOpen = _useState[1];\n\n  var triggerRef = useRef(null);\n  var contentRef = useRef(null);\n  var arrowRef = useRef(null);\n  var focusedElBeforeOpen = useRef(null);\n  var popupId = useRef(\"popup-\" + ++popupIdCounter);\n  var isModal = modal ? true : !trigger;\n  var timeOut = useRef(0);\n  useIsomorphicLayoutEffect(function () {\n    if (isOpen) {\n      focusedElBeforeOpen.current = document.activeElement;\n      setPosition();\n      focusContentOnOpen(); // for accessibility\n\n      lockScrolll();\n    } else {\n      resetScroll();\n    }\n\n    return function () {\n      clearTimeout(timeOut.current);\n    };\n  }, [isOpen]); // for uncontrolled popup we need to sync isOpen with open prop\n\n  useEffect(function () {\n    if (typeof open === 'boolean') {\n      if (open) openPopup();else closePopup();\n    }\n  }, [open, disabled]);\n\n  var openPopup = function openPopup() {\n    if (isOpen || disabled) return;\n    setIsOpen(true);\n    setTimeout(onOpen, 0);\n  };\n\n  var closePopup = function closePopup() {\n    if (!isOpen || disabled) return;\n    setIsOpen(false);\n    if (isModal) focusedElBeforeOpen.current.focus();\n    setTimeout(onClose, 0);\n  };\n\n  var togglePopup = function togglePopup(event) {\n    event === null || event === void 0 ? void 0 : event.stopPropagation();\n    if (!isOpen) openPopup();else closePopup();\n  };\n\n  var onMouseEnter = function onMouseEnter() {\n    clearTimeout(timeOut.current);\n    timeOut.current = setTimeout(openPopup, mouseEnterDelay);\n  };\n\n  var onContextMenu = function onContextMenu(event) {\n    event === null || event === void 0 ? void 0 : event.preventDefault();\n    togglePopup();\n  };\n\n  var onMouseLeave = function onMouseLeave() {\n    clearTimeout(timeOut.current);\n    timeOut.current = setTimeout(closePopup, mouseLeaveDelay);\n  };\n\n  var lockScrolll = function lockScrolll() {\n    if (isModal && lockScroll) document.getElementsByTagName('body')[0].style.overflow = 'hidden'; // migrate to document.body\n  };\n\n  var resetScroll = function resetScroll() {\n    if (isModal && lockScroll) document.getElementsByTagName('body')[0].style.overflow = 'auto';\n  };\n\n  var focusContentOnOpen = function focusContentOnOpen() {\n    var _contentRef$current;\n\n    var focusableEls = contentRef === null || contentRef === void 0 ? void 0 : (_contentRef$current = contentRef.current) === null || _contentRef$current === void 0 ? void 0 : _contentRef$current.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex=\"0\"]');\n    var firstEl = Array.prototype.slice.call(focusableEls)[0];\n    firstEl === null || firstEl === void 0 ? void 0 : firstEl.focus();\n  };\n\n  useImperativeHandle(ref, function () {\n    return {\n      open: function open() {\n        openPopup();\n      },\n      close: function close() {\n        closePopup();\n      },\n      toggle: function toggle() {\n        togglePopup();\n      }\n    };\n  }); // set Position\n\n  var setPosition = function setPosition() {\n    if (isModal || !isOpen) return;\n    if (!(triggerRef === null || triggerRef === void 0 ? void 0 : triggerRef.current) || !(triggerRef === null || triggerRef === void 0 ? void 0 : triggerRef.current) || !(contentRef === null || contentRef === void 0 ? void 0 : contentRef.current)) return; /// show error as one of ref is undefined\n\n    var trigger = triggerRef.current.getBoundingClientRect();\n    var content = contentRef.current.getBoundingClientRect();\n    var cords = calculatePosition(trigger, content, position, arrow, {\n      offsetX: offsetX,\n      offsetY: offsetY\n    }, keepTooltipInside);\n    contentRef.current.style.top = cords.top + window.scrollY + \"px\";\n    contentRef.current.style.left = cords.left + window.scrollX + \"px\";\n\n    if (arrow && !!arrowRef.current) {\n      var _arrowStyle$top, _arrowStyle$left;\n\n      arrowRef.current.style.transform = cords.transform;\n      arrowRef.current.style.setProperty('-ms-transform', cords.transform);\n      arrowRef.current.style.setProperty('-webkit-transform', cords.transform);\n      arrowRef.current.style.top = ((_arrowStyle$top = arrowStyle.top) === null || _arrowStyle$top === void 0 ? void 0 : _arrowStyle$top.toString()) || cords.arrowTop;\n      arrowRef.current.style.left = ((_arrowStyle$left = arrowStyle.left) === null || _arrowStyle$left === void 0 ? void 0 : _arrowStyle$left.toString()) || cords.arrowLeft;\n    }\n  }; // hooks\n\n\n  useOnEscape(closePopup, closeOnEscape); // can be optimized if we disabled for hover\n\n  useTabbing(contentRef, isOpen && isModal);\n  useRepositionOnResize(setPosition, repositionOnResize);\n  useOnClickOutside(!!trigger ? [contentRef, triggerRef] : [contentRef], closePopup, closeOnDocumentClick && !nested); // we need to add a ne\n  // render the trigger element and add events\n\n  var renderTrigger = function renderTrigger() {\n    var triggerProps = {\n      key: 'T',\n      ref: triggerRef,\n      'aria-describedby': popupId.current\n    };\n    var onAsArray = Array.isArray(on) ? on : [on];\n\n    for (var i = 0, len = onAsArray.length; i < len; i++) {\n      switch (onAsArray[i]) {\n        case 'click':\n          triggerProps.onClick = togglePopup;\n          break;\n\n        case 'right-click':\n          triggerProps.onContextMenu = onContextMenu;\n          break;\n\n        case 'hover':\n          triggerProps.onMouseEnter = onMouseEnter;\n          triggerProps.onMouseLeave = onMouseLeave;\n          break;\n\n        case 'focus':\n          triggerProps.onFocus = onMouseEnter;\n          triggerProps.onBlur = onMouseLeave;\n          break;\n      }\n    }\n\n    if (typeof trigger === 'function') {\n      var comp = trigger(isOpen);\n      return !!trigger && React.cloneElement(comp, triggerProps);\n    }\n\n    return !!trigger && React.cloneElement(trigger, triggerProps);\n  };\n\n  var addWarperAction = function addWarperAction() {\n    var popupContentStyle = isModal ? Style.popupContent.modal : Style.popupContent.tooltip;\n    var childrenElementProps = {\n      className: \"popup-content \" + (className !== '' ? className.split(' ').map(function (c) {\n        return c + \"-content\";\n      }).join(' ') : ''),\n      style: _extends({}, popupContentStyle, contentStyle, {\n        pointerEvents: 'auto'\n      }),\n      ref: contentRef,\n      onClick: function onClick(e) {\n        e.stopPropagation();\n      }\n    };\n\n    if (!modal && on.indexOf('hover') >= 0) {\n      childrenElementProps.onMouseEnter = onMouseEnter;\n      childrenElementProps.onMouseLeave = onMouseLeave;\n    }\n\n    return childrenElementProps;\n  };\n\n  var renderContent = function renderContent() {\n    return React.createElement(\"div\", Object.assign({}, addWarperAction(), {\n      key: \"C\",\n      role: isModal ? 'dialog' : 'tooltip',\n      id: popupId.current\n    }), arrow && !isModal && React.createElement(\"div\", {\n      ref: arrowRef,\n      style: Style.popupArrow\n    }, React.createElement(\"svg\", {\n      \"data-testid\": \"arrow\",\n      className: \"popup-arrow \" + (className !== '' ? className.split(' ').map(function (c) {\n        return c + \"-arrow\";\n      }).join(' ') : ''),\n      viewBox: \"0 0 32 16\",\n      style: _extends({\n        position: 'absolute'\n      }, arrowStyle)\n    }, React.createElement(\"path\", {\n      d: \"M16 0l16 16H0z\",\n      fill: \"currentcolor\"\n    }))), children && typeof children === 'function' ? children(closePopup, isOpen) : children);\n  };\n\n  var overlay = !(on.indexOf('hover') >= 0);\n  var ovStyle = isModal ? Style.overlay.modal : Style.overlay.tooltip;\n  var content = [overlay && React.createElement(\"div\", {\n    key: \"O\",\n    \"data-testid\": \"overlay\",\n    \"data-popup\": isModal ? 'modal' : 'tooltip',\n    className: \"popup-overlay \" + (className !== '' ? className.split(' ').map(function (c) {\n      return c + \"-overlay\";\n    }).join(' ') : ''),\n    style: _extends({}, ovStyle, overlayStyle, {\n      pointerEvents: closeOnDocumentClick && nested || isModal ? 'auto' : 'none'\n    }),\n    onClick: closeOnDocumentClick && nested ? closePopup : undefined,\n    tabIndex: -1\n  }, isModal && renderContent()), !isModal && renderContent()];\n  return React.createElement(React.Fragment, null, renderTrigger(), isOpen && ReactDOM.createPortal(content, getRootPopup()));\n});\n\nexport default Popup;\nexport { Popup };\n//# sourceMappingURL=reactjs-popup.esm.js.map\n","import React, { useEffect, useState } from \"react\";\r\nimport { WorkspacePopupProps } from \"./types/internal\";\r\nimport Popup from \"reactjs-popup\";\r\nimport WorkspacePopupContent from \"./WorkspaceContentPopup\";\r\nimport { PopupActions } from \"reactjs-popup/dist/types\";\r\n\r\nconst WorkspacePopup: React.FC<WorkspacePopupProps> = ({ children, innerContentStyle, popupRef, ...props }) => {\r\n    const ref = popupRef || React.createRef<PopupActions>();\r\n    const [shouldClose, setShouldClose] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (!shouldClose) {\r\n            return;\r\n        }\r\n\r\n        ref.current?.close();\r\n        setShouldClose(false);\r\n    }, [shouldClose]);\r\n\r\n    return (\r\n        <Popup ref={ref} {...props}>\r\n            <WorkspacePopupContent innerContentStyle={innerContentStyle} close={() => setShouldClose(true)} children={children} />\r\n        </Popup>\r\n    )\r\n}\r\n\r\nexport default WorkspacePopup;","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { PortalProps } from \"./types/internal\";\r\n\r\nclass Portal extends React.Component<PortalProps> {\r\n    render() {\r\n        return ReactDOM.createPortal(this.props.children, this.props.domNode);\r\n    }\r\n}\r\n\r\nexport default Portal;","import React from \"react\";\r\nimport { WorkspacesWrapperProps } from \"./types/internal\";\r\nimport withGlueInstance from \"./withGlueInstance\";\r\nimport workspacesManager from \"./workspacesManager\";\r\n\r\nconst templateId = \"workspaces-react-wrapper-template\";\r\nconst workspacesInnerContainerId = \"outter-layout-container\";\r\n\r\nclass WorkspacesWrapper extends React.Component<WorkspacesWrapperProps> {\r\n    containerRef: HTMLElement | null;\r\n\r\n    componentDidMount() {\r\n        let placeholder = document.getElementById(templateId) as HTMLTemplateElement;\r\n        if (!placeholder) {\r\n            const template = document.createElement(\"template\");\r\n            template.id = templateId;\r\n            const glContainer = document.createElement(\"div\");\r\n\r\n            glContainer.id = workspacesInnerContainerId;\r\n            glContainer.style.overflow = \"hidden\";\r\n            glContainer.style.width = \"100%\";\r\n            glContainer.style.height = \"100%\";\r\n            template.content.appendChild(glContainer);\r\n            document.body.appendChild(template);\r\n            placeholder = template;\r\n        }\r\n        if (!this.containerRef) {\r\n            return;\r\n        }\r\n        this.containerRef.appendChild(placeholder.content);\r\n\r\n        const componentFactory = {\r\n            createLogo: this.props.onCreateLogoRequested,\r\n            createAddWorkspace: this.props.onCreateAddWorkspaceRequested,\r\n            createSystemButtons: this.props.onCreateSystemButtonsRequested,\r\n            createWorkspaceContents: this.props.onCreateWorkspaceContentsRequested,\r\n            createSaveWorkspacePopup: this.props.onCreateSaveWorkspacePopupRequested,\r\n            createAddApplicationPopup: this.props.onCreateAddApplicationPopupRequested,\r\n            createAddWorkspacePopup: this.props.onCreateAddWorkspacePopupRequested,\r\n            hideSystemPopups: this.props.onHideSystemPopupsRequested,\r\n            externalPopupApplications: this.props.externalPopupApplications\r\n        };\r\n        workspacesManager.init(this.props.glue, componentFactory);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        let placeholder = document.getElementById(templateId) as HTMLTemplateElement;\r\n\r\n        if (!this.containerRef) {\r\n            return;\r\n        }\r\n\r\n        placeholder?.content.appendChild(this.containerRef.children[0]);\r\n\r\n        workspacesManager.unmount();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div ref={(r) => this.containerRef = r} style={{ overflow: \"hidden\", width: \"100%\", height: \"100%\" }}>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withGlueInstance(WorkspacesWrapper);","import React from \"react\";\r\nimport AddApplicationPopup from \"./defaultComponents/popups/addApplication/AddApplicationPopup\";\r\nimport AddWorkspacePopup from \"./defaultComponents/popups/addWorkspace/AddWorkspacePopup\";\r\nimport SaveWorkspacePopup from \"./defaultComponents/popups/saveWorkspace/SaveWorkspacePopup\";\r\nimport Portal from \"./Portal\";\r\nimport { AddApplicationPopupProps, CreateElementRequestOptions, ElementCreationWrapperState, AddWorkspacePopupProps, SaveWorkspacePopupProps, WorkspacesProps, CreateWorkspaceContentsRequestOptions } from \"./types/internal\";\r\nimport WorkspacesWrapper from \"./WorkspacesWrapper\";\r\n\r\nclass WorkspacesElementCreationWrapper extends React.Component<WorkspacesProps, ElementCreationWrapperState> {\r\n    constructor(props: WorkspacesProps) {\r\n        super(props);\r\n        this.state = {\r\n            logo: undefined,\r\n            addWorkspace: undefined,\r\n            systemButtons: undefined,\r\n            workspaceContents: [],\r\n            saveWorkspacePopup: undefined,\r\n            addApplicationPopup: undefined,\r\n            addWorkspacePopup: undefined\r\n        }\r\n    }\r\n\r\n    onCreateLogoRequested = (options: CreateElementRequestOptions) => {\r\n        if (options === this.state.logo) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                logo: options\r\n            }\r\n        });\r\n    }\r\n\r\n    onCreateAddWorkspaceRequested = (options: CreateElementRequestOptions) => {\r\n        if (options === this.state.addWorkspace) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                addWorkspace: options\r\n            }\r\n        });\r\n    }\r\n\r\n    onCreateSystemButtonsRequested = (options: CreateElementRequestOptions) => {\r\n        if (options === this.state.systemButtons) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                systemButtons: options\r\n            }\r\n        });\r\n    }\r\n\r\n    onCreateWorkspaceContentsRequested = (options: CreateWorkspaceContentsRequestOptions) => {\r\n        if (this.state.workspaceContents.some(wc => wc.domNode === options.domNode)) {\r\n            return;\r\n        }\r\n\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                workspaceContents: [\r\n                    ...s.workspaceContents,\r\n                    options\r\n                ]\r\n            }\r\n        });\r\n    }\r\n\r\n    onCreateSaveWorkspaceRequested = (options: CreateElementRequestOptions & SaveWorkspacePopupProps) => {\r\n        if (options === this.state.saveWorkspacePopup) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                saveWorkspacePopup: options\r\n            }\r\n        }, options.callback);\r\n    }\r\n\r\n    onCreateAddApplicationRequested = (options: CreateElementRequestOptions & AddApplicationPopupProps) => {\r\n        if (options === this.state.addApplicationPopup) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                addApplicationPopup: options\r\n            }\r\n        }, options.callback);\r\n    }\r\n\r\n    onCreateAddWorkspacePopupRequested = (options: CreateElementRequestOptions & AddWorkspacePopupProps) => {\r\n        if (options === this.state.addWorkspacePopup) {\r\n            return;\r\n        }\r\n        this.setState(s => {\r\n            return {\r\n                ...s,\r\n                addWorkspacePopup: options\r\n            }\r\n        }, options.callback);\r\n    }\r\n\r\n    onHideSystemPopups = (cb: () => void) => {\r\n        this.setState((s) => ({\r\n            ...s,\r\n            addApplicationPopup: undefined,\r\n            saveWorkspacePopup: undefined,\r\n            addWorkspacePopup: undefined\r\n        }), cb);\r\n    }\r\n\r\n    renderLogoComponent = () => {\r\n        const LogoCustomElement = this.props.components?.header?.LogoComponent;\r\n        if (!LogoCustomElement || (!this.state.logo || !this.state.logo.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, callback, ...options } = this.state.logo;\r\n        return <Portal domNode={domNode}><LogoCustomElement {...options} /></Portal>\r\n    }\r\n\r\n    renderAddWorkspaceComponent = () => {\r\n        const AddWorkspaceCustomComponent = this.props.components?.header?.AddWorkspaceComponent;\r\n\r\n        if (!AddWorkspaceCustomComponent || (!this.state.addWorkspace || !this.state.addWorkspace.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, callback, ...options } = this.state.addWorkspace;\r\n        return <Portal domNode={domNode}><AddWorkspaceCustomComponent {...options} /></Portal>\r\n    }\r\n\r\n    renderSystemButtonsComponent = () => {\r\n        const SystemButtonsCustomComponent = this.props.components?.header?.SystemButtonsComponent;\r\n        if (!SystemButtonsCustomComponent || (!this.state.systemButtons || !this.state.systemButtons.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, callback, ...options } = this.state.systemButtons;\r\n\r\n        return <Portal domNode={domNode}><SystemButtonsCustomComponent {...options} /></Portal>\r\n    }\r\n\r\n    renderWorskpaceContents = () => {\r\n        const WorkspaceContentsComponent = this.props.components?.WorkspaceContents;\r\n\r\n        return this.state.workspaceContents.map((wc) => {\r\n            if (!WorkspaceContentsComponent || !wc.domNode) {\r\n                return;\r\n            }\r\n\r\n            const { domNode, callback, ...options } = wc;\r\n            return <Portal key={options.workspaceId} domNode={domNode}><WorkspaceContentsComponent {...options} /></Portal>\r\n        });\r\n    }\r\n\r\n    renderSaveWorkspacePopupComponent = () => {\r\n        const SaveWorkspaceCustomComponent = this.props.components?.popups?.SaveWorkspaceComponent || SaveWorkspacePopup;\r\n        if (!SaveWorkspaceCustomComponent || (!this.state.saveWorkspacePopup || !this.state.saveWorkspacePopup.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, ...options } = this.state.saveWorkspacePopup;\r\n\r\n        return <Portal domNode={domNode}><SaveWorkspaceCustomComponent glue={this.props.glue} {...options} /></Portal>\r\n    }\r\n\r\n    renderAddApplicationPopupComponent = () => {\r\n        const AddApplicationCustomComponent = this.props.components?.popups?.AddApplicationComponent || AddApplicationPopup;\r\n        if (!AddApplicationCustomComponent || (!this.state.addApplicationPopup || !this.state.addApplicationPopup.domNode)) {\r\n            return;\r\n        }\r\n\r\n        const { domNode, ...options } = this.state.addApplicationPopup;\r\n\r\n        return <Portal domNode={domNode}><AddApplicationCustomComponent glue={this.props.glue} {...options} /></Portal>\r\n    }\r\n\r\n    renderAddWorkspacePopupComponent = () => {\r\n        const AddWorkspaceCustomComponent = this.props.components?.popups?.AddWorkspaceComponent || AddWorkspacePopup;\r\n        if (!AddWorkspaceCustomComponent || (!this.state.addWorkspacePopup || !this.state.addWorkspacePopup.domNode)) {\r\n            return;\r\n        }\r\n        const { domNode, callback, ...options } = this.state.addWorkspacePopup;\r\n\r\n        return <Portal domNode={domNode}><AddWorkspaceCustomComponent glue={this.props.glue} {...options} /></Portal>\r\n    }\r\n\r\n    render() {\r\n        const { components, glue, ...additionalProperties } = this.props;\r\n        const addApplicationComponent = components?.popups?.AddApplicationComponent || AddApplicationPopup;\r\n        const saveWorkspaceComponent = components?.popups?.SaveWorkspaceComponent || SaveWorkspacePopup;\r\n        const addWorkspaceComponent = components?.popups?.AddWorkspaceComponent || AddWorkspacePopup;\r\n\r\n        const onCreateAddApplicationRequested = addApplicationComponent && typeof addApplicationComponent !== \"string\" ?\r\n            this.onCreateAddApplicationRequested : undefined;\r\n\r\n        const onCreateAddWorkspacePopupRequested = addWorkspaceComponent && typeof addWorkspaceComponent !== \"string\" ?\r\n            this.onCreateAddWorkspacePopupRequested : undefined;\r\n\r\n        const onCreateSaveWorkspaceRequested = saveWorkspaceComponent && typeof saveWorkspaceComponent !== \"string\" ?\r\n            this.onCreateSaveWorkspaceRequested : undefined;\r\n\r\n        const addApplication = typeof addApplicationComponent === \"string\" ? addApplicationComponent : undefined;\r\n        const saveWorkspace = typeof saveWorkspaceComponent === \"string\" ? saveWorkspaceComponent : undefined;\r\n        const addWorkspace = typeof addWorkspaceComponent === \"string\" ? addWorkspaceComponent : undefined;\r\n\r\n        const externalPopupApplications = {\r\n            addApplication,\r\n            saveWorkspace,\r\n            addWorkspace\r\n        }\r\n\r\n        return (\r\n            <div {...additionalProperties} style={{ overflow: \"hidden\", width: \"100%\", height: \"100%\" }}>\r\n                {this.renderLogoComponent()}\r\n                {this.renderAddWorkspaceComponent()}\r\n                {this.renderSystemButtonsComponent()}\r\n                {this.renderWorskpaceContents()}\r\n                {this.renderSaveWorkspacePopupComponent()}\r\n                {this.renderAddApplicationPopupComponent()}\r\n                {this.renderAddWorkspacePopupComponent()}\r\n                <WorkspacesWrapper\r\n                    onCreateSystemButtonsRequested={components?.header?.SystemButtonsComponent ? this.onCreateSystemButtonsRequested : undefined}\r\n                    onCreateAddWorkspaceRequested={components?.header?.AddWorkspaceComponent ? this.onCreateAddWorkspaceRequested : undefined}\r\n                    onCreateLogoRequested={components?.header?.LogoComponent ? this.onCreateLogoRequested : undefined}\r\n                    onCreateWorkspaceContentsRequested={components?.WorkspaceContents ? this.onCreateWorkspaceContentsRequested : undefined}\r\n                    onCreateSaveWorkspacePopupRequested={onCreateSaveWorkspaceRequested}\r\n                    onCreateAddApplicationPopupRequested={onCreateAddApplicationRequested}\r\n                    onCreateAddWorkspacePopupRequested={onCreateAddWorkspacePopupRequested}\r\n                    onHideSystemPopupsRequested={this.onHideSystemPopups}\r\n                    externalPopupApplications={externalPopupApplications}\r\n                    glue={glue}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default WorkspacesElementCreationWrapper;\r\n","import AddWorkspaceButton from './defaultComponents/AddWorkspaceButton';\r\nimport CloseFrameButton from './defaultComponents/CloseFrameButton';\r\nimport GlueLogo from './defaultComponents/GlueLogo';\r\nimport MaximizeFrameButton from './defaultComponents/MaximizeFrameButton';\r\nimport MinimizeFrameButton from './defaultComponents/MinimizeFrameButton';\r\nimport AddApplicationPopup from './defaultComponents/popups/addApplication/AddApplicationPopup';\r\nimport AddWorkspacePopup from './defaultComponents/popups/addWorkspace/AddWorkspacePopup';\r\nimport SaveWorkspacePopup from './defaultComponents/popups/saveWorkspace/SaveWorkspacePopup';\r\nimport WorkspaceContents from \"./defaultComponents/WorkspaceContents\";\r\nimport useWorkspacePopup from './useWorkspacePopup';\r\nimport useWorkspaceWindowClicked from './useWorkspaceWindowClicked';\r\n\r\nimport WorkspacePopup from './WorkspacePopup';\r\nimport {\r\n    Bounds,\r\n    WorkspacesManager,\r\n    WorkspacesProps,\r\n    AddWorkspaceButtonProps,\r\n    MaximizeFrameButtonProps,\r\n    MinimizeFrameButtonProps,\r\n    SaveWorkspacePopupComponentProps,\r\n    AddWorkspacePopupComponentProps,\r\n    AddApplicationPopupComponentProps,\r\n    AddWorkspacePopupProps,\r\n    SaveWorkspacePopupProps,\r\n    AddApplicationPopupProps,\r\n    WorkspaceContentsProps\r\n} from './types/internal';\r\nimport WorkspacesElementCreationWrapper from './WorkspacesElementCreationWrapper'\r\nimport workspacesManager from './workspacesManager';\r\n\r\nexport {\r\n    SaveWorkspacePopup,\r\n    AddWorkspacePopup,\r\n    AddApplicationPopup,\r\n    CloseFrameButton,\r\n    GlueLogo,\r\n    MaximizeFrameButton,\r\n    MinimizeFrameButton,\r\n    AddWorkspaceButton,\r\n    WorkspacePopup,\r\n    useWorkspacePopup,\r\n    useWorkspaceWindowClicked,\r\n    WorkspaceContents\r\n};\r\nexport const notifyMoveAreaChanged: () => void = () => workspacesManager?.notifyMoveAreaChanged();\r\nexport const getComponentBounds: () => Bounds = () => workspacesManager?.getComponentBounds();\r\nexport const getFrameId: () => string = () => workspacesManager?.getFrameId();\r\nexport const requestFocus: () => void = () => workspacesManager?.requestFocus();\r\n\r\nexport {\r\n    WorkspacesProps,\r\n    Bounds,\r\n    AddWorkspaceButtonProps,\r\n    MaximizeFrameButtonProps,\r\n    MinimizeFrameButtonProps,\r\n    SaveWorkspacePopupComponentProps,\r\n    AddWorkspacePopupComponentProps,\r\n    AddApplicationPopupComponentProps,\r\n    AddWorkspacePopupProps,\r\n    SaveWorkspacePopupProps,\r\n    AddApplicationPopupProps,\r\n    WorkspaceContentsProps\r\n};\r\nexport default WorkspacesElementCreationWrapper;","import { Glue42Web } from \"../../web\";\r\n\r\nconst defaultConfig = {\r\n    logger: \"info\",\r\n    gateway: { webPlatform: {} },\r\n    libraries: []\r\n};\r\n\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nexport const parseConfig = (config?: Glue42Web.Config): any => {\r\n    const combined = Object.assign({}, defaultConfig, config);\r\n\r\n    if (combined.systemLogger) {\r\n        combined.logger = combined.systemLogger.level ?? \"info\";\r\n    }\r\n\r\n    return combined;\r\n};\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nexport const checkSingleton = (): void => {\r\n    const glue42CoreNamespace = (window as any).glue42core;\r\n\r\n    if (glue42CoreNamespace && glue42CoreNamespace.webStarted) {\r\n        throw new Error(\"The Glue42 Core Web has already been started for this application.\");\r\n    }\r\n\r\n    if (!glue42CoreNamespace) {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        (window as any).glue42core = { webStarted: true };\r\n        return;\r\n    }\r\n\r\n    glue42CoreNamespace.webStarted = true;\r\n};\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\n/* eslint-disable @typescript-eslint/no-unused-vars */\r\nimport { Glue42 } from \"@glue42/desktop\";\r\nimport { Glue42Web } from \"../../web\";\r\n\r\nexport const enterprise = (config: Glue42Web.Config): Glue42.Glue => {\r\n\r\n    const enterpriseConfig = {\r\n        windows: true,\r\n        layouts: \"full\",\r\n        appManager: \"full\",\r\n        channels: true,\r\n        libraries: config.libraries,\r\n        logger: config?.systemLogger?.level ?? \"warn\"\r\n    };\r\n\r\n    return (window as any).Glue(enterpriseConfig);\r\n};","/**\r\n * Wraps values in an `Ok` type.\r\n *\r\n * Example: `ok(5) // => {ok: true, result: 5}`\r\n */\r\nvar ok = function (result) { return ({ ok: true, result: result }); };\r\n/**\r\n * Typeguard for `Ok`.\r\n */\r\nvar isOk = function (r) { return r.ok === true; };\r\n/**\r\n * Wraps errors in an `Err` type.\r\n *\r\n * Example: `err('on fire') // => {ok: false, error: 'on fire'}`\r\n */\r\nvar err = function (error) { return ({ ok: false, error: error }); };\r\n/**\r\n * Typeguard for `Err`.\r\n */\r\nvar isErr = function (r) { return r.ok === false; };\r\n/**\r\n * Create a `Promise` that either resolves with the result of `Ok` or rejects\r\n * with the error of `Err`.\r\n */\r\nvar asPromise = function (r) {\r\n    return r.ok === true ? Promise.resolve(r.result) : Promise.reject(r.error);\r\n};\r\n/**\r\n * Unwraps a `Result` and returns either the result of an `Ok`, or\r\n * `defaultValue`.\r\n *\r\n * Example:\r\n * ```\r\n * Result.withDefault(5, number().run(json))\r\n * ```\r\n *\r\n * It would be nice if `Decoder` had an instance method that mirrored this\r\n * function. Such a method would look something like this:\r\n * ```\r\n * class Decoder<A> {\r\n *   runWithDefault = (defaultValue: A, json: any): A =>\r\n *     Result.withDefault(defaultValue, this.run(json));\r\n * }\r\n *\r\n * number().runWithDefault(5, json)\r\n * ```\r\n * Unfortunately, the type of `defaultValue: A` on the method causes issues\r\n * with type inference on  the `object` decoder in some situations. While these\r\n * inference issues can be solved by providing the optional type argument for\r\n * `object`s, the extra trouble and confusion doesn't seem worth it.\r\n */\r\nvar withDefault = function (defaultValue, r) {\r\n    return r.ok === true ? r.result : defaultValue;\r\n};\r\n/**\r\n * Return the successful result, or throw an error.\r\n */\r\nvar withException = function (r) {\r\n    if (r.ok === true) {\r\n        return r.result;\r\n    }\r\n    else {\r\n        throw r.error;\r\n    }\r\n};\r\n/**\r\n * Given an array of `Result`s, return the successful values.\r\n */\r\nvar successes = function (results) {\r\n    return results.reduce(function (acc, r) { return (r.ok === true ? acc.concat(r.result) : acc); }, []);\r\n};\r\n/**\r\n * Apply `f` to the result of an `Ok`, or pass the error through.\r\n */\r\nvar map = function (f, r) {\r\n    return r.ok === true ? ok(f(r.result)) : r;\r\n};\r\n/**\r\n * Apply `f` to the result of two `Ok`s, or pass an error through. If both\r\n * `Result`s are errors then the first one is returned.\r\n */\r\nvar map2 = function (f, ar, br) {\r\n    return ar.ok === false ? ar :\r\n        br.ok === false ? br :\r\n            ok(f(ar.result, br.result));\r\n};\r\n/**\r\n * Apply `f` to the error of an `Err`, or pass the success through.\r\n */\r\nvar mapError = function (f, r) {\r\n    return r.ok === true ? r : err(f(r.error));\r\n};\r\n/**\r\n * Chain together a sequence of computations that may fail, similar to a\r\n * `Promise`. If the first computation fails then the error will propagate\r\n * through. If it succeeds, then `f` will be applied to the value, returning a\r\n * new `Result`.\r\n */\r\nvar andThen = function (f, r) {\r\n    return r.ok === true ? f(r.result) : r;\r\n};\r\n\r\n\r\nvar result = Object.freeze({\r\n\tok: ok,\r\n\tisOk: isOk,\r\n\terr: err,\r\n\tisErr: isErr,\r\n\tasPromise: asPromise,\r\n\twithDefault: withDefault,\r\n\twithException: withException,\r\n\tsuccesses: successes,\r\n\tmap: map,\r\n\tmap2: map2,\r\n\tmapError: mapError,\r\n\tandThen: andThen\r\n});\r\n\r\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\n\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nfunction isEqual(a, b) {\r\n    if (a === b) {\r\n        return true;\r\n    }\r\n    if (a === null && b === null) {\r\n        return true;\r\n    }\r\n    if (typeof (a) !== typeof (b)) {\r\n        return false;\r\n    }\r\n    if (typeof (a) === 'object') {\r\n        // Array\r\n        if (Array.isArray(a)) {\r\n            if (!Array.isArray(b)) {\r\n                return false;\r\n            }\r\n            if (a.length !== b.length) {\r\n                return false;\r\n            }\r\n            for (var i = 0; i < a.length; i++) {\r\n                if (!isEqual(a[i], b[i])) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n        // Hash table\r\n        var keys = Object.keys(a);\r\n        if (keys.length !== Object.keys(b).length) {\r\n            return false;\r\n        }\r\n        for (var i = 0; i < keys.length; i++) {\r\n            if (!b.hasOwnProperty(keys[i])) {\r\n                return false;\r\n            }\r\n            if (!isEqual(a[keys[i]], b[keys[i]])) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n}\r\n/**\r\n * Type guard for `DecoderError`. One use case of the type guard is in the\r\n * `catch` of a promise. Typescript types the error argument of `catch` as\r\n * `any`, so when dealing with a decoder as a promise you may need to\r\n * distinguish between a `DecoderError` and an error string.\r\n */\r\nvar isDecoderError = function (a) {\r\n    return a.kind === 'DecoderError' && typeof a.at === 'string' && typeof a.message === 'string';\r\n};\r\n/*\r\n * Helpers\r\n */\r\nvar isJsonArray = function (json) { return Array.isArray(json); };\r\nvar isJsonObject = function (json) {\r\n    return typeof json === 'object' && json !== null && !isJsonArray(json);\r\n};\r\nvar typeString = function (json) {\r\n    switch (typeof json) {\r\n        case 'string':\r\n            return 'a string';\r\n        case 'number':\r\n            return 'a number';\r\n        case 'boolean':\r\n            return 'a boolean';\r\n        case 'undefined':\r\n            return 'undefined';\r\n        case 'object':\r\n            if (json instanceof Array) {\r\n                return 'an array';\r\n            }\r\n            else if (json === null) {\r\n                return 'null';\r\n            }\r\n            else {\r\n                return 'an object';\r\n            }\r\n        default:\r\n            return JSON.stringify(json);\r\n    }\r\n};\r\nvar expectedGot = function (expected, got) {\r\n    return \"expected \" + expected + \", got \" + typeString(got);\r\n};\r\nvar printPath = function (paths) {\r\n    return paths.map(function (path) { return (typeof path === 'string' ? \".\" + path : \"[\" + path + \"]\"); }).join('');\r\n};\r\nvar prependAt = function (newAt, _a) {\r\n    var at = _a.at, rest = __rest(_a, [\"at\"]);\r\n    return (__assign({ at: newAt + (at || '') }, rest));\r\n};\r\n/**\r\n * Decoders transform json objects with unknown structure into known and\r\n * verified forms. You can create objects of type `Decoder<A>` with either the\r\n * primitive decoder functions, such as `boolean()` and `string()`, or by\r\n * applying higher-order decoders to the primitives, such as `array(boolean())`\r\n * or `dict(string())`.\r\n *\r\n * Each of the decoder functions are available both as a static method on\r\n * `Decoder` and as a function alias -- for example the string decoder is\r\n * defined at `Decoder.string()`, but is also aliased to `string()`. Using the\r\n * function aliases exported with the library is recommended.\r\n *\r\n * `Decoder` exposes a number of 'run' methods, which all decode json in the\r\n * same way, but communicate success and failure in different ways. The `map`\r\n * and `andThen` methods modify decoders without having to call a 'run' method.\r\n *\r\n * Alternatively, the main decoder `run()` method returns an object of type\r\n * `Result<A, DecoderError>`. This library provides a number of helper\r\n * functions for dealing with the `Result` type, so you can do all the same\r\n * things with a `Result` as with the decoder methods.\r\n */\r\nvar Decoder = /** @class */ (function () {\r\n    /**\r\n     * The Decoder class constructor is kept private to separate the internal\r\n     * `decode` function from the external `run` function. The distinction\r\n     * between the two functions is that `decode` returns a\r\n     * `Partial<DecoderError>` on failure, which contains an unfinished error\r\n     * report. When `run` is called on a decoder, the relevant series of `decode`\r\n     * calls is made, and then on failure the resulting `Partial<DecoderError>`\r\n     * is turned into a `DecoderError` by filling in the missing information.\r\n     *\r\n     * While hiding the constructor may seem restrictive, leveraging the\r\n     * provided decoder combinators and helper functions such as\r\n     * `andThen` and `map` should be enough to build specialized decoders as\r\n     * needed.\r\n     */\r\n    function Decoder(decode) {\r\n        var _this = this;\r\n        this.decode = decode;\r\n        /**\r\n         * Run the decoder and return a `Result` with either the decoded value or a\r\n         * `DecoderError` containing the json input, the location of the error, and\r\n         * the error message.\r\n         *\r\n         * Examples:\r\n         * ```\r\n         * number().run(12)\r\n         * // => {ok: true, result: 12}\r\n         *\r\n         * string().run(9001)\r\n         * // =>\r\n         * // {\r\n         * //   ok: false,\r\n         * //   error: {\r\n         * //     kind: 'DecoderError',\r\n         * //     input: 9001,\r\n         * //     at: 'input',\r\n         * //     message: 'expected a string, got 9001'\r\n         * //   }\r\n         * // }\r\n         * ```\r\n         */\r\n        this.run = function (json) {\r\n            return mapError(function (error) { return ({\r\n                kind: 'DecoderError',\r\n                input: json,\r\n                at: 'input' + (error.at || ''),\r\n                message: error.message || ''\r\n            }); }, _this.decode(json));\r\n        };\r\n        /**\r\n         * Run the decoder as a `Promise`.\r\n         */\r\n        this.runPromise = function (json) { return asPromise(_this.run(json)); };\r\n        /**\r\n         * Run the decoder and return the value on success, or throw an exception\r\n         * with a formatted error string.\r\n         */\r\n        this.runWithException = function (json) { return withException(_this.run(json)); };\r\n        /**\r\n         * Construct a new decoder that applies a transformation to the decoded\r\n         * result. If the decoder succeeds then `f` will be applied to the value. If\r\n         * it fails the error will propagated through.\r\n         *\r\n         * Example:\r\n         * ```\r\n         * number().map(x => x * 5).run(10)\r\n         * // => {ok: true, result: 50}\r\n         * ```\r\n         */\r\n        this.map = function (f) {\r\n            return new Decoder(function (json) { return map(f, _this.decode(json)); });\r\n        };\r\n        /**\r\n         * Chain together a sequence of decoders. The first decoder will run, and\r\n         * then the function will determine what decoder to run second. If the result\r\n         * of the first decoder succeeds then `f` will be applied to the decoded\r\n         * value. If it fails the error will propagate through.\r\n         *\r\n         * This is a very powerful method -- it can act as both the `map` and `where`\r\n         * methods, can improve error messages for edge cases, and can be used to\r\n         * make a decoder for custom types.\r\n         *\r\n         * Example of adding an error message:\r\n         * ```\r\n         * const versionDecoder = valueAt(['version'], number());\r\n         * const infoDecoder3 = object({a: boolean()});\r\n         *\r\n         * const decoder = versionDecoder.andThen(version => {\r\n         *   switch (version) {\r\n         *     case 3:\r\n         *       return infoDecoder3;\r\n         *     default:\r\n         *       return fail(`Unable to decode info, version ${version} is not supported.`);\r\n         *   }\r\n         * });\r\n         *\r\n         * decoder.run({version: 3, a: true})\r\n         * // => {ok: true, result: {a: true}}\r\n         *\r\n         * decoder.run({version: 5, x: 'abc'})\r\n         * // =>\r\n         * // {\r\n         * //   ok: false,\r\n         * //   error: {... message: 'Unable to decode info, version 5 is not supported.'}\r\n         * // }\r\n         * ```\r\n         *\r\n         * Example of decoding a custom type:\r\n         * ```\r\n         * // nominal type for arrays with a length of at least one\r\n         * type NonEmptyArray<T> = T[] & { __nonEmptyArrayBrand__: void };\r\n         *\r\n         * const nonEmptyArrayDecoder = <T>(values: Decoder<T>): Decoder<NonEmptyArray<T>> =>\r\n         *   array(values).andThen(arr =>\r\n         *     arr.length > 0\r\n         *       ? succeed(createNonEmptyArray(arr))\r\n         *       : fail(`expected a non-empty array, got an empty array`)\r\n         *   );\r\n         * ```\r\n         */\r\n        this.andThen = function (f) {\r\n            return new Decoder(function (json) {\r\n                return andThen(function (value) { return f(value).decode(json); }, _this.decode(json));\r\n            });\r\n        };\r\n        /**\r\n         * Add constraints to a decoder _without_ changing the resulting type. The\r\n         * `test` argument is a predicate function which returns true for valid\r\n         * inputs. When `test` fails on an input, the decoder fails with the given\r\n         * `errorMessage`.\r\n         *\r\n         * ```\r\n         * const chars = (length: number): Decoder<string> =>\r\n         *   string().where(\r\n         *     (s: string) => s.length === length,\r\n         *     `expected a string of length ${length}`\r\n         *   );\r\n         *\r\n         * chars(5).run('12345')\r\n         * // => {ok: true, result: '12345'}\r\n         *\r\n         * chars(2).run('HELLO')\r\n         * // => {ok: false, error: {... message: 'expected a string of length 2'}}\r\n         *\r\n         * chars(12).run(true)\r\n         * // => {ok: false, error: {... message: 'expected a string, got a boolean'}}\r\n         * ```\r\n         */\r\n        this.where = function (test, errorMessage) {\r\n            return _this.andThen(function (value) { return (test(value) ? Decoder.succeed(value) : Decoder.fail(errorMessage)); });\r\n        };\r\n    }\r\n    /**\r\n     * Decoder primitive that validates strings, and fails on all other input.\r\n     */\r\n    Decoder.string = function () {\r\n        return new Decoder(function (json) {\r\n            return typeof json === 'string'\r\n                ? ok(json)\r\n                : err({ message: expectedGot('a string', json) });\r\n        });\r\n    };\r\n    /**\r\n     * Decoder primitive that validates numbers, and fails on all other input.\r\n     */\r\n    Decoder.number = function () {\r\n        return new Decoder(function (json) {\r\n            return typeof json === 'number'\r\n                ? ok(json)\r\n                : err({ message: expectedGot('a number', json) });\r\n        });\r\n    };\r\n    /**\r\n     * Decoder primitive that validates booleans, and fails on all other input.\r\n     */\r\n    Decoder.boolean = function () {\r\n        return new Decoder(function (json) {\r\n            return typeof json === 'boolean'\r\n                ? ok(json)\r\n                : err({ message: expectedGot('a boolean', json) });\r\n        });\r\n    };\r\n    Decoder.constant = function (value) {\r\n        return new Decoder(function (json) {\r\n            return isEqual(json, value)\r\n                ? ok(value)\r\n                : err({ message: \"expected \" + JSON.stringify(value) + \", got \" + JSON.stringify(json) });\r\n        });\r\n    };\r\n    Decoder.object = function (decoders) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonObject(json) && decoders) {\r\n                var obj = {};\r\n                for (var key in decoders) {\r\n                    if (decoders.hasOwnProperty(key)) {\r\n                        var r = decoders[key].decode(json[key]);\r\n                        if (r.ok === true) {\r\n                            // tslint:disable-next-line:strict-type-predicates\r\n                            if (r.result !== undefined) {\r\n                                obj[key] = r.result;\r\n                            }\r\n                        }\r\n                        else if (json[key] === undefined) {\r\n                            return err({ message: \"the key '\" + key + \"' is required but was not present\" });\r\n                        }\r\n                        else {\r\n                            return err(prependAt(\".\" + key, r.error));\r\n                        }\r\n                    }\r\n                }\r\n                return ok(obj);\r\n            }\r\n            else if (isJsonObject(json)) {\r\n                return ok(json);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot('an object', json) });\r\n            }\r\n        });\r\n    };\r\n    Decoder.array = function (decoder) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonArray(json) && decoder) {\r\n                var decodeValue_1 = function (v, i) {\r\n                    return mapError(function (err$$1) { return prependAt(\"[\" + i + \"]\", err$$1); }, decoder.decode(v));\r\n                };\r\n                return json.reduce(function (acc, v, i) {\r\n                    return map2(function (arr, result) { return arr.concat([result]); }, acc, decodeValue_1(v, i));\r\n                }, ok([]));\r\n            }\r\n            else if (isJsonArray(json)) {\r\n                return ok(json);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot('an array', json) });\r\n            }\r\n        });\r\n    };\r\n    Decoder.tuple = function (decoders) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonArray(json)) {\r\n                if (json.length !== decoders.length) {\r\n                    return err({\r\n                        message: \"expected a tuple of length \" + decoders.length + \", got one of length \" + json.length\r\n                    });\r\n                }\r\n                var result = [];\r\n                for (var i = 0; i < decoders.length; i++) {\r\n                    var nth = decoders[i].decode(json[i]);\r\n                    if (nth.ok) {\r\n                        result[i] = nth.result;\r\n                    }\r\n                    else {\r\n                        return err(prependAt(\"[\" + i + \"]\", nth.error));\r\n                    }\r\n                }\r\n                return ok(result);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot(\"a tuple of length \" + decoders.length, json) });\r\n            }\r\n        });\r\n    };\r\n    Decoder.union = function (ad, bd) {\r\n        var decoders = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            decoders[_i - 2] = arguments[_i];\r\n        }\r\n        return Decoder.oneOf.apply(Decoder, [ad, bd].concat(decoders));\r\n    };\r\n    Decoder.intersection = function (ad, bd) {\r\n        var ds = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            ds[_i - 2] = arguments[_i];\r\n        }\r\n        return new Decoder(function (json) {\r\n            return [ad, bd].concat(ds).reduce(function (acc, decoder) { return map2(Object.assign, acc, decoder.decode(json)); }, ok({}));\r\n        });\r\n    };\r\n    /**\r\n     * Escape hatch to bypass validation. Always succeeds and types the result as\r\n     * `any`. Useful for defining decoders incrementally, particularly for\r\n     * complex objects.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * interface User {\r\n     *   name: string;\r\n     *   complexUserData: ComplexType;\r\n     * }\r\n     *\r\n     * const userDecoder: Decoder<User> = object({\r\n     *   name: string(),\r\n     *   complexUserData: anyJson()\r\n     * });\r\n     * ```\r\n     */\r\n    Decoder.anyJson = function () { return new Decoder(function (json) { return ok(json); }); };\r\n    /**\r\n     * Decoder identity function which always succeeds and types the result as\r\n     * `unknown`.\r\n     */\r\n    Decoder.unknownJson = function () {\r\n        return new Decoder(function (json) { return ok(json); });\r\n    };\r\n    /**\r\n     * Decoder for json objects where the keys are unknown strings, but the values\r\n     * should all be of the same type.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * dict(number()).run({chocolate: 12, vanilla: 10, mint: 37});\r\n     * // => {ok: true, result: {chocolate: 12, vanilla: 10, mint: 37}}\r\n     * ```\r\n     */\r\n    Decoder.dict = function (decoder) {\r\n        return new Decoder(function (json) {\r\n            if (isJsonObject(json)) {\r\n                var obj = {};\r\n                for (var key in json) {\r\n                    if (json.hasOwnProperty(key)) {\r\n                        var r = decoder.decode(json[key]);\r\n                        if (r.ok === true) {\r\n                            obj[key] = r.result;\r\n                        }\r\n                        else {\r\n                            return err(prependAt(\".\" + key, r.error));\r\n                        }\r\n                    }\r\n                }\r\n                return ok(obj);\r\n            }\r\n            else {\r\n                return err({ message: expectedGot('an object', json) });\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Decoder for values that may be `undefined`. This is primarily helpful for\r\n     * decoding interfaces with optional fields.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * interface User {\r\n     *   id: number;\r\n     *   isOwner?: boolean;\r\n     * }\r\n     *\r\n     * const decoder: Decoder<User> = object({\r\n     *   id: number(),\r\n     *   isOwner: optional(boolean())\r\n     * });\r\n     * ```\r\n     */\r\n    Decoder.optional = function (decoder) {\r\n        return new Decoder(function (json) { return (json === undefined || json === null ? ok(undefined) : decoder.decode(json)); });\r\n    };\r\n    /**\r\n     * Decoder that attempts to run each decoder in `decoders` and either succeeds\r\n     * with the first successful decoder, or fails after all decoders have failed.\r\n     *\r\n     * Note that `oneOf` expects the decoders to all have the same return type,\r\n     * while `union` creates a decoder for the union type of all the input\r\n     * decoders.\r\n     *\r\n     * Examples:\r\n     * ```\r\n     * oneOf(string(), number().map(String))\r\n     * oneOf(constant('start'), constant('stop'), succeed('unknown'))\r\n     * ```\r\n     */\r\n    Decoder.oneOf = function () {\r\n        var decoders = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            decoders[_i] = arguments[_i];\r\n        }\r\n        return new Decoder(function (json) {\r\n            var errors = [];\r\n            for (var i = 0; i < decoders.length; i++) {\r\n                var r = decoders[i].decode(json);\r\n                if (r.ok === true) {\r\n                    return r;\r\n                }\r\n                else {\r\n                    errors[i] = r.error;\r\n                }\r\n            }\r\n            var errorsList = errors\r\n                .map(function (error) { return \"at error\" + (error.at || '') + \": \" + error.message; })\r\n                .join('\", \"');\r\n            return err({\r\n                message: \"expected a value matching one of the decoders, got the errors [\\\"\" + errorsList + \"\\\"]\"\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Decoder that always succeeds with either the decoded value, or a fallback\r\n     * default value.\r\n     */\r\n    Decoder.withDefault = function (defaultValue, decoder) {\r\n        return new Decoder(function (json) {\r\n            return ok(withDefault(defaultValue, decoder.decode(json)));\r\n        });\r\n    };\r\n    /**\r\n     * Decoder that pulls a specific field out of a json structure, instead of\r\n     * decoding and returning the full structure. The `paths` array describes the\r\n     * object keys and array indices to traverse, so that values can be pulled out\r\n     * of a nested structure.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * const decoder = valueAt(['a', 'b', 0], string());\r\n     *\r\n     * decoder.run({a: {b: ['surprise!']}})\r\n     * // => {ok: true, result: 'surprise!'}\r\n     *\r\n     * decoder.run({a: {x: 'cats'}})\r\n     * // => {ok: false, error: {... at: 'input.a.b[0]' message: 'path does not exist'}}\r\n     * ```\r\n     *\r\n     * Note that the `decoder` is ran on the value found at the last key in the\r\n     * path, even if the last key is not found. This allows the `optional`\r\n     * decoder to succeed when appropriate.\r\n     * ```\r\n     * const optionalDecoder = valueAt(['a', 'b', 'c'], optional(string()));\r\n     *\r\n     * optionalDecoder.run({a: {b: {c: 'surprise!'}}})\r\n     * // => {ok: true, result: 'surprise!'}\r\n     *\r\n     * optionalDecoder.run({a: {b: 'cats'}})\r\n     * // => {ok: false, error: {... at: 'input.a.b.c' message: 'expected an object, got \"cats\"'}\r\n     *\r\n     * optionalDecoder.run({a: {b: {z: 1}}})\r\n     * // => {ok: true, result: undefined}\r\n     * ```\r\n     */\r\n    Decoder.valueAt = function (paths, decoder) {\r\n        return new Decoder(function (json) {\r\n            var jsonAtPath = json;\r\n            for (var i = 0; i < paths.length; i++) {\r\n                if (jsonAtPath === undefined) {\r\n                    return err({\r\n                        at: printPath(paths.slice(0, i + 1)),\r\n                        message: 'path does not exist'\r\n                    });\r\n                }\r\n                else if (typeof paths[i] === 'string' && !isJsonObject(jsonAtPath)) {\r\n                    return err({\r\n                        at: printPath(paths.slice(0, i + 1)),\r\n                        message: expectedGot('an object', jsonAtPath)\r\n                    });\r\n                }\r\n                else if (typeof paths[i] === 'number' && !isJsonArray(jsonAtPath)) {\r\n                    return err({\r\n                        at: printPath(paths.slice(0, i + 1)),\r\n                        message: expectedGot('an array', jsonAtPath)\r\n                    });\r\n                }\r\n                else {\r\n                    jsonAtPath = jsonAtPath[paths[i]];\r\n                }\r\n            }\r\n            return mapError(function (error) {\r\n                return jsonAtPath === undefined\r\n                    ? { at: printPath(paths), message: 'path does not exist' }\r\n                    : prependAt(printPath(paths), error);\r\n            }, decoder.decode(jsonAtPath));\r\n        });\r\n    };\r\n    /**\r\n     * Decoder that ignores the input json and always succeeds with `fixedValue`.\r\n     */\r\n    Decoder.succeed = function (fixedValue) {\r\n        return new Decoder(function (json) { return ok(fixedValue); });\r\n    };\r\n    /**\r\n     * Decoder that ignores the input json and always fails with `errorMessage`.\r\n     */\r\n    Decoder.fail = function (errorMessage) {\r\n        return new Decoder(function (json) { return err({ message: errorMessage }); });\r\n    };\r\n    /**\r\n     * Decoder that allows for validating recursive data structures. Unlike with\r\n     * functions, decoders assigned to variables can't reference themselves\r\n     * before they are fully defined. We can avoid prematurely referencing the\r\n     * decoder by wrapping it in a function that won't be called until use, at\r\n     * which point the decoder has been defined.\r\n     *\r\n     * Example:\r\n     * ```\r\n     * interface Comment {\r\n     *   msg: string;\r\n     *   replies: Comment[];\r\n     * }\r\n     *\r\n     * const decoder: Decoder<Comment> = object({\r\n     *   msg: string(),\r\n     *   replies: lazy(() => array(decoder))\r\n     * });\r\n     * ```\r\n     */\r\n    Decoder.lazy = function (mkDecoder) {\r\n        return new Decoder(function (json) { return mkDecoder().decode(json); });\r\n    };\r\n    return Decoder;\r\n}());\r\n\r\n/* tslint:disable:variable-name */\r\n/** See `Decoder.string` */\r\nvar string = Decoder.string;\r\n/** See `Decoder.number` */\r\nvar number = Decoder.number;\r\n/** See `Decoder.boolean` */\r\nvar boolean = Decoder.boolean;\r\n/** See `Decoder.anyJson` */\r\nvar anyJson = Decoder.anyJson;\r\n/** See `Decoder.unknownJson` */\r\nvar unknownJson = Decoder.unknownJson;\r\n/** See `Decoder.constant` */\r\nvar constant = Decoder.constant;\r\n/** See `Decoder.object` */\r\nvar object = Decoder.object;\r\n/** See `Decoder.array` */\r\nvar array = Decoder.array;\r\n/** See `Decoder.tuple` */\r\nvar tuple = Decoder.tuple;\r\n/** See `Decoder.dict` */\r\nvar dict = Decoder.dict;\r\n/** See `Decoder.optional` */\r\nvar optional = Decoder.optional;\r\n/** See `Decoder.oneOf` */\r\nvar oneOf = Decoder.oneOf;\r\n/** See `Decoder.union` */\r\nvar union = Decoder.union;\r\n/** See `Decoder.intersection` */\r\nvar intersection = Decoder.intersection;\r\n/** See `Decoder.withDefault` */\r\nvar withDefault$1 = Decoder.withDefault;\r\n/** See `Decoder.valueAt` */\r\nvar valueAt = Decoder.valueAt;\r\n/** See `Decoder.succeed` */\r\nvar succeed = Decoder.succeed;\r\n/** See `Decoder.fail` */\r\nvar fail = Decoder.fail;\r\n/** See `Decoder.lazy` */\r\nvar lazy = Decoder.lazy;\r\n\r\nexport { result as Result, Decoder, isDecoderError, string, number, boolean, anyJson, unknownJson, constant, object, array, tuple, dict, optional, oneOf, union, intersection, withDefault$1 as withDefault, valueAt, succeed, fail, lazy };\r\n//# sourceMappingURL=index.es5.js.map\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\n/* eslint-disable @typescript-eslint/no-use-before-define */\r\nimport { Decoder, object, boolean, string, optional, array, oneOf, constant, lazy, number, anyJson, intersection } from \"decoder-validate\";\r\nimport {\r\n    IsWindowInSwimlaneResult,\r\n    WorkspaceSnapshotResult,\r\n    ChildSnapshotResult,\r\n    WorkspaceConfigResult,\r\n    FrameSummaryResult,\r\n    WorkspaceCreateConfigProtocol,\r\n    GetFrameSummaryConfig,\r\n    WorkspaceSummaryResult,\r\n    LayoutSummariesResult,\r\n    LayoutSummary,\r\n    OpenWorkspaceConfig,\r\n    FrameSummariesResult,\r\n    WorkspaceSummariesResult,\r\n    ExportedLayoutsResult,\r\n    DeleteLayoutConfig,\r\n    SimpleItemConfig,\r\n    ResizeItemConfig,\r\n    MoveFrameConfig,\r\n    FrameSnapshotResult,\r\n    BaseChildSnapshotConfig,\r\n    ParentSnapshotConfig,\r\n    SwimlaneWindowSnapshotConfig,\r\n    SimpleWindowOperationSuccessResult,\r\n    SetItemTitleConfig,\r\n    MoveWindowConfig,\r\n    AddWindowConfig,\r\n    AddContainerConfig,\r\n    AddItemResult,\r\n    BundleConfig,\r\n    WorkspaceStreamData,\r\n    FrameStreamData,\r\n    ContainerStreamData,\r\n    ContainerSummaryResult,\r\n    WindowStreamData,\r\n    PingResult,\r\n    FrameStateConfig,\r\n    FrameStateResult,\r\n    WorkspaceSelector,\r\n    LockWorkspaceConfig,\r\n    LockWindowConfig,\r\n    LockContainerConfig,\r\n    SubParentSnapshotResult,\r\n    WindowSnapshotResult,\r\n    LockRowConfig,\r\n    LockColumnConfig,\r\n    LockGroupConfig\r\n} from \"../types/protocol\";\r\nimport { WorkspaceEventType, WorkspaceEventAction } from \"../types/subscription\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { ColumnLockConfig, GroupLockConfig, RowLockConfig, WorkspaceLockConfig, WorkspaceWindowLockConfig } from \"../types/temp\";\r\n\r\nexport const nonEmptyStringDecoder: Decoder<string> = string().where((s) => s.length > 0, \"Expected a non-empty string\");\r\nexport const nonNegativeNumberDecoder: Decoder<number> = number().where((num) => num >= 0, \"Expected a non-negative number\");\r\n\r\nexport const isWindowInSwimlaneResultDecoder: Decoder<IsWindowInSwimlaneResult> = object({\r\n    inWorkspace: boolean()\r\n});\r\n\r\nexport const allParentDecoder: Decoder<\"workspace\" | \"row\" | \"column\" | \"group\"> = oneOf<\"workspace\" | \"row\" | \"column\" | \"group\">(\r\n    constant(\"workspace\"),\r\n    constant(\"row\"),\r\n    constant(\"column\"),\r\n    constant(\"group\")\r\n);\r\n\r\nexport const subParentDecoder: Decoder<\"row\" | \"column\" | \"group\"> = oneOf<\"row\" | \"column\" | \"group\">(\r\n    constant(\"row\"),\r\n    constant(\"column\"),\r\n    constant(\"group\")\r\n);\r\n\r\nexport const frameStateDecoder: Decoder<\"maximized\" | \"minimized\" | \"normal\"> = oneOf<\"maximized\" | \"minimized\" | \"normal\">(\r\n    constant(\"maximized\"),\r\n    constant(\"minimized\"),\r\n    constant(\"normal\")\r\n);\r\n\r\nexport const checkThrowCallback = (callback: unknown, allowUndefined?: boolean): void => {\r\n    const argumentType = typeof callback;\r\n\r\n    if (allowUndefined && argumentType !== \"function\" && argumentType !== \"undefined\") {\r\n        throw new Error(`Provided argument must be either undefined or of type function, provided: ${argumentType}`);\r\n    }\r\n\r\n    if (!allowUndefined && argumentType !== \"function\") {\r\n        throw new Error(`Provided argument must be of type function, provided: ${argumentType}`);\r\n    }\r\n};\r\n\r\nexport const workspaceBuilderCreateConfigDecoder: Decoder<Glue42Workspaces.WorkspaceCreateConfig> = optional(object({\r\n    saveLayout: optional(boolean())\r\n}));\r\n\r\nexport const deleteLayoutConfigDecoder: Decoder<DeleteLayoutConfig> = object({\r\n    name: nonEmptyStringDecoder\r\n});\r\n\r\n\r\nexport const swimlaneWindowDefinitionDecoder: Decoder<Glue42Workspaces.WorkspaceWindowDefinition> = object({\r\n    type: optional(constant(\"window\")),\r\n    appName: optional(nonEmptyStringDecoder),\r\n    windowId: optional(nonEmptyStringDecoder),\r\n    context: optional(anyJson())\r\n});\r\n\r\nexport const strictSwimlaneWindowDefinitionDecoder: Decoder<Glue42Workspaces.WorkspaceWindowDefinition> = object({\r\n    type: constant(\"window\"),\r\n    appName: optional(nonEmptyStringDecoder),\r\n    windowId: optional(nonEmptyStringDecoder),\r\n    context: optional(anyJson())\r\n});\r\n\r\nexport const parentDefinitionDecoder: Decoder<Glue42Workspaces.BoxDefinition> = optional(object({\r\n    type: optional(subParentDecoder),\r\n    children: optional(\r\n        lazy(() => array(\r\n            oneOf<Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition>(\r\n                swimlaneWindowDefinitionDecoder,\r\n                parentDefinitionDecoder\r\n            )\r\n        ))\r\n    )\r\n}));\r\n\r\nexport const strictParentDefinitionDecoder: Decoder<Glue42Workspaces.BoxDefinition> = object({\r\n    type: subParentDecoder,\r\n    children: optional(\r\n        lazy(() => array(\r\n            oneOf<Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition>(\r\n                strictSwimlaneWindowDefinitionDecoder,\r\n                strictParentDefinitionDecoder\r\n            )\r\n        ))\r\n    )\r\n});\r\n\r\nexport const stateDecoder: Decoder<\"maximized\" | \"normal\"> = oneOf<\"maximized\" | \"normal\">(\r\n    (string().where((s) => s.toLowerCase() === \"maximized\", \"Expected a case insensitive variation of 'maximized'\") as Decoder<\"maximized\">),\r\n    (string().where((s) => s.toLowerCase() === \"normal\", \"Expected a case insensitive variation of 'normal'\") as Decoder<\"normal\">)\r\n);\r\n\r\nexport const newFrameConfigDecoder: Decoder<Glue42Workspaces.NewFrameConfig> = object({\r\n    bounds: optional(object({\r\n        left: optional(number()),\r\n        top: optional(number()),\r\n        width: optional(nonNegativeNumberDecoder),\r\n        height: optional(nonNegativeNumberDecoder)\r\n    }))\r\n});\r\n\r\nexport const loadingStrategyDecoder: Decoder<Glue42Workspaces.LoadingStrategy> = oneOf<\"direct\" | \"delayed\" | \"lazy\">(\r\n    constant(\"direct\"),\r\n    constant(\"delayed\"),\r\n    constant(\"lazy\")\r\n);\r\n\r\nexport const restoreWorkspaceConfigDecoder: Decoder<Glue42Workspaces.RestoreWorkspaceConfig> = optional(object({\r\n    app: optional(nonEmptyStringDecoder),\r\n    context: optional(anyJson()),\r\n    loadingStrategy: optional(loadingStrategyDecoder),\r\n    title: optional(nonEmptyStringDecoder),\r\n    reuseWorkspaceId: optional(nonEmptyStringDecoder),\r\n    frameId: optional(nonEmptyStringDecoder),\r\n    lockdown: optional(boolean()),\r\n    activateFrame: optional(boolean()),\r\n    newFrame: optional(oneOf<Glue42Workspaces.NewFrameConfig | boolean>(\r\n        newFrameConfigDecoder,\r\n        boolean()\r\n    )),\r\n    noTabHeader: optional(boolean()),\r\n    inMemoryLayout: optional(boolean())\r\n}));\r\n\r\nexport const openWorkspaceConfigDecoder: Decoder<OpenWorkspaceConfig> = object({\r\n    name: nonEmptyStringDecoder,\r\n    restoreOptions: optional(restoreWorkspaceConfigDecoder)\r\n});\r\n\r\nexport const workspaceDefinitionDecoder: Decoder<Glue42Workspaces.WorkspaceDefinition> = object({\r\n    children: optional(array(oneOf<Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition>(\r\n        swimlaneWindowDefinitionDecoder,\r\n        parentDefinitionDecoder\r\n    ))),\r\n    context: optional(anyJson()),\r\n    config: optional(object({\r\n        title: optional(nonEmptyStringDecoder),\r\n        position: optional(nonNegativeNumberDecoder),\r\n        isFocused: optional(boolean()),\r\n        noTabHeader: optional(boolean()),\r\n        reuseWorkspaceId: optional(nonEmptyStringDecoder),\r\n        loadingStrategy: optional(loadingStrategyDecoder)\r\n    })),\r\n    frame: optional(object({\r\n        reuseFrameId: optional(nonEmptyStringDecoder),\r\n        newFrame: optional(oneOf<boolean | Glue42Workspaces.NewFrameConfig>(\r\n            boolean(),\r\n            newFrameConfigDecoder\r\n        ))\r\n    }))\r\n});\r\n\r\nexport const builderConfigDecoder: Decoder<Glue42Workspaces.BuilderConfig> = object({\r\n    type: allParentDecoder,\r\n    definition: optional(oneOf<Glue42Workspaces.WorkspaceDefinition | Glue42Workspaces.BoxDefinition>(\r\n        workspaceDefinitionDecoder,\r\n        parentDefinitionDecoder\r\n    ))\r\n});\r\n\r\nexport const workspaceCreateConfigDecoder: Decoder<WorkspaceCreateConfigProtocol> = intersection(\r\n    workspaceDefinitionDecoder,\r\n    object({\r\n        saveConfig: optional(object({\r\n            saveLayout: optional(boolean())\r\n        }))\r\n    })\r\n);\r\n\r\nexport const getFrameSummaryConfigDecoder: Decoder<GetFrameSummaryConfig> = object({\r\n    itemId: nonEmptyStringDecoder\r\n});\r\n\r\nexport const frameSummaryDecoder: Decoder<FrameSummaryResult> = object({\r\n    id: nonEmptyStringDecoder\r\n});\r\n\r\nexport const workspaceSummaryDecoder: Decoder<Glue42Workspaces.WorkspaceSummary> = object({\r\n    id: nonEmptyStringDecoder,\r\n    frameId: nonEmptyStringDecoder,\r\n    positionIndex: number(),\r\n    title: nonEmptyStringDecoder,\r\n    focused: boolean(),\r\n    layoutName: optional(nonEmptyStringDecoder)\r\n});\r\n\r\nexport const containerSummaryDecoder: Decoder<Glue42Workspaces.BoxSummary> = object({\r\n    type: subParentDecoder,\r\n    id: nonEmptyStringDecoder,\r\n    frameId: nonEmptyStringDecoder,\r\n    workspaceId: nonEmptyStringDecoder,\r\n    positionIndex: number()\r\n});\r\n\r\nexport const eventTypeDecoder: Decoder<WorkspaceEventType> = oneOf<\"frame\" | \"workspace\" | \"container\" | \"window\">(\r\n    constant(\"frame\"),\r\n    constant(\"workspace\"),\r\n    constant(\"container\"),\r\n    constant(\"window\")\r\n);\r\n\r\nexport const streamRequestArgumentsDecoder: Decoder<{ type: WorkspaceEventType; branch: string }> = object({\r\n    type: eventTypeDecoder,\r\n    branch: nonEmptyStringDecoder\r\n});\r\n\r\nexport const workspaceEventActionDecoder: Decoder<WorkspaceEventAction> = oneOf<\"opened\" | \"closing\" | \"closed\" | \"focus\" | \"added\" | \"loaded\" | \"removed\" | \"childrenUpdate\" | \"containerChange\" | \"maximized\" | \"minimized\" | \"normal\" | \"selected\">(\r\n    constant(\"opened\"),\r\n    constant(\"closing\"),\r\n    constant(\"closed\"),\r\n    constant(\"focus\"),\r\n    constant(\"added\"),\r\n    constant(\"loaded\"),\r\n    constant(\"removed\"),\r\n    constant(\"childrenUpdate\"),\r\n    constant(\"containerChange\"),\r\n    constant(\"maximized\"),\r\n    constant(\"minimized\"),\r\n    constant(\"normal\"),\r\n    constant(\"selected\")\r\n);\r\n\r\nexport const workspaceConfigResultDecoder: Decoder<WorkspaceConfigResult> = object({\r\n    frameId: nonEmptyStringDecoder,\r\n    title: nonEmptyStringDecoder,\r\n    positionIndex: nonNegativeNumberDecoder,\r\n    name: nonEmptyStringDecoder,\r\n    layoutName: optional(nonEmptyStringDecoder),\r\n    isHibernated: optional(boolean()), // to support backwards comptability with older versions of GD\r\n    isSelected: boolean(),\r\n    allowDrop: optional(boolean()),\r\n    allowExtract: optional(boolean()),\r\n    allowSplitters: optional(boolean()),\r\n    showCloseButton: optional(boolean()),\r\n    showSaveButton: optional(boolean()),\r\n    allowDropLeft: optional(boolean()),\r\n    allowDropTop: optional(boolean()),\r\n    allowDropRight: optional(boolean()),\r\n    allowDropBottom: optional(boolean())\r\n});\r\n\r\n// todo: remove number positionIndex when fixed\r\nexport const baseChildSnapshotConfigDecoder: Decoder<BaseChildSnapshotConfig> = object({\r\n    frameId: nonEmptyStringDecoder,\r\n    workspaceId: nonEmptyStringDecoder,\r\n    positionIndex: number()\r\n});\r\n\r\nexport const parentSnapshotConfigDecoder: Decoder<ParentSnapshotConfig> = anyJson();\r\n\r\n// todo: remove optional isMaximized when fixed\r\nexport const swimlaneWindowSnapshotConfigDecoder: Decoder<SwimlaneWindowSnapshotConfig> = intersection(\r\n    baseChildSnapshotConfigDecoder,\r\n    object({\r\n        windowId: optional(nonEmptyStringDecoder),\r\n        isMaximized: optional(boolean()),\r\n        isFocused: boolean(),\r\n        title: optional(string()),\r\n        appName: optional(nonEmptyStringDecoder),\r\n        allowExtract: optional(boolean()),\r\n        showCloseButton: optional(boolean())\r\n    })\r\n) as any;\r\n\r\nexport const customWorkspaceSubParentSnapshotDecoder: Decoder<SubParentSnapshotResult> = object({\r\n    id: optional(nonEmptyStringDecoder),\r\n    config: parentSnapshotConfigDecoder,\r\n    children: optional(lazy(() => array(customWorkspaceChildSnapshotDecoder))),\r\n    type: oneOf<\"row\" | \"column\" | \"group\">(\r\n        constant(\"row\"),\r\n        constant(\"column\"),\r\n        constant(\"group\")\r\n    )\r\n});\r\n\r\nexport const customWorkspaceWindowSnapshotDecoder: Decoder<WindowSnapshotResult> = object({\r\n    id: optional(nonEmptyStringDecoder),\r\n    config: swimlaneWindowSnapshotConfigDecoder,\r\n    type: constant(\"window\")\r\n});\r\n\r\nexport const customWorkspaceChildSnapshotDecoder: Decoder<ChildSnapshotResult> = oneOf<WindowSnapshotResult | SubParentSnapshotResult>(\r\n    customWorkspaceWindowSnapshotDecoder,\r\n    customWorkspaceSubParentSnapshotDecoder);\r\n\r\nexport const childSnapshotResultDecoder: Decoder<ChildSnapshotResult> = customWorkspaceChildSnapshotDecoder;\r\n\r\nexport const workspaceSnapshotResultDecoder: Decoder<WorkspaceSnapshotResult> = object({\r\n    id: nonEmptyStringDecoder,\r\n    config: workspaceConfigResultDecoder,\r\n    children: array(childSnapshotResultDecoder),\r\n    frameSummary: frameSummaryDecoder\r\n});\r\n\r\nexport const windowLayoutItemDecoder: Decoder<Glue42Workspaces.WindowLayoutItem> = object({\r\n    type: constant(\"window\"),\r\n    config: object({\r\n        appName: nonEmptyStringDecoder,\r\n        url: optional(nonEmptyStringDecoder),\r\n        title: optional(string()),\r\n        allowExtract: optional(boolean()),\r\n        showCloseButton: optional(boolean())\r\n    })\r\n});\r\n\r\nexport const groupLayoutItemDecoder: Decoder<Glue42Workspaces.GroupLayoutItem> = object({\r\n    type: constant(\"group\"),\r\n    config: anyJson(),\r\n    children: array(oneOf<Glue42Workspaces.WindowLayoutItem>(\r\n        windowLayoutItemDecoder\r\n    ))\r\n});\r\n\r\nexport const columnLayoutItemDecoder: Decoder<Glue42Workspaces.ColumnLayoutItem> = object({\r\n    type: constant(\"column\"),\r\n    config: anyJson(),\r\n    children: array(oneOf<Glue42Workspaces.RowLayoutItem | Glue42Workspaces.ColumnLayoutItem | Glue42Workspaces.GroupLayoutItem | Glue42Workspaces.WindowLayoutItem>(\r\n        groupLayoutItemDecoder,\r\n        windowLayoutItemDecoder,\r\n        lazy(() => columnLayoutItemDecoder),\r\n        lazy(() => rowLayoutItemDecoder)\r\n    ))\r\n});\r\n\r\nexport const rowLayoutItemDecoder: Decoder<Glue42Workspaces.RowLayoutItem> = object({\r\n    type: constant(\"row\"),\r\n    config: anyJson(),\r\n    children: array(oneOf<Glue42Workspaces.RowLayoutItem | Glue42Workspaces.ColumnLayoutItem | Glue42Workspaces.GroupLayoutItem | Glue42Workspaces.WindowLayoutItem>(\r\n        columnLayoutItemDecoder,\r\n        groupLayoutItemDecoder,\r\n        windowLayoutItemDecoder,\r\n        lazy(() => rowLayoutItemDecoder)\r\n    ))\r\n});\r\n\r\nexport const workspaceLayoutDecoder: Decoder<Glue42Workspaces.WorkspaceLayout> = object({\r\n    name: nonEmptyStringDecoder,\r\n    type: constant(\"Workspace\"),\r\n    metadata: optional(anyJson()),\r\n    components: array(object({\r\n        type: constant(\"Workspace\"),\r\n        state: object({\r\n            config: anyJson(),\r\n            context: anyJson(),\r\n            children: array(oneOf<Glue42Workspaces.RowLayoutItem | Glue42Workspaces.ColumnLayoutItem | Glue42Workspaces.GroupLayoutItem | Glue42Workspaces.WindowLayoutItem>(\r\n                rowLayoutItemDecoder,\r\n                columnLayoutItemDecoder,\r\n                groupLayoutItemDecoder,\r\n                windowLayoutItemDecoder\r\n            ))\r\n        })\r\n    }))\r\n});\r\n\r\nexport const workspacesImportLayoutDecoder: Decoder<{ layout: Glue42Workspaces.WorkspaceLayout; mode: \"replace\" | \"merge\" }> = object({\r\n    layout: workspaceLayoutDecoder,\r\n    mode: oneOf<\"replace\" | \"merge\">(\r\n        constant(\"replace\"),\r\n        constant(\"merge\")\r\n    )\r\n});\r\n\r\nexport const exportedLayoutsResultDecoder: Decoder<ExportedLayoutsResult> = object({\r\n    layouts: array(workspaceLayoutDecoder)\r\n});\r\n\r\nexport const frameSummaryResultDecoder: Decoder<FrameSummaryResult> = object({\r\n    id: nonEmptyStringDecoder,\r\n});\r\n\r\nexport const frameSummariesResultDecoder: Decoder<FrameSummariesResult> = object({\r\n    summaries: array(frameSummaryResultDecoder)\r\n});\r\n\r\nexport const workspaceSummaryResultDecoder: Decoder<WorkspaceSummaryResult> = object({\r\n    id: nonEmptyStringDecoder,\r\n    config: workspaceConfigResultDecoder\r\n});\r\n\r\nexport const workspaceSummariesResultDecoder: Decoder<WorkspaceSummariesResult> = object({\r\n    summaries: array(workspaceSummaryResultDecoder)\r\n});\r\n\r\nexport const frameSnapshotResultDecoder: Decoder<FrameSnapshotResult> = object({\r\n    id: nonEmptyStringDecoder,\r\n    config: anyJson(),\r\n    workspaces: array(workspaceSnapshotResultDecoder)\r\n});\r\n\r\nexport const layoutSummaryDecoder: Decoder<LayoutSummary> = object({\r\n    name: nonEmptyStringDecoder\r\n});\r\n\r\nexport const layoutSummariesDecoder: Decoder<LayoutSummariesResult> = object({\r\n    summaries: array(layoutSummaryDecoder)\r\n});\r\n\r\nexport const simpleWindowOperationSuccessResultDecoder: Decoder<SimpleWindowOperationSuccessResult> = object({\r\n    windowId: nonEmptyStringDecoder\r\n});\r\n\r\nexport const voidResultDecoder: Decoder<{}> = anyJson();\r\n\r\nexport const frameStateResultDecoder: Decoder<FrameStateResult> = object({\r\n    state: frameStateDecoder\r\n});\r\n\r\nexport const resizeConfigDecoder: Decoder<Glue42Workspaces.ResizeConfig> = object({\r\n    width: optional(nonNegativeNumberDecoder),\r\n    height: optional(nonNegativeNumberDecoder),\r\n    relative: optional(boolean())\r\n});\r\n\r\nexport const moveConfigDecoder: Decoder<Glue42Workspaces.MoveConfig> = object({\r\n    top: optional(number()),\r\n    left: optional(number()),\r\n    relative: optional(boolean())\r\n});\r\n\r\nexport const simpleItemConfigDecoder: Decoder<SimpleItemConfig> = object({\r\n    itemId: nonEmptyStringDecoder\r\n});\r\n\r\nexport const frameStateConfigDecoder: Decoder<FrameStateConfig> = object({\r\n    frameId: nonEmptyStringDecoder,\r\n    requestedState: frameStateDecoder\r\n});\r\n\r\nexport const setItemTitleConfigDecoder: Decoder<SetItemTitleConfig> = object({\r\n    itemId: nonEmptyStringDecoder,\r\n    title: nonEmptyStringDecoder\r\n});\r\n\r\nexport const moveWindowConfigDecoder: Decoder<MoveWindowConfig> = object({\r\n    itemId: nonEmptyStringDecoder,\r\n    containerId: nonEmptyStringDecoder\r\n});\r\n\r\nexport const resizeItemConfigDecoder: Decoder<ResizeItemConfig> = intersection(\r\n    simpleItemConfigDecoder,\r\n    resizeConfigDecoder\r\n);\r\n\r\nexport const moveFrameConfigDecoder: Decoder<MoveFrameConfig> = intersection(\r\n    simpleItemConfigDecoder,\r\n    moveConfigDecoder\r\n);\r\n\r\nexport const simpleParentDecoder: Decoder<{ id: string; type: \"row\" | \"column\" | \"group\" }> = object({\r\n    id: nonEmptyStringDecoder,\r\n    type: subParentDecoder\r\n});\r\n\r\nexport const addWindowConfigDecoder: Decoder<AddWindowConfig> = object({\r\n    definition: swimlaneWindowDefinitionDecoder,\r\n    parentId: nonEmptyStringDecoder,\r\n    parentType: allParentDecoder\r\n});\r\n\r\nexport const addContainerConfigDecoder: Decoder<AddContainerConfig> = object({\r\n    definition: strictParentDefinitionDecoder,\r\n    parentId: nonEmptyStringDecoder,\r\n    parentType: allParentDecoder\r\n});\r\n\r\nexport const addItemResultDecoder: Decoder<AddItemResult> = object({\r\n    itemId: nonEmptyStringDecoder,\r\n    windowId: optional(nonEmptyStringDecoder)\r\n});\r\n\r\nexport const pingResultDecoder: Decoder<PingResult> = object({\r\n    live: boolean()\r\n});\r\n\r\nexport const bundleConfigDecoder: Decoder<BundleConfig> = object({\r\n    type: oneOf<\"row\" | \"column\">(\r\n        constant(\"row\"),\r\n        constant(\"column\")\r\n    ),\r\n    workspaceId: nonEmptyStringDecoder\r\n});\r\n\r\nexport const containerSummaryResultDecoder: Decoder<ContainerSummaryResult> = object({\r\n    itemId: nonEmptyStringDecoder,\r\n    config: parentSnapshotConfigDecoder\r\n});\r\n\r\nexport const frameStreamDataDecoder: Decoder<FrameStreamData> = object({\r\n    frameSummary: frameSummaryDecoder\r\n});\r\n\r\nexport const workspaceStreamDataDecoder: Decoder<WorkspaceStreamData> = object({\r\n    workspaceSummary: workspaceSummaryResultDecoder,\r\n    frameSummary: frameSummaryDecoder\r\n});\r\n\r\nexport const containerStreamDataDecoder: Decoder<ContainerStreamData> = object({\r\n    containerSummary: containerSummaryResultDecoder\r\n});\r\n\r\nexport const windowStreamDataDecoder: Decoder<WindowStreamData> = object({\r\n    windowSummary: object({\r\n        itemId: nonEmptyStringDecoder,\r\n        parentId: nonEmptyStringDecoder,\r\n        config: swimlaneWindowSnapshotConfigDecoder\r\n    })\r\n});\r\n\r\nexport const workspaceLayoutSaveConfigDecoder: Decoder<Glue42Workspaces.WorkspaceLayoutSaveConfig> = object({\r\n    name: nonEmptyStringDecoder,\r\n    workspaceId: nonEmptyStringDecoder,\r\n    saveContext: optional(boolean())\r\n});\r\n\r\nexport const workspaceSelectorDecoder: Decoder<WorkspaceSelector> = object({\r\n    workspaceId: nonEmptyStringDecoder,\r\n});\r\n\r\nexport const workspaceLockConfigDecoder: Decoder<WorkspaceLockConfig> = object({\r\n    allowDrop: optional(boolean()),\r\n    allowDropLeft: optional(boolean()),\r\n    allowDropTop: optional(boolean()),\r\n    allowDropRight: optional(boolean()),\r\n    allowDropBottom: optional(boolean()),\r\n    allowExtract: optional(boolean()),\r\n    allowSplitters: optional(boolean()),\r\n    showCloseButton: optional(boolean()),\r\n    showSaveButton: optional(boolean()),\r\n});\r\n\r\nexport const lockWorkspaceDecoder: Decoder<LockWorkspaceConfig> = object({\r\n    workspaceId: nonEmptyStringDecoder,\r\n    config: optional(workspaceLockConfigDecoder)\r\n});\r\n\r\nexport const windowLockConfigDecoder: Decoder<WorkspaceWindowLockConfig> = object({\r\n    allowExtract: optional(boolean()),\r\n    showCloseButton: optional(boolean())\r\n});\r\n\r\nexport const lockWindowDecoder: Decoder<LockWindowConfig> = object({\r\n    windowPlacementId: nonEmptyStringDecoder,\r\n    config: optional(windowLockConfigDecoder)\r\n});\r\n\r\nexport const rowLockConfigDecoder: Decoder<RowLockConfig> = object({\r\n    allowDrop: optional(boolean()),\r\n});\r\n\r\nexport const columnLockConfigDecoder: Decoder<ColumnLockConfig> = object({\r\n    allowDrop: optional(boolean()),\r\n});\r\n\r\nexport const groupLockConfigDecoder: Decoder<GroupLockConfig> = object({\r\n    allowExtract: optional(boolean()),\r\n    allowDrop: optional(boolean()),\r\n    showMaximizeButton: optional(boolean()),\r\n    showEjectButton: optional(boolean()),\r\n    showAddWindowButton: optional(boolean()),\r\n});\r\n\r\nexport const lockRowDecoder: Decoder<LockRowConfig> = object({\r\n    itemId: nonEmptyStringDecoder,\r\n    type: constant(\"row\"),\r\n    config: optional(rowLockConfigDecoder)\r\n});\r\n\r\nexport const lockColumnDecoder: Decoder<LockColumnConfig> = object({\r\n    itemId: nonEmptyStringDecoder,\r\n    type: constant(\"column\"),\r\n    config: optional(columnLockConfigDecoder)\r\n});\r\n\r\nexport const lockGroupDecoder: Decoder<LockGroupConfig> = object({\r\n    itemId: nonEmptyStringDecoder,\r\n    type: constant(\"group\"),\r\n    config: optional(groupLockConfigDecoder)\r\n});\r\n\r\n\r\nexport const lockContainerDecoder: Decoder<LockContainerConfig> = oneOf<LockGroupConfig | LockColumnConfig | LockRowConfig>(lockRowDecoder, lockColumnDecoder, lockGroupDecoder);\r\n","import { Glue42Web } from \"../../web\";\r\nimport { openWindowConfigDecoder, coreWindowDataDecoder, windowHelloDecoder, helloSuccessDecoder, simpleWindowDecoder, windowBoundsResultDecoder, windowUrlResultDecoder, windowMoveResizeConfigDecoder, windowTitleConfigDecoder } from \"../shared/decoders\";\r\nimport { BridgeOperation } from \"../shared/types\";\r\nimport { WebWindowModel } from \"./webWindow\";\r\n\r\nexport type WindowOperationTypes = \"openWindow\" | \"getBounds\" |\r\n    \"windowHello\" | \"windowAdded\" | \"windowRemoved\" | \"getUrl\" |\r\n    \"moveResize\" | \"focus\" | \"close\" | \"getTitle\" | \"setTitle\";\r\n\r\nexport const operations: { [key in WindowOperationTypes]: BridgeOperation } = {\r\n    openWindow: { name: \"openWindow\", dataDecoder: openWindowConfigDecoder, resultDecoder: coreWindowDataDecoder },\r\n    windowHello: { name: \"windowHello\", dataDecoder: windowHelloDecoder, resultDecoder: helloSuccessDecoder },\r\n    windowAdded: { name: \"windowAdded\", dataDecoder: coreWindowDataDecoder },\r\n    windowRemoved: { name: \"windowRemoved\", dataDecoder: simpleWindowDecoder },\r\n    getBounds: { name: \"getBounds\", dataDecoder: simpleWindowDecoder, resultDecoder: windowBoundsResultDecoder },\r\n    getUrl: { name: \"getUrl\", dataDecoder: simpleWindowDecoder, resultDecoder: windowUrlResultDecoder },\r\n    moveResize: { name: \"moveResize\", dataDecoder: windowMoveResizeConfigDecoder },\r\n    focus: { name: \"focus\", dataDecoder: simpleWindowDecoder },\r\n    close: { name: \"close\", dataDecoder: simpleWindowDecoder },\r\n    getTitle: { name: \"getTitle\", dataDecoder: simpleWindowDecoder, resultDecoder: windowTitleConfigDecoder },\r\n    setTitle: { name: \"setTitle\", dataDecoder: windowTitleConfigDecoder }\r\n};\r\n\r\nexport interface WindowProjection {\r\n    id: string;\r\n    model: WebWindowModel;\r\n    api: Glue42Web.Windows.WebWindow;\r\n}\r\n\r\nexport interface WindowHello {\r\n    windowId?: string;\r\n}\r\n\r\nexport interface OpenWindowConfig {\r\n    name: string;\r\n    url: string;\r\n    options?: Glue42Web.Windows.Settings;\r\n}\r\n\r\nexport interface SimpleWindowCommand {\r\n    windowId: string;\r\n}\r\n\r\nexport interface WindowTitleConfig {\r\n    windowId: string;\r\n    title: string;\r\n}\r\n\r\nexport interface WindowMoveResizeConfig {\r\n    windowId: string;\r\n    top?: number;\r\n    left?: number;\r\n    width?: number;\r\n    height?: number;\r\n    relative?: boolean;\r\n}\r\n\r\nexport interface HelloSuccess {\r\n    windows: CoreWindowData[];\r\n    isWorkspaceFrame: boolean;\r\n}\r\n\r\nexport interface CoreWindowData {\r\n    windowId: string;\r\n    name: string;\r\n}\r\n\r\nexport interface WindowBoundsResult {\r\n    windowId: string;\r\n    bounds: Glue42Web.Windows.Bounds;\r\n}\r\n\r\nexport interface WindowUrlResult {\r\n    windowId: string;\r\n    url: string;\r\n}\r\n","\"use strict\";\r\nfunction createRegistry(options) {\r\n    if (options && options.errorHandling\r\n        && typeof options.errorHandling !== \"function\"\r\n        && options.errorHandling !== \"log\"\r\n        && options.errorHandling !== \"silent\"\r\n        && options.errorHandling !== \"throw\") {\r\n        throw new Error(\"Invalid options passed to createRegistry. Prop errorHandling should be [\\\"log\\\" | \\\"silent\\\" | \\\"throw\\\" | (err) => void], but \" + typeof options.errorHandling + \" was passed\");\r\n    }\r\n    var _userErrorHandler = options && typeof options.errorHandling === \"function\" && options.errorHandling;\r\n    var callbacks = {};\r\n    function add(key, callback) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            callbacksForKey = [];\r\n            callbacks[key] = callbacksForKey;\r\n        }\r\n        callbacksForKey.push(callback);\r\n        return function () {\r\n            var allForKey = callbacks[key];\r\n            if (!allForKey) {\r\n                return;\r\n            }\r\n            allForKey = allForKey.reduce(function (acc, element, index) {\r\n                if (!(element === callback && acc.length === index)) {\r\n                    acc.push(element);\r\n                }\r\n                return acc;\r\n            }, []);\r\n            callbacks[key] = allForKey;\r\n        };\r\n    }\r\n    function execute(key) {\r\n        var argumentsArr = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            argumentsArr[_i - 1] = arguments[_i];\r\n        }\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey || callbacksForKey.length === 0) {\r\n            return [];\r\n        }\r\n        var results = [];\r\n        callbacksForKey.forEach(function (callback) {\r\n            try {\r\n                var result = callback.apply(undefined, argumentsArr);\r\n                results.push(result);\r\n            }\r\n            catch (err) {\r\n                results.push(undefined);\r\n                _handleError(err, key);\r\n            }\r\n        });\r\n        return results;\r\n    }\r\n    function _handleError(exceptionArtifact, key) {\r\n        var errParam = exceptionArtifact instanceof Error ? exceptionArtifact : new Error(exceptionArtifact);\r\n        if (_userErrorHandler) {\r\n            _userErrorHandler(errParam);\r\n            return;\r\n        }\r\n        var msg = \"[ERROR] callback-registry: User callback for key \\\"\" + key + \"\\\" failed: \" + errParam.stack;\r\n        if (options) {\r\n            switch (options.errorHandling) {\r\n                case \"log\":\r\n                    return console.error(msg);\r\n                case \"silent\":\r\n                    return;\r\n                case \"throw\":\r\n                    throw new Error(msg);\r\n            }\r\n        }\r\n        console.error(msg);\r\n    }\r\n    function clear() {\r\n        callbacks = {};\r\n    }\r\n    function clearKey(key) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            return;\r\n        }\r\n        delete callbacks[key];\r\n    }\r\n    return {\r\n        add: add,\r\n        execute: execute,\r\n        clear: clear,\r\n        clearKey: clearKey\r\n    };\r\n}\r\n;\r\ncreateRegistry.default = createRegistry;\r\nmodule.exports = createRegistry;\r\n//# sourceMappingURL=index.js.map","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { number } from \"decoder-validate\";\r\nimport { Glue42Web } from \"../../web\";\r\nimport { GlueBridge } from \"../communication/bridge\";\r\nimport { anyDecoder, boundsDecoder, nonEmptyStringDecoder, nonNegativeNumberDecoder } from \"../shared/decoders\";\r\nimport { operations, SimpleWindowCommand, WindowBoundsResult, WindowMoveResizeConfig, WindowTitleConfig, WindowUrlResult } from \"./protocol\";\r\nimport {\r\n    default as CallbackRegistryFactory,\r\n    CallbackRegistry,\r\n    UnsubscribeFunction,\r\n} from \"callback-registry\";\r\n\r\nexport class WebWindowModel {\r\n    private readonly registry: CallbackRegistry = CallbackRegistryFactory();\r\n    private readonly myCtxKey: string;\r\n    private ctxUnsubscribe: UnsubscribeFunction | undefined;\r\n    private me!: Glue42Web.Windows.WebWindow;\r\n\r\n    constructor(private readonly _id: string, private readonly _name: string, private readonly _bridge: GlueBridge) {\r\n        this.myCtxKey = `___window___${this.id}`;\r\n    }\r\n\r\n    public get id(): string {\r\n        return this._id.slice();\r\n    }\r\n\r\n    public get name(): string {\r\n        return this._name.slice();\r\n    }\r\n\r\n    public clean(): void {\r\n        if (this.ctxUnsubscribe) {\r\n            this.ctxUnsubscribe();\r\n        }\r\n    }\r\n\r\n    public async toApi(): Promise<Glue42Web.Windows.WebWindow> {\r\n\r\n        this.ctxUnsubscribe = await this._bridge.contextLib.subscribe(this.myCtxKey, (data) => this.registry.execute(\"context-updated\", data));\r\n\r\n        const api = {\r\n            id: this.id,\r\n            name: this.name,\r\n            getURL: this.getURL.bind(this),\r\n            moveResize: this.moveResize.bind(this),\r\n            resizeTo: this.resizeTo.bind(this),\r\n            moveTo: this.moveTo.bind(this),\r\n            focus: this.focus.bind(this),\r\n            close: this.close.bind(this),\r\n            getTitle: this.getTitle.bind(this),\r\n            setTitle: this.setTitle.bind(this),\r\n            getBounds: this.getBounds.bind(this),\r\n            getContext: this.getContext.bind(this),\r\n            updateContext: this.updateContext.bind(this),\r\n            setContext: this.setContext.bind(this),\r\n            onContextUpdated: this.onContextUpdated.bind(this)\r\n        };\r\n\r\n        this.me = Object.freeze(api);\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async getURL(): Promise<string> {\r\n        const result = await this._bridge.send<SimpleWindowCommand, WindowUrlResult>(\"windows\", operations.getUrl, { windowId: this.id });\r\n\r\n        return result.url;\r\n    }\r\n\r\n    private async moveResize(dimension: Partial<Glue42Web.Windows.Bounds>): Promise<Glue42Web.Windows.WebWindow> {\r\n        const targetBounds = boundsDecoder.runWithException(dimension);\r\n\r\n        const commandArgs = Object.assign({}, targetBounds, { windowId: this.id, relative: false });\r\n\r\n        await this._bridge.send<WindowMoveResizeConfig, void>(\"windows\", operations.moveResize, commandArgs);\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async resizeTo(width?: number, height?: number): Promise<Glue42Web.Windows.WebWindow> {\r\n        if (typeof width === \"undefined\" && typeof height === \"undefined\") {\r\n            return this.me;\r\n        }\r\n\r\n        if (typeof width !== \"undefined\") {\r\n            nonNegativeNumberDecoder.runWithException(width);\r\n        }\r\n\r\n        if (typeof height !== \"undefined\") {\r\n            nonNegativeNumberDecoder.runWithException(height);\r\n        }\r\n\r\n        const commandArgs = Object.assign({}, { width, height }, { windowId: this.id, relative: true });\r\n\r\n        await this._bridge.send<WindowMoveResizeConfig, void>(\"windows\", operations.moveResize, commandArgs);\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async moveTo(top?: number, left?: number): Promise<Glue42Web.Windows.WebWindow> {\r\n        if (typeof top === \"undefined\" && typeof left === \"undefined\") {\r\n            return this.me;\r\n        }\r\n\r\n        if (typeof top !== \"undefined\") {\r\n            number().runWithException(top);\r\n        }\r\n\r\n        if (typeof left !== \"undefined\") {\r\n            number().runWithException(left);\r\n        }\r\n\r\n        const commandArgs = Object.assign({}, { top, left }, { windowId: this.id, relative: true });\r\n\r\n        await this._bridge.send<WindowMoveResizeConfig, void>(\"windows\", operations.moveResize, commandArgs);\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async focus(): Promise<Glue42Web.Windows.WebWindow> {\r\n        await this._bridge.send<SimpleWindowCommand, void>(\"windows\", operations.focus, { windowId: this.id });\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async close(): Promise<Glue42Web.Windows.WebWindow> {\r\n        await this._bridge.send<SimpleWindowCommand, void>(\"windows\", operations.close, { windowId: this.id });\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async getTitle(): Promise<string> {\r\n        const result = await this._bridge.send<SimpleWindowCommand, WindowTitleConfig>(\"windows\", operations.getTitle, { windowId: this.id });\r\n\r\n        return result.title;\r\n    }\r\n\r\n    private async setTitle(title: string): Promise<Glue42Web.Windows.WebWindow> {\r\n        const ttl = nonEmptyStringDecoder.runWithException(title);\r\n\r\n        await this._bridge.send<WindowTitleConfig, void>(\"windows\", operations.setTitle, { windowId: this.id, title: ttl });\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async getBounds(): Promise<Glue42Web.Windows.Bounds> {\r\n        const result = await this._bridge.send<SimpleWindowCommand, WindowBoundsResult>(\"windows\", operations.getBounds, { windowId: this.id });\r\n\r\n        return result.bounds;\r\n    }\r\n\r\n    private async getContext(): Promise<any> {\r\n        const ctx = await this._bridge.contextLib.get(this.myCtxKey);\r\n        return ctx;\r\n    }\r\n\r\n    private async updateContext(context: any): Promise<Glue42Web.Windows.WebWindow> {\r\n        const ctx = anyDecoder.runWithException(context);\r\n\r\n        await this._bridge.contextLib.update(this.myCtxKey, ctx);\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private async setContext(context: any): Promise<Glue42Web.Windows.WebWindow> {\r\n        const ctx = anyDecoder.runWithException(context);\r\n\r\n        await this._bridge.contextLib.set(this.myCtxKey, ctx);\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private onContextUpdated(callback: (context: any, window: Glue42Web.Windows.WebWindow) => void): UnsubscribeFunction {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Cannot subscribe to context changes, because the provided callback is not a function!\");\r\n        }\r\n\r\n        const wrappedCallback = (data: any): void => {\r\n            callback(data, this.me);\r\n        };\r\n\r\n        return this.registry.add(\"context-updated\", wrappedCallback);\r\n    }\r\n\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Glue42Core } from \"@glue42/core\";\r\nimport { Glue42Web } from \"../../web\";\r\nimport { GlueBridge } from \"../communication/bridge\";\r\nimport { nonEmptyStringDecoder, windowOpenSettingsDecoder, windowOperationTypesDecoder } from \"../shared/decoders\";\r\nimport { LibController } from \"../shared/types\";\r\nimport { HelloSuccess, OpenWindowConfig, CoreWindowData, WindowHello, operations, WindowBoundsResult, WindowTitleConfig, WindowUrlResult, WindowMoveResizeConfig, WindowProjection } from \"./protocol\";\r\nimport {\r\n    default as CallbackRegistryFactory,\r\n    CallbackRegistry,\r\n    UnsubscribeFunction,\r\n} from \"callback-registry\";\r\nimport { IoC } from \"../shared/ioc\";\r\n\r\nexport class WindowsController implements LibController {\r\n\r\n    private readonly registry: CallbackRegistry = CallbackRegistryFactory();\r\n    private platformRegistration!: Promise<void>;\r\n    private ioc!: IoC;\r\n    private bridge!: GlueBridge;\r\n    private publicWindowId!: string;\r\n    private actualWindowId: string | undefined;\r\n    private allWindowProjections: WindowProjection[] = [];\r\n    private me!: Glue42Web.Windows.WebWindow;\r\n    private logger!: Glue42Web.Logger.API;\r\n\r\n    public async start(coreGlue: Glue42Core.GlueCore, ioc: IoC): Promise<void> {\r\n\r\n        this.logger = coreGlue.logger.subLogger(\"windows.controller.web\");\r\n\r\n        this.logger.trace(\"starting the web windows controller\");\r\n\r\n        this.publicWindowId = (coreGlue as any).connection.transport.publicWindowId;\r\n        this.actualWindowId = coreGlue.interop.instance.windowId;\r\n\r\n        this.addWindowOperationExecutors();\r\n\r\n        this.ioc = ioc;\r\n        this.bridge = ioc.bridge;\r\n\r\n        this.logger.trace(`set the public window id: ${this.publicWindowId} and actual window id: ${this.actualWindowId}, set the bridge operations and ioc, registering with the platform now`);\r\n\r\n        this.platformRegistration = this.registerWithPlatform();\r\n\r\n        await this.platformRegistration;\r\n\r\n        this.logger.trace(\"registration with the platform successful, attaching the windows property to glue and returning\");\r\n\r\n        const api = this.toApi();\r\n\r\n        (coreGlue as Glue42Web.API).windows = api;\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    public async handleBridgeMessage(args: any): Promise<void> {\r\n        await this.platformRegistration;\r\n\r\n        const operationName = windowOperationTypesDecoder.runWithException(args.operation);\r\n\r\n        const operation = operations[operationName];\r\n\r\n        if (!operation.execute) {\r\n            return;\r\n        }\r\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n        let operationData: any = args.data;\r\n\r\n        if (operation.dataDecoder) {\r\n            operationData = operation.dataDecoder.runWithException(args.data);\r\n        }\r\n\r\n        return await operation.execute(operationData);\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    private async open(name: string, url: string, options?: Glue42Web.Windows.Settings): Promise<Glue42Web.Windows.WebWindow> {\r\n        nonEmptyStringDecoder.runWithException(name);\r\n        nonEmptyStringDecoder.runWithException(url);\r\n        const settings = windowOpenSettingsDecoder.runWithException(options);\r\n\r\n        const windowSuccess = await this.bridge.send<OpenWindowConfig, CoreWindowData>(\"windows\", operations.openWindow, { name, url, options: settings });\r\n\r\n        const projection = await this.ioc.buildWebWindow(windowSuccess.windowId, windowSuccess.name);\r\n\r\n        return projection.api;\r\n    }\r\n\r\n    private list(): Glue42Web.Windows.WebWindow[] {\r\n        return this.allWindowProjections.map((projection) => projection.api);\r\n    }\r\n\r\n    private findById(id: string): Glue42Web.Windows.WebWindow | undefined {\r\n        nonEmptyStringDecoder.runWithException(id);\r\n\r\n        return this.allWindowProjections.find((projection) => projection.id === id)?.api;\r\n    }\r\n\r\n    private toApi(): Glue42Web.Windows.API {\r\n        return {\r\n            open: this.open.bind(this),\r\n            my: this.my.bind(this),\r\n            list: this.list.bind(this),\r\n            findById: this.findById.bind(this),\r\n            onWindowAdded: this.onWindowAdded.bind(this),\r\n            onWindowRemoved: this.onWindowRemoved.bind(this)\r\n        };\r\n    }\r\n\r\n    private addWindowOperationExecutors(): void {\r\n        operations.windowAdded.execute = this.handleWindowAdded.bind(this);\r\n        operations.windowRemoved.execute = this.handleWindowRemoved.bind(this);\r\n        operations.getBounds.execute = this.handleGetBounds.bind(this);\r\n        operations.getTitle.execute = this.handleGetTitle.bind(this);\r\n        operations.getUrl.execute = this.handleGetUrl.bind(this);\r\n        operations.moveResize.execute = this.handleMoveResize.bind(this);\r\n        operations.setTitle.execute = this.handleSetTitle.bind(this);\r\n    }\r\n\r\n    private my(): Glue42Web.Windows.WebWindow {\r\n        return Object.assign({}, this.me);\r\n    }\r\n\r\n    private onWindowAdded(callback: (window: Glue42Web.Windows.WebWindow) => void): UnsubscribeFunction {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Cannot subscribe to window added, because the provided callback is not a function!\");\r\n        }\r\n\r\n        return this.registry.add(\"window-added\", callback);\r\n    }\r\n\r\n    private onWindowRemoved(callback: (window: Glue42Web.Windows.WebWindow) => void): UnsubscribeFunction {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Cannot subscribe to window removed, because the provided callback is not a function!\");\r\n        }\r\n\r\n        return this.registry.add(\"window-removed\", callback);\r\n    }\r\n\r\n    private async sayHello(): Promise<HelloSuccess> {\r\n        const helloSuccess = await this.bridge.send<WindowHello, HelloSuccess>(\"windows\", operations.windowHello, { windowId: this.actualWindowId });\r\n\r\n        return helloSuccess;\r\n    }\r\n\r\n    private async registerWithPlatform(): Promise<void> {\r\n\r\n        const { windows, isWorkspaceFrame } = await this.sayHello();\r\n\r\n        this.logger.trace(\"the platform responded to the hello message\");\r\n\r\n        if (!isWorkspaceFrame) {\r\n            this.logger.trace(\"i am not treated as a workspace frame, setting my window\");\r\n\r\n            const myWindow = windows.find((w) => w.windowId === this.publicWindowId);\r\n\r\n            if (!myWindow) {\r\n                throw new Error(\"Cannot initialize the window library, because I received no information about me from the platform\");\r\n            }\r\n\r\n            this.me = (await this.ioc.buildWebWindow(this.publicWindowId, myWindow.name)).api;\r\n        }\r\n\r\n        const currentWindows = await Promise.all(windows.map((w) => this.ioc.buildWebWindow(w.windowId, w.name)));\r\n\r\n        this.logger.trace(\"all windows projections are completed, building the list collection\");\r\n\r\n        this.allWindowProjections.push(...currentWindows);\r\n    }\r\n\r\n    private async handleWindowAdded(data: CoreWindowData): Promise<void> {\r\n        if (this.allWindowProjections.some((projection) => projection.id === data.windowId)) {\r\n            return;\r\n        }\r\n\r\n        const webWindowProjection = await this.ioc.buildWebWindow(data.windowId, data.name);\r\n        this.allWindowProjections.push(webWindowProjection);\r\n\r\n        this.registry.execute(\"window-added\", webWindowProjection.api);\r\n    }\r\n\r\n    private async handleWindowRemoved(data: CoreWindowData): Promise<void> {\r\n        const removed = this.allWindowProjections.find((w) => w.id === data.windowId);\r\n\r\n        if (!removed) {\r\n            return;\r\n        }\r\n\r\n        this.allWindowProjections = this.allWindowProjections.filter((w) => w.id !== data.windowId);\r\n\r\n        removed.model.clean();\r\n\r\n        this.registry.execute(\"window-removed\", removed.api);\r\n    }\r\n\r\n    private async handleGetBounds(): Promise<WindowBoundsResult> {\r\n        return {\r\n            windowId: this.me.id,\r\n            bounds: {\r\n                top: window.screenTop,\r\n                left: window.screenLeft,\r\n                width: window.innerWidth,\r\n                height: window.innerHeight\r\n            }\r\n        };\r\n    }\r\n\r\n    private async handleGetTitle(): Promise<WindowTitleConfig> {\r\n        return {\r\n            windowId: this.me.id,\r\n            title: document.title\r\n        };\r\n    }\r\n\r\n    private async handleGetUrl(): Promise<WindowUrlResult> {\r\n        return {\r\n            windowId: this.me.id,\r\n            url: window.location.href\r\n        };\r\n    }\r\n\r\n    private async handleMoveResize(config: WindowMoveResizeConfig): Promise<void> {\r\n\r\n        const targetTop = typeof config.top === \"number\" ? config.top :\r\n            config.relative ? 0 : window.screenTop;\r\n\r\n        const targetLeft = typeof config.left === \"number\" ? config.left :\r\n            config.relative ? 0 : window.screenLeft;\r\n\r\n        const targetHeight = typeof config.height === \"number\" ? config.height :\r\n            config.relative ? 0 : window.innerHeight;\r\n\r\n        const targetWidth = typeof config.width === \"number\" ? config.width :\r\n            config.relative ? 0 : window.innerWidth;\r\n\r\n        const moveMethod = config.relative ? window.moveBy : window.moveTo;\r\n        const resizeMethod = config.relative ? window.resizeBy : window.resizeTo;\r\n\r\n        moveMethod(targetLeft, targetTop);\r\n        resizeMethod(targetWidth, targetHeight);\r\n    }\r\n\r\n    private async handleSetTitle(config: WindowTitleConfig): Promise<void> {\r\n        document.title = config.title;\r\n    }\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\n\r\nexport const PromiseWrap = <T>(promise: () => Promise<T>, timeoutMilliseconds: number, timeoutMessage?: string): Promise<T> => {\r\n    return new Promise<T>((resolve, reject) => {\r\n\r\n        let promiseActive = true;\r\n\r\n        const timeout = setTimeout(() => {\r\n            if (!promiseActive) {\r\n                return;\r\n            }\r\n            promiseActive = false;\r\n            const message = timeoutMessage || `Promise timeout hit: ${timeoutMilliseconds}`;\r\n\r\n            reject(message);\r\n        }, timeoutMilliseconds);\r\n\r\n        promise()\r\n            .then((result) => {\r\n                if (!promiseActive) {\r\n                    return;\r\n                }\r\n                promiseActive = false;\r\n                clearTimeout(timeout);\r\n                resolve(result);\r\n            })\r\n            .catch((error) => {\r\n                if (!promiseActive) {\r\n                    return;\r\n                }\r\n                promiseActive = false;\r\n                clearTimeout(timeout);\r\n                reject(error);\r\n            });\r\n    });\r\n};\r\n\r\nexport const PromisePlus = <T>(executor: (resolve: (value?: T | PromiseLike<T> | undefined) => void, reject: (reason?: any) => void) => void, timeoutMilliseconds: number, timeoutMessage?: string): Promise<T> => {\r\n\r\n    return new Promise<T>((resolve, reject) => {\r\n        const timeout = setTimeout(() => {\r\n\r\n            const message = timeoutMessage || `Promise timeout hit: ${timeoutMilliseconds}`;\r\n\r\n            reject(message);\r\n        }, timeoutMilliseconds);\r\n\r\n        const providedPromise = new Promise<T>(executor);\r\n\r\n        providedPromise\r\n            .then((result) => {\r\n                clearTimeout(timeout);\r\n                resolve(result);\r\n            })\r\n            .catch((error) => {\r\n                clearTimeout(timeout);\r\n                reject(error);\r\n            });\r\n    });\r\n\r\n};\r\n","import {\r\n    isWindowInSwimlaneResultDecoder,\r\n    frameSummaryDecoder,\r\n    workspaceSnapshotResultDecoder,\r\n    frameSummariesResultDecoder,\r\n    workspaceCreateConfigDecoder,\r\n    getFrameSummaryConfigDecoder,\r\n    layoutSummariesDecoder,\r\n    openWorkspaceConfigDecoder,\r\n    workspaceSummariesResultDecoder,\r\n    voidResultDecoder,\r\n    exportedLayoutsResultDecoder,\r\n    workspaceLayoutDecoder,\r\n    deleteLayoutConfigDecoder,\r\n    simpleItemConfigDecoder,\r\n    resizeItemConfigDecoder,\r\n    moveFrameConfigDecoder,\r\n    frameSnapshotResultDecoder,\r\n    simpleWindowOperationSuccessResultDecoder,\r\n    setItemTitleConfigDecoder,\r\n    moveWindowConfigDecoder,\r\n    addWindowConfigDecoder,\r\n    addContainerConfigDecoder,\r\n    addItemResultDecoder,\r\n    bundleConfigDecoder,\r\n    workspaceStreamDataDecoder,\r\n    frameStreamDataDecoder,\r\n    containerStreamDataDecoder,\r\n    windowStreamDataDecoder,\r\n    workspaceLayoutSaveConfigDecoder,\r\n    pingResultDecoder,\r\n    frameStateConfigDecoder,\r\n    frameStateResultDecoder,\r\n    workspacesImportLayoutDecoder,\r\n    workspaceSelectorDecoder,\r\n    lockWorkspaceDecoder,\r\n    lockWindowDecoder,\r\n    lockContainerDecoder\r\n} from \"../shared/decoders\";\r\nimport { ControlOperation, StreamOperation } from \"../types/protocol\";\r\nimport { WorkspaceEventType } from \"../types/subscription\";\r\n\r\ntype OperationsTypes = \"isWindowInWorkspace\" |\r\n    \"createWorkspace\" |\r\n    \"getAllFramesSummaries\" |\r\n    \"getFrameSummary\" |\r\n    \"getAllWorkspacesSummaries\" |\r\n    \"getWorkspaceSnapshot\" |\r\n    \"getAllLayoutsSummaries\" |\r\n    \"openWorkspace\" |\r\n    \"deleteLayout\" |\r\n    \"saveLayout\" |\r\n    \"importLayout\" |\r\n    \"exportAllLayouts\" |\r\n    \"restoreItem\" |\r\n    \"maximizeItem\" |\r\n    \"focusItem\" |\r\n    \"closeItem\" |\r\n    \"resizeItem\" |\r\n    \"moveFrame\" |\r\n    \"getFrameSnapshot\" |\r\n    \"forceLoadWindow\" |\r\n    \"ejectWindow\" |\r\n    \"setItemTitle\" |\r\n    \"moveWindowTo\" |\r\n    \"addWindow\" |\r\n    \"addContainer\" |\r\n    \"bundleWorkspace\" |\r\n    \"ping\" |\r\n    \"changeFrameState\" |\r\n    \"getFrameState\" |\r\n    \"hibernateWorkspace\" |\r\n    \"resumeWorkspace\" |\r\n    \"lockWorkspace\" |\r\n    \"lockWindow\" |\r\n    \"lockContainer\";\r\ntype MethodsTypes = \"control\" | \"frameStream\" | \"workspaceStream\" | \"containerStream\" | \"windowStream\";\r\n\r\nexport const webPlatformMethodName = \"T42.Web.Platform.Control\";\r\nexport const webPlatformWspStreamName = \"T42.Web.Platform.WSP.Stream\";\r\n\r\nexport const METHODS: { [key in MethodsTypes]: { name: string; isStream: boolean } } = {\r\n    control: { name: \"T42.Workspaces.Control\", isStream: false },\r\n    frameStream: { name: \"T42.Workspaces.Stream.Frame\", isStream: true },\r\n    workspaceStream: { name: \"T42.Workspaces.Stream.Workspace\", isStream: true },\r\n    containerStream: { name: \"T42.Workspaces.Stream.Container\", isStream: true },\r\n    windowStream: { name: \"T42.Workspaces.Stream.Window\", isStream: true }\r\n};\r\n\r\nexport const STREAMS: { [key in WorkspaceEventType]: StreamOperation } = {\r\n    frame: { name: \"T42.Workspaces.Stream.Frame\", payloadDecoder: frameStreamDataDecoder },\r\n    workspace: { name: \"T42.Workspaces.Stream.Workspace\", payloadDecoder: workspaceStreamDataDecoder },\r\n    container: { name: \"T42.Workspaces.Stream.Container\", payloadDecoder: containerStreamDataDecoder },\r\n    window: { name: \"T42.Workspaces.Stream.Window\", payloadDecoder: windowStreamDataDecoder }\r\n};\r\n\r\nexport const OPERATIONS: { [key in OperationsTypes]: ControlOperation } = {\r\n    ping: { name: \"ping\", resultDecoder: pingResultDecoder },\r\n    isWindowInWorkspace: { name: \"isWindowInWorkspace\", argsDecoder: simpleItemConfigDecoder, resultDecoder: isWindowInSwimlaneResultDecoder },\r\n    createWorkspace: { name: \"createWorkspace\", resultDecoder: workspaceSnapshotResultDecoder, argsDecoder: workspaceCreateConfigDecoder },\r\n    getAllFramesSummaries: { name: \"getAllFramesSummaries\", resultDecoder: frameSummariesResultDecoder },\r\n    getFrameSummary: { name: \"getFrameSummary\", resultDecoder: frameSummaryDecoder, argsDecoder: getFrameSummaryConfigDecoder },\r\n    getAllWorkspacesSummaries: { name: \"getAllWorkspacesSummaries\", resultDecoder: workspaceSummariesResultDecoder },\r\n    getWorkspaceSnapshot: { name: \"getWorkspaceSnapshot\", resultDecoder: workspaceSnapshotResultDecoder, argsDecoder: simpleItemConfigDecoder },\r\n    getAllLayoutsSummaries: { name: \"getAllLayoutsSummaries\", resultDecoder: layoutSummariesDecoder },\r\n    openWorkspace: { name: \"openWorkspace\", argsDecoder: openWorkspaceConfigDecoder, resultDecoder: workspaceSnapshotResultDecoder },\r\n    deleteLayout: { name: \"deleteLayout\", resultDecoder: voidResultDecoder, argsDecoder: deleteLayoutConfigDecoder },\r\n    saveLayout: { name: \"saveLayout\", resultDecoder: workspaceLayoutDecoder, argsDecoder: workspaceLayoutSaveConfigDecoder },\r\n    importLayout: { name: \"importLayout\", resultDecoder: voidResultDecoder, argsDecoder: workspacesImportLayoutDecoder },\r\n    exportAllLayouts: { name: \"exportAllLayouts\", resultDecoder: exportedLayoutsResultDecoder },\r\n    restoreItem: { name: \"restoreItem\", argsDecoder: simpleItemConfigDecoder, resultDecoder: voidResultDecoder },\r\n    maximizeItem: { name: \"maximizeItem\", argsDecoder: simpleItemConfigDecoder, resultDecoder: voidResultDecoder },\r\n    focusItem: { name: \"focusItem\", argsDecoder: simpleItemConfigDecoder, resultDecoder: voidResultDecoder },\r\n    closeItem: { name: \"closeItem\", argsDecoder: simpleItemConfigDecoder, resultDecoder: voidResultDecoder },\r\n    resizeItem: { name: \"resizeItem\", argsDecoder: resizeItemConfigDecoder, resultDecoder: voidResultDecoder },\r\n    changeFrameState: { name: \"changeFrameState\", argsDecoder: frameStateConfigDecoder, resultDecoder: voidResultDecoder },\r\n    getFrameState: { name: \"getFrameState\", argsDecoder: simpleItemConfigDecoder, resultDecoder: frameStateResultDecoder },\r\n    moveFrame: { name: \"moveFrame\", argsDecoder: moveFrameConfigDecoder, resultDecoder: voidResultDecoder },\r\n    getFrameSnapshot: { name: \"getFrameSnapshot\", argsDecoder: simpleItemConfigDecoder, resultDecoder: frameSnapshotResultDecoder },\r\n    forceLoadWindow: { name: \"forceLoadWindow\", argsDecoder: simpleItemConfigDecoder, resultDecoder: simpleWindowOperationSuccessResultDecoder },\r\n    ejectWindow: { name: \"ejectWindow\", argsDecoder: simpleItemConfigDecoder, resultDecoder: simpleWindowOperationSuccessResultDecoder },\r\n    setItemTitle: { name: \"setItemTitle\", argsDecoder: setItemTitleConfigDecoder, resultDecoder: voidResultDecoder },\r\n    moveWindowTo: { name: \"moveWindowTo\", argsDecoder: moveWindowConfigDecoder, resultDecoder: voidResultDecoder },\r\n    addWindow: { name: \"addWindow\", argsDecoder: addWindowConfigDecoder, resultDecoder: addItemResultDecoder },\r\n    addContainer: { name: \"addContainer\", argsDecoder: addContainerConfigDecoder, resultDecoder: addItemResultDecoder },\r\n    bundleWorkspace: { name: \"bundleWorkspace\", argsDecoder: bundleConfigDecoder, resultDecoder: voidResultDecoder },\r\n    hibernateWorkspace: { name: \"hibernateWorkspace\", argsDecoder: workspaceSelectorDecoder, resultDecoder: voidResultDecoder },\r\n    resumeWorkspace: { name: \"resumeWorkspace\", argsDecoder: workspaceSelectorDecoder, resultDecoder: voidResultDecoder },\r\n    lockWorkspace: { name: \"lockWorkspace\", argsDecoder: lockWorkspaceDecoder, resultDecoder: voidResultDecoder },\r\n    lockWindow: { name: \"lockWindow\", argsDecoder: lockWindowDecoder, resultDecoder: voidResultDecoder },\r\n    lockContainer: { name: \"lockContainer\", argsDecoder: lockContainerDecoder, resultDecoder: voidResultDecoder }\r\n};\r\n","import { CallbackRegistry, UnsubscribeFunction } from \"callback-registry\";\r\nimport { SubscriptionConfig, ActiveSubscription, WorkspaceEventType, WorkspaceEventAction, WorkspacePayload, WorkspaceEventScope } from \"../types/subscription\";\r\nimport { STREAMS } from \"./constants\";\r\nimport { OPERATIONS } from \"./constants\";\r\nimport { eventTypeDecoder, streamRequestArgumentsDecoder, workspaceEventActionDecoder } from \"../shared/decoders\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { InteropTransport } from \"./interop-transport\";\r\n\r\nexport class Bridge {\r\n\r\n    private readonly activeSubscriptions: ActiveSubscription[] = [];\r\n\r\n    constructor(\r\n        private readonly transport: InteropTransport,\r\n        private readonly registry: CallbackRegistry\r\n    ) { }\r\n\r\n    public async createCoreEventSubscription(): Promise<void> {\r\n        await this.transport.coreSubscriptionReady(this.handleCoreEvent.bind(this));\r\n    }\r\n\r\n    public handleCoreSubscription(config: SubscriptionConfig): UnsubscribeFunction {\r\n        const registryKey = `${config.eventType}-${config.action}`;\r\n        const scope = config.scope;\r\n        const scopeId = config.scopeId;\r\n\r\n        return this.registry.add(registryKey, (args) => {\r\n            const scopeConfig = {\r\n                type: scope,\r\n                id: scopeId\r\n            };\r\n\r\n            const receivedIds = {\r\n                frame: args.frameSummary?.id || args.windowSummary?.config.frameId,\r\n                workspace: args.workspaceSummary?.id || args.windowSummary?.config.workspaceId,\r\n                window: args.windowSummary?.config.windowId\r\n            };\r\n\r\n            const shouldInvokeCallback = this.checkScopeMatch(scopeConfig, receivedIds);\r\n\r\n            if (!shouldInvokeCallback) {\r\n                return;\r\n            }\r\n\r\n            config.callback(args);\r\n        });\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    public async send<T>(operationName: string, operationArgs?: any): Promise<T> {\r\n\r\n        const operationDefinition = Object.values(OPERATIONS).find((operation) => operation.name === operationName);\r\n\r\n        if (!operationDefinition) {\r\n            throw new Error(`Cannot find definition for operation name: ${operationName}`);\r\n        }\r\n\r\n        if (operationDefinition.argsDecoder) {\r\n            try {\r\n                operationDefinition.argsDecoder.runWithException(operationArgs);\r\n            } catch (error) {\r\n                throw new Error(`Unexpected internal outgoing validation error: ${error.message}, for input: ${JSON.stringify(error.input)}, for operation ${operationName}`);\r\n            }\r\n        }\r\n\r\n        let operationResult;\r\n\r\n        try {\r\n            const operationResultRaw = await this.transport.transmitControl(operationDefinition.name, operationArgs);\r\n            operationResult = operationDefinition.resultDecoder.runWithException(operationResultRaw);\r\n        } catch (error) {\r\n            if (error.kind) {\r\n                throw new Error(`Unexpected internal incoming validation error: ${error.message}, for input: ${JSON.stringify(error.input)}, for operation ${operationName}`);\r\n            }\r\n            throw new Error(error.message);\r\n        }\r\n\r\n        return operationResult;\r\n    }\r\n\r\n    public async subscribe(config: SubscriptionConfig): Promise<Glue42Workspaces.Unsubscribe> {\r\n        let activeSub = this.getActiveSubscription(config);\r\n        const registryKey = this.getRegistryKey(config);\r\n\r\n        if (!activeSub) {\r\n            const stream = STREAMS[config.eventType];\r\n            const gdSub = await this.transport.subscribe(stream.name, this.getBranchKey(config), config.eventType);\r\n\r\n            gdSub.onData((streamData) => {\r\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                const data = streamData.data as { action: string; payload: any };\r\n\r\n                // important to decode without exception, because we do not want to throw an exception here\r\n                const requestedArgumentsResult = streamRequestArgumentsDecoder.run(streamData.requestArguments);\r\n                const actionResult = workspaceEventActionDecoder.run(data.action);\r\n\r\n                if (!requestedArgumentsResult.ok || !actionResult.ok) {\r\n                    return;\r\n                }\r\n\r\n                const streamType = requestedArgumentsResult.result.type;\r\n                const branch = requestedArgumentsResult.result.branch;\r\n\r\n                const validatedPayload = STREAMS[streamType].payloadDecoder.run(data.payload);\r\n\r\n                if (!validatedPayload.ok) {\r\n                    return;\r\n                }\r\n\r\n                const keyToExecute = `${streamType}-${branch}-${actionResult.result}`;\r\n                this.registry.execute(keyToExecute, validatedPayload.result);\r\n            });\r\n\r\n            activeSub = {\r\n                streamType: config.eventType,\r\n                level: config.scope,\r\n                levelId: config.scopeId,\r\n                callbacksCount: 0,\r\n                gdSub\r\n            };\r\n\r\n            this.activeSubscriptions.push(activeSub);\r\n        }\r\n\r\n        const unsubscribe = this.registry.add(registryKey, config.callback);\r\n\r\n        ++activeSub.callbacksCount;\r\n\r\n        return (): void => {\r\n            unsubscribe();\r\n\r\n            --activeSub.callbacksCount;\r\n\r\n            if (activeSub.callbacksCount === 0) {\r\n                activeSub.gdSub.close();\r\n                this.activeSubscriptions.splice(this.activeSubscriptions.indexOf(activeSub), 1);\r\n            }\r\n        };\r\n    }\r\n\r\n    private checkScopeMatch(scope: { type: WorkspaceEventScope; id?: string }, receivedIds: { frame: string; workspace: string; window: string }): boolean {\r\n\r\n        if (scope.type === \"global\") {\r\n            return true;\r\n        }\r\n\r\n        if (scope.type === \"frame\" && scope.id === receivedIds.frame) {\r\n            return true;\r\n        }\r\n\r\n        if (scope.type === \"workspace\" && scope.id === receivedIds.workspace) {\r\n            return true;\r\n        }\r\n\r\n        if (scope.type === \"window\" && scope.id === receivedIds.window) {\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    private handleCoreEvent(args: any): void {\r\n        const data = args.data;\r\n        try {\r\n            const verifiedAction: WorkspaceEventAction = workspaceEventActionDecoder.runWithException(data.action);\r\n            const verifiedType: WorkspaceEventType = eventTypeDecoder.runWithException(data.type);\r\n            const verifiedPayload: WorkspacePayload = STREAMS[verifiedType].payloadDecoder.runWithException(data.payload);\r\n\r\n            const registryKey = `${verifiedType}-${verifiedAction}`;\r\n\r\n            this.registry.execute(registryKey, verifiedPayload);\r\n        } catch (error) {\r\n            console.warn(`Cannot handle event with data ${JSON.stringify(data)}, because of validation error: ${error.message}`);\r\n        }\r\n    }\r\n\r\n    private getBranchKey(config: SubscriptionConfig): string {\r\n        return config.scope === \"global\" ? config.scope : `${config.scope}_${config.scopeId}`;\r\n    }\r\n\r\n    private getRegistryKey(config: SubscriptionConfig): string {\r\n        return `${config.eventType}-${this.getBranchKey(config)}-${config.action}`;\r\n    }\r\n\r\n    private getActiveSubscription(config: SubscriptionConfig): ActiveSubscription {\r\n        return this.activeSubscriptions\r\n            .find((activeSub) => activeSub.streamType === config.eventType &&\r\n                activeSub.level === config.scope &&\r\n                activeSub.levelId === config.scopeId\r\n            );\r\n    }\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Glue42Web } from \"../../web\";\r\nimport { appHelloSuccessDecoder, applicationStartConfigDecoder, appRemoveConfigDecoder, appsExportOperationDecoder, baseApplicationDataDecoder, basicInstanceDataDecoder, instanceDataDecoder, windowHelloDecoder } from \"../shared/decoders\";\r\nimport { BridgeOperation } from \"../shared/types\";\r\n\r\nexport type AppManagerOperationTypes = \"appHello\" | \"applicationAdded\" |\r\n    \"applicationRemoved\" | \"applicationChanged\" | \"instanceStarted\" | \"instanceStopped\" |\r\n    \"applicationStart\" | \"instanceStop\" | \"import\" | \"remove\" | \"export\" | \"clear\";\r\n\r\nexport const operations: { [key in AppManagerOperationTypes]: BridgeOperation } = {\r\n    appHello: { name: \"appHello\", dataDecoder: windowHelloDecoder, resultDecoder: appHelloSuccessDecoder },\r\n    applicationAdded: { name: \"applicationAdded\", dataDecoder: baseApplicationDataDecoder },\r\n    applicationRemoved: { name: \"applicationRemoved\", dataDecoder: baseApplicationDataDecoder },\r\n    applicationChanged: { name: \"applicationChanged\", dataDecoder: baseApplicationDataDecoder },\r\n    instanceStarted: { name: \"instanceStarted\", dataDecoder: instanceDataDecoder },\r\n    instanceStopped: { name: \"instanceStopped\", dataDecoder: instanceDataDecoder },\r\n    applicationStart: { name: \"applicationStart\", dataDecoder: applicationStartConfigDecoder, resultDecoder: instanceDataDecoder },\r\n    instanceStop: { name: \"instanceStop\", dataDecoder: basicInstanceDataDecoder },\r\n    import: { name: \"import\" },\r\n    remove: { name: \"remove\", dataDecoder: appRemoveConfigDecoder },\r\n    export: { name: \"export\", resultDecoder: appsExportOperationDecoder },\r\n    clear: { name: \"clear\" }\r\n};\r\n\r\nexport interface InstanceData {\r\n    id: string;\r\n    applicationName: string;\r\n}\r\n\r\nexport interface BaseApplicationData {\r\n    name: string;\r\n    type: string;\r\n    userProperties: any;\r\n    title?: string;\r\n    version?: string;\r\n    icon?: string;\r\n    caption?: string;\r\n}\r\n\r\nexport interface ApplicationData extends BaseApplicationData {\r\n    instances: InstanceData[];\r\n}\r\n\r\nexport interface AppRemoveConfig {\r\n    name: string;\r\n}\r\n\r\nexport interface AppsExportOperation {\r\n    definitions: Glue42Web.AppManager.Definition[];\r\n}\r\n\r\nexport interface AppsImportOperation {\r\n    definitions: Array<Glue42Web.AppManager.Definition | FDC3Definition>;\r\n    mode: \"replace\" | \"merge\";\r\n}\r\n\r\nexport interface AppHelloSuccess {\r\n    apps: ApplicationData[];\r\n}\r\n\r\nexport interface ApplicationStartConfig {\r\n    name: string;\r\n    waitForAGMReady: boolean;\r\n    id?: string;\r\n    context?: any;\r\n    top?: number;\r\n    left?: number;\r\n    width?: number;\r\n    height?: number;\r\n    relativeTo?: string;\r\n    relativeDirection?: \"top\" | \"left\" | \"right\" | \"bottom\";\r\n}\r\n\r\nexport interface BasicInstanceData {\r\n    id: string;\r\n}\r\n\r\nexport interface FDC3Definition {\r\n    name: string;\r\n    title?: string;\r\n    version?: string;\r\n    appId: string;\r\n    manifest: string;\r\n    manifestType: string;\r\n    tooltip?: string;\r\n    description?: string;\r\n    contactEmail?: string;\r\n    supportEmail?: string;\r\n    publisher?: string;\r\n    images?: Array<{ url?: string }>;\r\n    icons?: Array<{ icon?: string }>;\r\n    customConfig?: any;\r\n    intents?: Intent[];\r\n}\r\n\r\nexport interface Intent {\r\n    name: string;\r\n    displayName?: string;\r\n    contexts?: string[];\r\n    customConfig?: any;\r\n}\r\n\r\nexport interface DefinitionParseResult {\r\n    valid: Glue42Web.AppManager.Definition[];\r\n    invalid: Array<{ app: string; error: string }>;\r\n}\r\n","/* eslint-disable @typescript-eslint/no-unused-vars */\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Glue42Core } from \"@glue42/core\";\r\nimport { Glue42Web } from \"../../web\";\r\nimport { GlueBridge } from \"../communication/bridge\";\r\nimport { allApplicationDefinitionsDecoder, appManagerOperationTypesDecoder, importModeDecoder, nonEmptyStringDecoder } from \"../shared/decoders\";\r\nimport { IoC } from \"../shared/ioc\";\r\nimport { LibController } from \"../shared/types\";\r\nimport { WindowHello } from \"../windows/protocol\";\r\nimport { AppsImportOperation, AppHelloSuccess, ApplicationStartConfig, AppRemoveConfig, InstanceData, operations, BaseApplicationData, AppsExportOperation, DefinitionParseResult } from \"./protocol\";\r\nimport {\r\n    default as CallbackRegistryFactory,\r\n    CallbackRegistry,\r\n    UnsubscribeFunction,\r\n} from \"callback-registry\";\r\n\r\nexport class AppManagerController implements LibController {\r\n    private readonly registry: CallbackRegistry = CallbackRegistryFactory();\r\n    private ioc!: IoC;\r\n    private bridge!: GlueBridge;\r\n    private publicWindowId!: string;\r\n    private actualWindowId: string | undefined;\r\n    private me: Glue42Web.AppManager.Instance | undefined;\r\n    private applications: Glue42Web.AppManager.Application[] = [];\r\n    private instances: Glue42Web.AppManager.Instance[] = [];\r\n    private platformRegistration!: Promise<void>;\r\n    private logger!: Glue42Web.Logger.API;\r\n\r\n    public async start(coreGlue: Glue42Core.GlueCore, ioc: IoC): Promise<void> {\r\n        this.logger = coreGlue.logger.subLogger(\"appManger.controller.web\");\r\n\r\n        this.logger.trace(\"starting the web appManager controller\");\r\n\r\n        this.publicWindowId = (coreGlue as any).connection.transport.publicWindowId;\r\n        this.actualWindowId = coreGlue.interop.instance.windowId;\r\n\r\n        this.addOperationsExecutors();\r\n\r\n        this.ioc = ioc;\r\n        this.bridge = ioc.bridge;\r\n\r\n        this.platformRegistration = this.registerWithPlatform();\r\n\r\n        await this.platformRegistration;\r\n\r\n        this.logger.trace(\"registration with the platform successful, attaching the appManager property to glue and returning\");\r\n\r\n        const api = this.toApi();\r\n\r\n        (coreGlue as Glue42Web.API).appManager = api;\r\n    }\r\n\r\n    public async handleBridgeMessage(args: any): Promise<void> {\r\n        await this.platformRegistration;\r\n\r\n        const operationName = appManagerOperationTypesDecoder.runWithException(args.operation);\r\n\r\n        const operation = operations[operationName];\r\n\r\n        if (!operation.execute) {\r\n            return;\r\n        }\r\n\r\n        let operationData: any = args.data;\r\n\r\n        if (operation.dataDecoder) {\r\n            operationData = operation.dataDecoder.runWithException(args.data);\r\n        }\r\n\r\n        return await operation.execute(operationData);\r\n    }\r\n\r\n    public onInstanceStarted(callback: (instance: Glue42Web.AppManager.Instance) => any): UnsubscribeFunction {\r\n        return this.registry.add(\"instance-started\", callback, this.instances);\r\n    }\r\n\r\n    public onInstanceStopped(callback: (instance: Glue42Web.AppManager.Instance) => any): UnsubscribeFunction {\r\n        return this.registry.add(\"instance-stopped\", callback);\r\n    }\r\n\r\n    public async startApplication(appName: string, context?: object, options?: Glue42Web.AppManager.ApplicationStartOptions): Promise<Glue42Web.AppManager.Instance> {\r\n        // reuseId is a hidden property for workspaces-only use\r\n        const startOptions: ApplicationStartConfig = {\r\n            name: appName,\r\n            waitForAGMReady: options?.waitForAGMReady ?? true,\r\n            context,\r\n            top: options?.top,\r\n            left: options?.left,\r\n            width: options?.width,\r\n            height: options?.height,\r\n            relativeTo: options?.relativeTo,\r\n            relativeDirection: options?.relativeDirection,\r\n            id: (options as any)?.reuseId\r\n        };\r\n\r\n        const openResult = await this.bridge.send<ApplicationStartConfig, InstanceData>(\"appManager\", operations.applicationStart, startOptions);\r\n\r\n        const app = this.applications.find((a) => a.name === openResult.applicationName) as Glue42Web.AppManager.Application;\r\n\r\n        return this.ioc.buildInstance(openResult, app);\r\n    }\r\n\r\n    private toApi(): Glue42Web.AppManager.API {\r\n        const api: Glue42Web.AppManager.API = {\r\n            myInstance: this.me as unknown as Glue42Web.AppManager.Instance,\r\n            inMemory: {\r\n                import: this.import.bind(this),\r\n                remove: this.remove.bind(this),\r\n                export: this.export.bind(this),\r\n                clear: this.clear.bind(this)\r\n            },\r\n            application: this.getApplication.bind(this),\r\n            applications: this.getApplications.bind(this),\r\n            instances: this.getInstances.bind(this),\r\n            onAppAdded: this.onAppAdded.bind(this),\r\n            onAppChanged: this.onAppChanged.bind(this),\r\n            onAppRemoved: this.onAppRemoved.bind(this),\r\n            onInstanceStarted: this.onInstanceStarted.bind(this),\r\n            onInstanceStopped: this.onInstanceStopped.bind(this)\r\n        };\r\n\r\n        return api;\r\n    }\r\n\r\n    private addOperationsExecutors(): void {\r\n        operations.applicationAdded.execute = this.handleApplicationAddedMessage.bind(this);\r\n        operations.applicationRemoved.execute = this.handleApplicationRemovedMessage.bind(this);\r\n        operations.applicationChanged.execute = this.handleApplicationChangedMessage.bind(this);\r\n        operations.instanceStarted.execute = this.handleInstanceStartedMessage.bind(this);\r\n        operations.instanceStopped.execute = this.handleInstanceStoppedMessage.bind(this);\r\n    }\r\n\r\n    private onAppAdded(callback: (app: Glue42Web.AppManager.Application) => any): UnsubscribeFunction {\r\n        return this.registry.add(\"application-added\", callback, this.applications);\r\n    }\r\n\r\n    private onAppRemoved(callback: (app: Glue42Web.AppManager.Application) => any): UnsubscribeFunction {\r\n        return this.registry.add(\"application-removed\", callback);\r\n    }\r\n\r\n    private onAppChanged(callback: (app: Glue42Web.AppManager.Application) => any): UnsubscribeFunction {\r\n        return this.registry.add(\"application-changed\", callback);\r\n    }\r\n\r\n\r\n    private async handleApplicationAddedMessage(appData: BaseApplicationData): Promise<void> {\r\n\r\n        if (this.applications.some((app) => app.name === appData.name)) {\r\n            return;\r\n        }\r\n\r\n        const app = await this.ioc.buildApplication(appData, []);\r\n\r\n        const instances = this.instances.filter((instance) => instance.application.name === app.name);\r\n\r\n        app.instances.push(...instances);\r\n\r\n        this.applications.push(app);\r\n\r\n        this.registry.execute(\"application-added\", app);\r\n    }\r\n\r\n    private async handleApplicationRemovedMessage(appData: BaseApplicationData): Promise<void> {\r\n        const appIndex = this.applications.findIndex((app) => app.name === appData.name);\r\n\r\n        if (appIndex < 0) {\r\n            return;\r\n        }\r\n\r\n        const app = this.applications[appIndex];\r\n\r\n        this.applications.splice(appIndex, 1);\r\n\r\n        this.registry.execute(\"application-removed\", app);\r\n    }\r\n\r\n    private async handleApplicationChangedMessage(appData: BaseApplicationData): Promise<void> {\r\n        const app = this.applications.find((app) => app.name === appData.name);\r\n\r\n        if (!app) {\r\n            return this.handleApplicationAddedMessage(appData);\r\n        }\r\n\r\n        app.title = appData.title as string;\r\n        app.version = appData.version as string;\r\n        app.icon = appData.icon as string;\r\n        app.caption = appData.caption as string;\r\n        app.userProperties = appData.userProperties;\r\n\r\n        this.registry.execute(\"application-changed\", app);\r\n    }\r\n\r\n    private async handleInstanceStartedMessage(instanceData: InstanceData): Promise<void> {\r\n        if (this.instances.some((instance) => instance.id === instanceData.id)) {\r\n            return;\r\n        }\r\n\r\n        const application = this.applications.find((app) => app.name === instanceData.applicationName);\r\n\r\n        if (!application) {\r\n            throw new Error(`Cannot add instance: ${instanceData.id}, because there is no application definition associated with it`);\r\n        }\r\n\r\n        const instance = this.ioc.buildInstance(instanceData, application);\r\n\r\n        this.instances.push(instance);\r\n        application.instances.push(instance);\r\n\r\n        this.registry.execute(\"instance-started\", instance);\r\n    }\r\n\r\n    private async handleInstanceStoppedMessage(instanceData: InstanceData): Promise<void> {\r\n        const instance = this.instances.find((i) => i.id === instanceData.id);\r\n\r\n        if (instance) {\r\n            const instIdx = this.instances.findIndex((inst) => inst.id === instanceData.id);\r\n            this.instances.splice(instIdx, 1);\r\n        }\r\n\r\n        const application = this.applications.find((app) => app.instances.some((inst) => inst.id === instanceData.id));\r\n\r\n        if (application) {\r\n            const instIdxApps = application.instances.findIndex((inst) => inst.id === instanceData.id);\r\n            application.instances.splice(instIdxApps, 1);\r\n        }\r\n\r\n        if (!instance) {\r\n            return;\r\n        }\r\n\r\n        this.registry.execute(\"instance-stopped\", instance);\r\n    }\r\n\r\n    private async import(definitions: Glue42Web.AppManager.Definition[], mode: \"replace\" | \"merge\" = \"replace\"): Promise<Glue42Web.AppManager.ImportResult> {\r\n        importModeDecoder.runWithException(mode);\r\n\r\n        if (!Array.isArray(definitions)) {\r\n            throw new Error(\"Import must be called with an array of definitions\");\r\n        }\r\n\r\n        const parseResult = definitions.reduce<DefinitionParseResult>((soFar, definition) => {\r\n\r\n            const decodeResult = allApplicationDefinitionsDecoder.run(definition);\r\n\r\n            if (!decodeResult.ok) {\r\n                soFar.invalid.push({ app: definition?.name, error: JSON.stringify(decodeResult.error) });\r\n            } else {\r\n                soFar.valid.push(definition);\r\n            }\r\n\r\n            return soFar;\r\n        }, { valid: [], invalid: [] });\r\n\r\n        await this.bridge.send<AppsImportOperation, void>(\"appManager\", operations.import, { definitions: parseResult.valid, mode });\r\n\r\n        return {\r\n            imported: parseResult.valid.map((valid) => valid.name),\r\n            errors: parseResult.invalid\r\n        };\r\n    }\r\n\r\n    private async remove(name: string): Promise<void> {\r\n        nonEmptyStringDecoder.runWithException(name);\r\n\r\n        await this.bridge.send<AppRemoveConfig, void>(\"appManager\", operations.remove, { name });\r\n    }\r\n\r\n    private async clear(): Promise<void> {\r\n        await this.bridge.send<void, void>(\"appManager\", operations.clear, undefined);\r\n    }\r\n\r\n    private async export(): Promise<Glue42Web.AppManager.Definition[]> {\r\n\r\n        const response = await this.bridge.send<void, AppsExportOperation>(\"appManager\", operations.export, undefined);\r\n\r\n        return response.definitions;\r\n    }\r\n\r\n    private getApplication(name: string): Glue42Web.AppManager.Application {\r\n        const verifiedName = nonEmptyStringDecoder.runWithException(name);\r\n\r\n        return this.applications.find((app) => app.name === verifiedName) as Glue42Web.AppManager.Application;\r\n    }\r\n\r\n    private getApplications(): Glue42Web.AppManager.Application[] {\r\n        return this.applications.slice();\r\n    }\r\n\r\n    private getInstances(): Glue42Web.AppManager.Instance[] {\r\n        return this.instances.slice();\r\n    }\r\n\r\n    private async registerWithPlatform(): Promise<void> {\r\n        const result = await this.bridge.send<WindowHello, AppHelloSuccess>(\"appManager\", operations.appHello, { windowId: this.actualWindowId });\r\n\r\n        this.logger.trace(\"the platform responded to the hello message with a full list of apps\");\r\n\r\n        this.applications = await Promise.all(result.apps.map((app) => this.ioc.buildApplication(app, app.instances)));\r\n\r\n        this.instances = this.applications.reduce<Glue42Web.AppManager.Instance[]>((instancesSoFar, app) => {\r\n\r\n            instancesSoFar.push(...app.instances);\r\n\r\n            return instancesSoFar;\r\n        }, []);\r\n\r\n        this.me = this.findMyInstance();\r\n\r\n        this.logger.trace(`all applications were parsed and saved. I am ${this.me ? \"NOT a\" : \"a\"} valid instance`);\r\n    }\r\n\r\n    private findMyInstance(): Glue42Web.AppManager.Instance | undefined {\r\n        for (const app of this.applications) {\r\n            const foundInstance = app.instances.find((instance) => instance.id === this.publicWindowId);\r\n\r\n            if (foundInstance) {\r\n                return foundInstance;\r\n            }\r\n        }\r\n    }\r\n}\r\n","import { Glue42Web } from \"../../web\";\r\nimport { GlueBridge } from \"../communication/bridge\";\r\nimport { BasicInstanceData, InstanceData, operations } from \"./protocol\";\r\n\r\nexport class InstanceModel {\r\n    private me!: Glue42Web.AppManager.Instance;\r\n    private readonly myCtxKey: string;\r\n\r\n    constructor(private readonly data: InstanceData, private readonly bridge: GlueBridge, private readonly application: Glue42Web.AppManager.Application) {\r\n        this.myCtxKey = `___instance___${this.data.id}`;\r\n    }\r\n\r\n    public toApi(): Glue42Web.AppManager.Instance {\r\n        const agm = this.bridge.getInteropInstance(this.data.id);\r\n\r\n        const api: Glue42Web.AppManager.Instance = {\r\n            id: this.data.id,\r\n            agm,\r\n            application: this.application,\r\n            stop: this.stop.bind(this),\r\n            getContext: this.getContext.bind(this)\r\n        };\r\n\r\n        this.me = Object.freeze(api);\r\n\r\n        return this.me;\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    private async getContext(): Promise<any> {\r\n        return this.bridge.contextLib.get(this.myCtxKey);\r\n    }\r\n\r\n    private async stop(): Promise<void> {\r\n        await this.bridge.send<BasicInstanceData, void>(\"appManager\", operations.instanceStop, { id: this.data.id });\r\n    }\r\n}","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Glue42Web } from \"../../web\";\r\nimport { AppManagerController } from \"./controller\";\r\nimport { BaseApplicationData } from \"./protocol\";\r\n\r\nexport class ApplicationModel {\r\n    private me!: Glue42Web.AppManager.Application;\r\n\r\n    constructor(\r\n        private readonly data: BaseApplicationData,\r\n        private readonly instances: Glue42Web.AppManager.Instance[],\r\n        private readonly controller: AppManagerController,\r\n    ) { }\r\n\r\n    public toApi(): Glue42Web.AppManager.Application {\r\n        const api: Glue42Web.AppManager.Application = {\r\n            name: this.data.name,\r\n            title: this.data.title as string,\r\n            version: this.data.version as string,\r\n            icon: this.data.icon as string,\r\n            caption: this.data.caption as string,\r\n            userProperties: this.data.userProperties,\r\n            instances: this.instances,\r\n            start: this.start.bind(this),\r\n            onInstanceStarted: this.onInstanceStarted.bind(this),\r\n            onInstanceStopped: this.onInstanceStopped.bind(this)\r\n        };\r\n\r\n        this.me = api;\r\n\r\n        return this.me;\r\n    }\r\n\r\n    private onInstanceStarted(callback: (instance: Glue42Web.AppManager.Instance) => any): void {\r\n\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"OnInstanceStarted requires a single argument of type function\");\r\n        }\r\n\r\n        this.controller.onInstanceStarted((instance) => {\r\n            if (instance.application.name === this.data.name) {\r\n                callback(instance);\r\n            }\r\n        });\r\n    }\r\n\r\n    private onInstanceStopped(callback: (instance: Glue42Web.AppManager.Instance) => any): void {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"OnInstanceStarted requires a single argument of type function\");\r\n        }\r\n\r\n        this.controller.onInstanceStopped((instance) => {\r\n            if (instance.application.name === this.data.name) {\r\n                callback(instance);\r\n            }\r\n        });\r\n    }\r\n\r\n    private async start(context?: object, options?: Glue42Web.AppManager.ApplicationStartOptions): Promise<Glue42Web.AppManager.Instance> {\r\n        // todo: validation\r\n        return this.controller.startApplication(this.data.name, context, options);\r\n    }\r\n}","import { Glue42Web } from \"../../web\";\r\nimport { allLayoutsFullConfigDecoder, allLayoutsSummariesResultDecoder, getAllLayoutsConfigDecoder, glueLayoutDecoder, layoutsImportConfigDecoder, optionalSimpleLayoutResult, simpleLayoutConfigDecoder } from \"../shared/decoders\";\r\nimport { BridgeOperation } from \"../shared/types\";\r\n\r\nexport type LayoutsOperationTypes = \"layoutAdded\" | \"layoutChanged\" | \"layoutRemoved\" |\r\n    \"get\" | \"getAll\" | \"export\" | \"import\" | \"remove\";\r\n\r\nexport const operations: { [key in LayoutsOperationTypes]: BridgeOperation } = {\r\n    layoutAdded: { name: \"layoutAdded\", dataDecoder: glueLayoutDecoder },\r\n    layoutChanged: { name: \"layoutChanged\", dataDecoder: glueLayoutDecoder },\r\n    layoutRemoved: { name: \"layoutRemoved\", dataDecoder: glueLayoutDecoder },\r\n    get: { name: \"get\", dataDecoder: simpleLayoutConfigDecoder, resultDecoder: optionalSimpleLayoutResult },\r\n    getAll: { name: \"getAll\", dataDecoder: getAllLayoutsConfigDecoder, resultDecoder: allLayoutsSummariesResultDecoder },\r\n    export: { name: \"export\", dataDecoder: getAllLayoutsConfigDecoder, resultDecoder: allLayoutsFullConfigDecoder },\r\n    import: { name: \"import\", dataDecoder: layoutsImportConfigDecoder },\r\n    remove: { name: \"remove\", dataDecoder: simpleLayoutConfigDecoder }\r\n};\r\n\r\nexport interface SimpleLayoutConfig {\r\n    name: string;\r\n    type: Glue42Web.Layouts.LayoutType;\r\n}\r\n\r\nexport interface GetAllLayoutsConfig {\r\n    type: Glue42Web.Layouts.LayoutType;\r\n}\r\n\r\nexport interface LayoutsImportConfig {\r\n    layouts: Glue42Web.Layouts.Layout[];\r\n    mode: \"replace\" | \"merge\";\r\n}\r\n\r\nexport interface AllLayoutsFullConfig {\r\n    layouts: Glue42Web.Layouts.Layout[];\r\n}\r\n\r\nexport interface AllLayoutsSummariesResult {\r\n    summaries: Glue42Web.Layouts.LayoutSummary[];\r\n}\r\n\r\nexport interface SimpleLayoutResult {\r\n    layout: Glue42Web.Layouts.Layout;\r\n}\r\n\r\nexport interface OptionalSimpleLayoutResult {\r\n    layout?: Glue42Web.Layouts.Layout;\r\n}\r\n\r\nexport interface LayoutParseResult {\r\n    valid: Glue42Web.Layouts.Layout[];\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Glue42Core } from \"@glue42/core\";\r\nimport { IoC } from \"../shared/ioc\";\r\nimport { LibController } from \"../shared/types\";\r\nimport {\r\n    default as CallbackRegistryFactory,\r\n    CallbackRegistry,\r\n    UnsubscribeFunction,\r\n} from \"callback-registry\";\r\nimport { Glue42Web } from \"../../web\";\r\nimport { GlueBridge } from \"../communication/bridge\";\r\nimport { glueLayoutDecoder, importModeDecoder, layoutsOperationTypesDecoder, layoutTypeDecoder, newLayoutOptionsDecoder, nonEmptyStringDecoder, restoreOptionsDecoder } from \"../shared/decoders\";\r\nimport { AllLayoutsFullConfig, AllLayoutsSummariesResult, GetAllLayoutsConfig, LayoutParseResult, LayoutsImportConfig, operations, OptionalSimpleLayoutResult, SimpleLayoutConfig } from \"./protocol\";\r\n\r\nexport class LayoutsController implements LibController {\r\n    private readonly registry: CallbackRegistry = CallbackRegistryFactory();\r\n    private bridge!: GlueBridge;\r\n    private logger!: Glue42Web.Logger.API;\r\n\r\n    public async start(coreGlue: Glue42Core.GlueCore, ioc: IoC): Promise<void> {\r\n        this.logger = coreGlue.logger.subLogger(\"layouts.controller.web\");\r\n\r\n        this.logger.trace(\"starting the web layouts controller\");\r\n\r\n        this.bridge = ioc.bridge;\r\n\r\n        this.addOperationsExecutors();\r\n\r\n        const api = this.toApi();\r\n\r\n        this.logger.trace(\"no need for platform registration, attaching the layouts property to glue and returning\");\r\n\r\n        (coreGlue as Glue42Web.API).layouts = api;\r\n    }\r\n\r\n    public async handleBridgeMessage(args: any): Promise<void> {\r\n        const operationName = layoutsOperationTypesDecoder.runWithException(args.operation);\r\n\r\n        const operation = operations[operationName];\r\n\r\n        if (!operation.execute) {\r\n            return;\r\n        }\r\n\r\n        let operationData: any = args.data;\r\n\r\n        if (operation.dataDecoder) {\r\n            operationData = operation.dataDecoder.runWithException(args.data);\r\n        }\r\n\r\n        return await operation.execute(operationData);\r\n    }\r\n\r\n    private toApi(): Glue42Web.Layouts.API {\r\n        const api: Glue42Web.Layouts.API = {\r\n            get: this.get.bind(this),\r\n            getAll: this.getAll.bind(this),\r\n            export: this.export.bind(this),\r\n            import: this.import.bind(this),\r\n            save: this.save.bind(this),\r\n            restore: this.restore.bind(this),\r\n            remove: this.remove.bind(this),\r\n            onAdded: this.onAdded.bind(this),\r\n            onChanged: this.onChanged.bind(this),\r\n            onRemoved: this.onRemoved.bind(this)\r\n        };\r\n\r\n        return Object.freeze(api);\r\n    }\r\n\r\n    private addOperationsExecutors(): void {\r\n        operations.layoutAdded.execute = this.handleOnAdded.bind(this);\r\n        operations.layoutChanged.execute = this.handleOnChanged.bind(this);\r\n        operations.layoutRemoved.execute = this.handleOnRemoved.bind(this);\r\n    }\r\n\r\n    private async get(name: string, type: Glue42Web.Layouts.LayoutType): Promise<Glue42Web.Layouts.Layout | undefined> {\r\n        nonEmptyStringDecoder.runWithException(name);\r\n        layoutTypeDecoder.runWithException(type);\r\n\r\n        const result = await this.bridge.send<SimpleLayoutConfig, OptionalSimpleLayoutResult>(\"layouts\", operations.get, { name, type });\r\n\r\n        return result.layout;\r\n    }\r\n\r\n    private async getAll(type: Glue42Web.Layouts.LayoutType): Promise<Glue42Web.Layouts.LayoutSummary[]> {\r\n        layoutTypeDecoder.runWithException(type);\r\n\r\n        const result = await this.bridge.send<GetAllLayoutsConfig, AllLayoutsSummariesResult>(\"layouts\", operations.getAll, { type });\r\n\r\n        return result.summaries;\r\n    }\r\n\r\n    private async export(type?: Glue42Web.Layouts.LayoutType): Promise<Glue42Web.Layouts.Layout[]> {\r\n        if (type) {\r\n            layoutTypeDecoder.runWithException(type);\r\n        }\r\n\r\n        // supports only workspaces for the moment\r\n        const result = await this.bridge.send<GetAllLayoutsConfig, AllLayoutsFullConfig>(\"layouts\", operations.export, { type: \"Workspace\" });\r\n\r\n        return result.layouts;\r\n    }\r\n\r\n    private async import(layouts: Glue42Web.Layouts.Layout[], mode: \"replace\" | \"merge\" = \"replace\"): Promise<void> {\r\n        importModeDecoder.runWithException(mode);\r\n\r\n        if (!Array.isArray(layouts)) {\r\n            throw new Error(\"Import must be called with an array of layouts\");\r\n        }\r\n\r\n        const parseResult = layouts.reduce<LayoutParseResult>((soFar, layout) => {\r\n\r\n            const decodeResult = glueLayoutDecoder.run(layout);\r\n\r\n            if (decodeResult.ok) {\r\n                soFar.valid.push(layout);\r\n            } else {\r\n                this.logger.warn(`A layout with name: ${layout.name} was not imported, because of error: ${JSON.stringify(decodeResult.error)}`);\r\n            }\r\n\r\n            return soFar;\r\n\r\n        }, { valid: [] });\r\n\r\n        await this.bridge.send<LayoutsImportConfig, void>(\"layouts\", operations.import, { layouts: parseResult.valid, mode });\r\n    }\r\n\r\n    private async save(layout: Glue42Web.Layouts.NewLayoutOptions): Promise<Glue42Web.Layouts.Layout> {\r\n        newLayoutOptionsDecoder.runWithException(layout);\r\n\r\n        throw new Error(\"Save is not supported in Core at the moment\");\r\n    }\r\n\r\n    private async restore(options: Glue42Web.Layouts.RestoreOptions): Promise<void> {\r\n        restoreOptionsDecoder.runWithException(options);\r\n\r\n        throw new Error(\"Restore is not supported in Core at the moment\");\r\n    }\r\n\r\n    private async remove(type: Glue42Web.Layouts.LayoutType, name: string): Promise<void> {\r\n        layoutTypeDecoder.runWithException(type);\r\n        nonEmptyStringDecoder.runWithException(name);\r\n\r\n        await this.bridge.send<SimpleLayoutConfig, void>(\"layouts\", operations.remove, { type, name });\r\n    }\r\n\r\n    private onAdded(callback: (layout: Glue42Web.Layouts.Layout) => void): UnsubscribeFunction {\r\n        // eslint-disable-next-line @typescript-eslint/no-empty-function\r\n        this.export().then((layouts) => layouts.forEach((layout) => callback(layout))).catch(() => { });\r\n        return this.registry.add(operations.layoutAdded.name, callback);\r\n    }\r\n\r\n    private onChanged(callback: (layout: Glue42Web.Layouts.Layout) => void): UnsubscribeFunction {\r\n        return this.registry.add(operations.layoutChanged.name, callback);\r\n    }\r\n\r\n    private onRemoved(callback: (layout: Glue42Web.Layouts.Layout) => void): UnsubscribeFunction {\r\n        return this.registry.add(operations.layoutRemoved.name, callback);\r\n    }\r\n\r\n    private async handleOnAdded(layout: Glue42Web.Layouts.Layout): Promise<void> {\r\n        this.registry.execute(operations.layoutAdded.name, layout);\r\n    }\r\n\r\n    private async handleOnChanged(layout: Glue42Web.Layouts.Layout): Promise<void> {\r\n        this.registry.execute(operations.layoutChanged.name, layout);\r\n    }\r\n\r\n    private async handleOnRemoved(layout: Glue42Web.Layouts.Layout): Promise<void> {\r\n        this.registry.execute(operations.layoutRemoved.name, layout);\r\n    }\r\n}","import { Glue42Core } from \"@glue42/core\";\r\nimport { Glue42Web } from \"../../web\";\r\nimport { LibController } from \"../shared/types\";\r\n\r\nexport class NotificationsController implements LibController {\r\n    private logger!: Glue42Web.Logger.API;\r\n    private interop!: Glue42Core.AGM.API;\r\n\r\n    public async start(coreGlue: Glue42Core.GlueCore): Promise<void> {\r\n        this.logger = coreGlue.logger.subLogger(\"notifications.controller.web\");\r\n\r\n        this.logger.trace(\"starting the web notifications controller\");\r\n\r\n        this.interop = coreGlue.interop;\r\n\r\n        const api = this.toApi();\r\n\r\n        (coreGlue as Glue42Web.API).notifications = api;\r\n\r\n        this.logger.trace(\"notifications are ready\");\r\n    }\r\n\r\n    public async handleBridgeMessage(): Promise<void> {\r\n        // noop\r\n    }\r\n\r\n    private toApi(): Glue42Web.Notifications.API {\r\n        const api: Glue42Web.Notifications.API = {\r\n            raise: this.raise.bind(this)\r\n        };\r\n\r\n        return Object.freeze(api);\r\n    }\r\n\r\n    private async raise(options: Glue42Web.Notifications.Glue42NotificationOptions): Promise<Notification> {\r\n\r\n        if (!(\"Notification\" in window)) {\r\n            throw new Error(\"this browser does not support desktop notification\");\r\n        }\r\n        let permissionPromise: Promise<NotificationPermission>;\r\n        if (Notification.permission === \"granted\") {\r\n            permissionPromise = Promise.resolve(\"granted\");\r\n        } else if (Notification.permission === \"denied\") {\r\n            permissionPromise = Promise.reject(\"no permissions from user\");\r\n        } else {\r\n            permissionPromise = Notification.requestPermission();\r\n        }\r\n\r\n        await permissionPromise;\r\n\r\n        const notification = this.raiseUsingWebApi(options);\r\n\r\n        if (options.clickInterop) {\r\n            const interopOptions = options.clickInterop;\r\n            notification.onclick = (): void => {\r\n                this.interop.invoke(interopOptions.method, interopOptions?.arguments ?? {}, interopOptions?.target ?? \"best\");\r\n            };\r\n        }\r\n\r\n        return notification;\r\n    }\r\n\r\n    private raiseUsingWebApi(options: Glue42Web.Notifications.Glue42NotificationOptions): Notification {\r\n        return new Notification(options.title);\r\n    }\r\n}","import { Glue42Web } from \"../../web\";\r\nimport { wrappedIntentFilterDecoder, intentRequestDecoder, intentResultDecoder, wrappedIntentsDecoder } from \"../shared/decoders\";\r\nimport { BridgeOperation } from \"../shared/types\";\r\n\r\nexport type IntentsOperationTypes = \"getIntents\" | \"findIntent\" | \"raiseIntent\";\r\n\r\nexport const operations: { [key in IntentsOperationTypes]: BridgeOperation } = {\r\n    getIntents: { name: \"getIntents\", resultDecoder: wrappedIntentsDecoder },\r\n    findIntent: { name: \"findIntent\", dataDecoder: wrappedIntentFilterDecoder, resultDecoder: wrappedIntentsDecoder },\r\n    raiseIntent: { name: \"raiseIntent\", dataDecoder: intentRequestDecoder, resultDecoder: intentResultDecoder }\r\n};\r\n\r\nexport interface WrappedIntentFilter {\r\n    filter?: Glue42Web.Intents.IntentFilter;\r\n}\r\n\r\nexport interface WrappedIntents {\r\n    intents: Glue42Web.Intents.Intent[];\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Glue42Core } from \"@glue42/core\";\r\nimport { IoC } from \"../shared/ioc\";\r\nimport { LibController } from \"../shared/types\";\r\nimport { Glue42Web } from \"../../web\";\r\nimport { GlueBridge } from \"../communication/bridge\";\r\nimport { UnsubscribeFunction } from \"callback-registry\";\r\nimport { intentsOperationTypesDecoder, raiseRequestDecoder, findFilterDecoder, addIntentListenerIntentDecoder } from \"../shared/decoders\";\r\nimport { operations, WrappedIntentFilter, WrappedIntents } from \"./protocol\";\r\n\r\nexport class IntentsController implements LibController {\r\n    private bridge!: GlueBridge;\r\n    private logger!: Glue42Web.Logger.API;\r\n    private interop!: Glue42Core.AGM.API;\r\n    private myIntents = new Set<string>();\r\n\r\n    private readonly GlueWebIntentsPrefix = \"Tick42.FDC3.Intents.\";\r\n\r\n    public async start(coreGlue: Glue42Core.GlueCore, ioc: IoC): Promise<void> {\r\n        this.logger = coreGlue.logger.subLogger(\"intents.controller.web\");\r\n\r\n        this.logger.trace(\"starting the web intents controller\");\r\n\r\n        this.bridge = ioc.bridge;\r\n\r\n        this.interop = coreGlue.interop;\r\n\r\n        const api = this.toApi();\r\n\r\n        this.logger.trace(\"no need for platform registration, attaching the intents property to glue and returning\");\r\n\r\n        (coreGlue as Glue42Web.API).intents = api;\r\n    }\r\n\r\n    public async handleBridgeMessage(args: any): Promise<void> {\r\n        const operationName = intentsOperationTypesDecoder.runWithException(args.operation);\r\n\r\n        const operation = operations[operationName];\r\n\r\n        if (!operation.execute) {\r\n            return;\r\n        }\r\n\r\n        let operationData: any = args.data;\r\n\r\n        if (operation.dataDecoder) {\r\n            operationData = operation.dataDecoder.runWithException(args.data);\r\n        }\r\n\r\n        return await operation.execute(operationData);\r\n    }\r\n\r\n    private toApi(): Glue42Web.Intents.API {\r\n        const api: Glue42Web.Intents.API = {\r\n            raise: this.raise.bind(this),\r\n            all: this.all.bind(this),\r\n            addIntentListener: this.addIntentListener.bind(this),\r\n            find: this.find.bind(this)\r\n        };\r\n\r\n        return Object.freeze(api);\r\n    }\r\n\r\n    private async raise(request: string | Glue42Web.Intents.IntentRequest): Promise<Glue42Web.Intents.IntentResult> {\r\n        const requestObj = raiseRequestDecoder.runWithException(request);\r\n\r\n        let data: Glue42Web.Intents.IntentRequest;\r\n\r\n        if (typeof requestObj === \"string\") {\r\n            data = {\r\n                intent: requestObj\r\n            };\r\n        } else {\r\n            data = requestObj;\r\n        }\r\n\r\n        const result = await this.bridge.send<Glue42Web.Intents.IntentRequest, Glue42Web.Intents.IntentResult>(\"intents\", operations.raiseIntent, data);\r\n\r\n        return result;\r\n    }\r\n\r\n    private async all(): Promise<Glue42Web.Intents.Intent[]> {\r\n        const result = await this.bridge.send<void, WrappedIntents>(\"intents\", operations.getIntents, undefined);\r\n\r\n        return result.intents;\r\n    }\r\n\r\n    private addIntentListener(intent: string | Glue42Web.Intents.AddIntentListenerRequest, handler: (context: Glue42Web.Intents.IntentContext) => any): { unsubscribe: UnsubscribeFunction } {\r\n        addIntentListenerIntentDecoder.runWithException(intent);\r\n        if (typeof handler !== \"function\") {\r\n            throw new Error(\"Cannot add intent listener, because the provided handler is not a function!\");\r\n        }\r\n\r\n        let subscribed = true;\r\n\r\n        // `addIntentListener()` is sync.\r\n        const intentName = typeof intent === \"string\" ? intent : intent.intent;\r\n        const methodName = `${this.GlueWebIntentsPrefix}${intentName}`;\r\n\r\n        const alreadyRegistered = this.myIntents.has(intentName);\r\n        if (alreadyRegistered) {\r\n            throw new Error(`Intent listener for intent ${intentName} already registered!`);\r\n        }\r\n        this.myIntents.add(intentName);\r\n\r\n        const result = {\r\n            unsubscribe: (): void => {\r\n                subscribed = false;\r\n                try {\r\n                    this.interop.unregister(methodName);\r\n                    this.myIntents.delete(intentName);\r\n                } catch (error) {\r\n                    this.logger.trace(`Unsubscribed intent listener, but ${methodName} unregistration failed!`);\r\n                }\r\n            }\r\n        };\r\n\r\n        let intentFlag: Omit<Glue42Web.Intents.AddIntentListenerRequest, \"intent\"> = {};\r\n\r\n        if (typeof intent === \"object\") {\r\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n            const { intent: removed, ...rest } = intent;\r\n            intentFlag = rest;\r\n        }\r\n\r\n        this.interop.register({ name: methodName, flags: { intent: intentFlag } }, (args: Glue42Web.Intents.IntentContext) => {\r\n            if (subscribed) {\r\n                return handler(args);\r\n            }\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    private async find(intentFilter?: string | Glue42Web.Intents.IntentFilter): Promise<Glue42Web.Intents.Intent[]> {\r\n        let data: WrappedIntentFilter | undefined = undefined;\r\n\r\n        if (typeof intentFilter !== \"undefined\") {\r\n            const intentFilterObj = findFilterDecoder.runWithException(intentFilter);\r\n\r\n            if (typeof intentFilterObj === \"string\") {\r\n                data = {\r\n                    filter: {\r\n                        name: intentFilterObj\r\n                    }\r\n                };\r\n            } else if (typeof intentFilterObj === \"object\") {\r\n                data = {\r\n                    filter: intentFilterObj\r\n                };\r\n            }\r\n        }\r\n\r\n        const result = await this.bridge.send<WrappedIntentFilter | undefined, WrappedIntents>(\"intents\", operations.findIntent, data);\r\n\r\n        return result.intents;\r\n    }\r\n}\r\n","/* eslint-disable @typescript-eslint/no-unused-vars */\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Glue42Core } from \"@glue42/core\";\r\nimport { Glue42Web } from \"../../web\";\r\nimport { channelNameDecoder } from \"../shared/decoders\";\r\nimport { LibController } from \"../shared/types\";\r\nimport {\r\n    default as CallbackRegistryFactory,\r\n    CallbackRegistry,\r\n    UnsubscribeFunction,\r\n} from \"callback-registry\";\r\n\r\nexport class ChannelsController implements LibController {\r\n    private readonly registry: CallbackRegistry = CallbackRegistryFactory();\r\n    private logger!: Glue42Web.Logger.API;\r\n    private contexts!: Glue42Core.Contexts.API;\r\n    private currentChannelName: string | undefined;\r\n    private unsubscribeFunc: (() => void) | undefined;\r\n\r\n    private readonly GlueWebChannelsPrefix = \"___channel___\";\r\n    private readonly SubsKey = \"subs\";\r\n    private readonly ChangedKey = \"changed\";\r\n\r\n    public async start(coreGlue: Glue42Core.GlueCore): Promise<void> {\r\n        this.logger = coreGlue.logger.subLogger(\"channels.controller.web\");\r\n\r\n        this.logger.trace(\"starting the web channels controller\");\r\n\r\n        this.contexts = coreGlue.contexts;\r\n\r\n        this.logger.trace(\"no need for platform registration, attaching the channels property to glue and returning\");\r\n\r\n        const api = this.toApi();\r\n\r\n        (coreGlue as Glue42Web.API).channels = api;\r\n    }\r\n\r\n    public async handleBridgeMessage(): Promise<void> {\r\n        // noop\r\n    }\r\n\r\n    private toApi(): Glue42Web.Channels.API {\r\n        const api: Glue42Web.Channels.API = {\r\n            subscribe: this.subscribe.bind(this),\r\n            subscribeFor: this.subscribeFor.bind(this),\r\n            publish: this.publish.bind(this),\r\n            all: this.all.bind(this),\r\n            list: this.list.bind(this),\r\n            get: this.get.bind(this),\r\n            join: this.join.bind(this),\r\n            leave: this.leave.bind(this),\r\n            current: this.current.bind(this),\r\n            my: this.my.bind(this),\r\n            changed: this.changed.bind(this),\r\n            onChanged: this.onChanged.bind(this),\r\n            add: this.add.bind(this)\r\n        };\r\n\r\n        return Object.freeze(api);\r\n    }\r\n\r\n    private createContextName(channelName: string): string {\r\n        return `${this.GlueWebChannelsPrefix}${channelName}`;\r\n    }\r\n\r\n    private getAllChannelNames(): string[] {\r\n        const contextNames = this.contexts.all();\r\n\r\n        const channelContextNames = contextNames.filter((contextName) => contextName.startsWith(this.GlueWebChannelsPrefix));\r\n\r\n        const channelNames = channelContextNames.map((channelContextName) => channelContextName.replace(this.GlueWebChannelsPrefix, \"\"));\r\n\r\n        return channelNames;\r\n    }\r\n\r\n    private unsubscribe(): void {\r\n        if (this.unsubscribeFunc) {\r\n            this.unsubscribeFunc();\r\n\r\n            this.unsubscribeFunc = undefined;\r\n        }\r\n    }\r\n\r\n    private async switchToChannel(name?: string): Promise<void> {\r\n        this.unsubscribe();\r\n\r\n        // TODO: Should be set after `subscribe()` has resolved, but due to an issue where `subscribe()` replays the context before returning an unsubscribe function this has been moved here.\r\n        this.currentChannelName = name;\r\n\r\n        // When joining a channel (and not leaving).\r\n        if (typeof name !== \"undefined\") {\r\n            const contextName = this.createContextName(name);\r\n\r\n            this.unsubscribeFunc = await this.contexts.subscribe(contextName, (context, _, __, ___, extraData) => {\r\n                this.registry.execute(this.SubsKey, context.data, context, extraData?.updaterId);\r\n            });\r\n        }\r\n\r\n        this.registry.execute(this.ChangedKey, name);\r\n    }\r\n\r\n    private async updateData(name: string, data: any): Promise<void> {\r\n        const contextName = this.createContextName(name);\r\n\r\n        if (this.contexts.setPathSupported) {\r\n            const pathValues: Glue42Web.Contexts.PathValue[] = Object.keys(data).map((key) => {\r\n                return {\r\n                    path: `data.${key}`,\r\n                    value: data[key]\r\n                };\r\n            });\r\n\r\n            await this.contexts.setPaths(contextName, pathValues);\r\n        } else {\r\n            // Pre @glue42/core 5.2.0. Note that we update the data property only.\r\n            await this.contexts.update(contextName, { data });\r\n        }\r\n    }\r\n\r\n    private subscribe(callback: (data: any, context: Glue42Web.Channels.ChannelContext, updaterId: string) => void): UnsubscribeFunction {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Cannot subscribe to channels, because the provided callback is not a function!\");\r\n        }\r\n\r\n        return this.registry.add(this.SubsKey, callback);\r\n    }\r\n\r\n    private async subscribeFor(name: string, callback: (data: any, context: Glue42Web.Channels.ChannelContext, updaterId: string) => void): Promise<UnsubscribeFunction> {\r\n        const channelNames = this.getAllChannelNames();\r\n        channelNameDecoder(channelNames).runWithException(name);\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(`Cannot subscribe to channel ${name}, because the provided callback is not a function!`);\r\n        }\r\n\r\n        const contextName = this.createContextName(name);\r\n\r\n        return this.contexts.subscribe(contextName, (context, _, __, ___, extraData) => {\r\n            callback(context.data, context, extraData?.updaterId);\r\n        });\r\n    }\r\n\r\n    private publish(data: any, name?: string): Promise<void> {\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Cannot publish to channel, because the provided data is not an object!\");\r\n        }\r\n        if (typeof name !== \"undefined\") {\r\n            const channelNames = this.getAllChannelNames();\r\n            channelNameDecoder(channelNames).runWithException(name);\r\n\r\n            return this.updateData(name, data);\r\n        }\r\n\r\n        if (typeof this.currentChannelName === \"undefined\") {\r\n            throw new Error(\"Cannot publish to channel, because not joined to a channel!\");\r\n        }\r\n\r\n        return this.updateData(this.currentChannelName, data);\r\n    }\r\n\r\n    private async all(): Promise<string[]> {\r\n        const channelNames = this.getAllChannelNames();\r\n\r\n        return channelNames;\r\n    }\r\n\r\n    private async list(): Promise<Glue42Web.Channels.ChannelContext[]> {\r\n        const channelNames = this.getAllChannelNames();\r\n\r\n        const channelContexts = await Promise.all(channelNames.map((channelName) => this.get(channelName)));\r\n\r\n        return channelContexts;\r\n    }\r\n\r\n    private get(name: string): Promise<Glue42Web.Channels.ChannelContext> {\r\n        const channelNames = this.getAllChannelNames();\r\n        channelNameDecoder(channelNames).runWithException(name);\r\n\r\n        const contextName = this.createContextName(name);\r\n\r\n        return this.contexts.get(contextName);\r\n    }\r\n\r\n    private async join(name: string): Promise<void> {\r\n        const channelNames = this.getAllChannelNames();\r\n        channelNameDecoder(channelNames).runWithException(name);\r\n\r\n        await this.switchToChannel(name);\r\n    }\r\n\r\n    private async leave(): Promise<void> {\r\n        await this.switchToChannel();\r\n    }\r\n\r\n    private current(): string {\r\n        return this.currentChannelName as string;\r\n    }\r\n\r\n    private my(): string {\r\n        return this.current();\r\n    }\r\n\r\n    private changed(callback: (channel: string) => void): UnsubscribeFunction {\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Cannot subscribe to channel changed, because the provided callback is not a function!\");\r\n        }\r\n\r\n        return this.registry.add(this.ChangedKey, callback);\r\n    }\r\n\r\n    private onChanged(callback: (channel: string) => void): UnsubscribeFunction {\r\n        return this.changed(callback);\r\n    }\r\n\r\n    private add(info: Glue42Web.Channels.ChannelContext): Promise<Glue42Web.Channels.ChannelContext> {\r\n        throw new Error(\"Method `add()` isn't implemented.\");\r\n    }\r\n}\r\n","import { anyDecoder } from \"../shared/decoders\";\r\nimport { BridgeOperation } from \"../shared/types\";\r\n\r\nexport type SystemOperationTypes = \"getEnvironment\" | \"getBase\";\r\n\r\nexport const operations: { [key in SystemOperationTypes]: BridgeOperation } = {\r\n    getEnvironment: { name: \"getEnvironment\", resultDecoder: anyDecoder },\r\n    getBase: { name: \"getBase\", resultDecoder: anyDecoder }\r\n};\r\n","import { Glue42Core } from \"@glue42/core\";\r\nimport { GlueBridge } from \"../communication/bridge\";\r\nimport { IoC } from \"../shared/ioc\";\r\nimport { LibController } from \"../shared/types\";\r\nimport { operations } from \"./protocol\";\r\n\r\nexport class SystemController implements LibController {\r\n    private bridge!: GlueBridge;\r\n\r\n    public async start(coreGlue: Glue42Core.GlueCore, ioc: IoC): Promise<void> {\r\n        this.bridge = ioc.bridge;\r\n\r\n        await this.setEnvironment();\r\n    }\r\n\r\n    public async handleBridgeMessage(): Promise<void> {\r\n        // noop\r\n    }\r\n\r\n    private async setEnvironment(): Promise<void> {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        const environment = await this.bridge.send<void, any>(\"system\", operations.getEnvironment, undefined);\r\n\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        const base = await this.bridge.send<void, any>(\"system\", operations.getBase, undefined);\r\n\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        const glue42core = Object.assign({}, (window as any).glue42core, base, { environment });\r\n\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        (window as any).glue42core = Object.freeze(glue42core);\r\n    }\r\n}","/*eslint indent: [2, 4, {\"SwitchCase\": 1}]*/\r\nimport CallbackFactory from \"callback-registry\";\r\nimport { Bridge } from \"../communication/bridge\";\r\nimport { InteropTransport } from \"../communication/interop-transport\";\r\nimport { BaseBuilder } from \"../builders/baseBuilder\";\r\nimport { ParentBuilder } from \"../builders/parentBuilder\";\r\nimport { WorkspaceBuilder } from \"../builders/workspaceBuilder\";\r\nimport { ModelMaps, ModelTypes, FramePrivateData, WindowPrivateData, WorkspacePrivateData, ParentPrivateData } from \"../types/privateData\";\r\nimport { PrivateDataManager } from \"./privateDataManager\";\r\nimport { FrameCreateConfig, ModelCreateConfig, WindowCreateConfig, WorkspaceIoCCreateConfig, ParentCreateConfig } from \"../types/ioc\";\r\nimport { Frame } from \"../models/frame\";\r\nimport { Window } from \"../models/window\";\r\nimport { Workspace } from \"../models/workspace\";\r\nimport { ChildSnapshotResult } from \"../types/protocol\";\r\nimport { AllParentTypes, Child } from \"../types/builders\";\r\nimport { Row } from \"../models/row\";\r\nimport { Column } from \"../models/column\";\r\nimport { Group } from \"../models/group\";\r\nimport { Base } from \"../models/base/base\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { WorkspacesController } from \"../types/controller\";\r\nimport { InteropAPI, WindowsAPI, LayoutsAPI, ContextsAPI } from \"../types/glue\";\r\nimport { BaseController } from \"../controllers/base\";\r\nimport { MainController } from \"../controllers/main\";\r\n\r\nexport class IoC {\r\n\r\n    private _controllerInstance: WorkspacesController;\r\n    private _bridgeInstance: Bridge;\r\n    private _transportInstance: InteropTransport;\r\n    private _privateDataManagerInstance: PrivateDataManager;\r\n    private _parentBaseInstance: Base;\r\n    private _baseController: BaseController;\r\n\r\n    constructor(\r\n        private readonly agm: InteropAPI,\r\n        private readonly windows: WindowsAPI,\r\n        private readonly layouts: LayoutsAPI,\r\n        private readonly contexts: ContextsAPI\r\n    ) { }\r\n\r\n    public get baseController(): BaseController {\r\n        if (!this._baseController) {\r\n            this._baseController = new BaseController(this, this.windows, this.contexts, this.layouts);\r\n        }\r\n\r\n        return this._baseController;\r\n    }\r\n\r\n    public get controller(): WorkspacesController {\r\n        if (!this._controllerInstance) {\r\n            this._controllerInstance = new MainController(this.bridge, this.baseController);\r\n        }\r\n        return this._controllerInstance;\r\n    }\r\n\r\n    public get bridge(): Bridge {\r\n        if (!this._bridgeInstance) {\r\n            this._bridgeInstance = new Bridge(this.transport, CallbackFactory());\r\n        }\r\n        return this._bridgeInstance;\r\n    }\r\n\r\n    public get transport(): InteropTransport {\r\n\r\n        if (!this._transportInstance) {\r\n            this._transportInstance = new InteropTransport(this.agm);\r\n        }\r\n\r\n        return this._transportInstance;\r\n    }\r\n\r\n    public get privateDataManager(): PrivateDataManager {\r\n        if (!this._privateDataManagerInstance) {\r\n            this._privateDataManagerInstance = new PrivateDataManager();\r\n        }\r\n        return this._privateDataManagerInstance;\r\n    }\r\n\r\n    public get parentBase(): Base {\r\n        if (!this._parentBaseInstance) {\r\n            this._parentBaseInstance = new Base(this.privateDataManager);\r\n        }\r\n        return this._parentBaseInstance;\r\n    }\r\n\r\n    public async initiate(actualWindowId: string): Promise<void> {\r\n        await this.transport.initiate(actualWindowId);\r\n    }\r\n\r\n    public getModel<T extends ModelTypes>(type: ModelTypes, createConfig: ModelCreateConfig): ModelMaps[T] {\r\n        switch (type) {\r\n            case \"frame\": {\r\n                const newFrame = new Frame(this.privateDataManager);\r\n\r\n                const { summary } = createConfig as FrameCreateConfig;\r\n\r\n                const frameData: FramePrivateData = { summary, controller: this.controller };\r\n\r\n                this.privateDataManager.setFrameData(newFrame, frameData);\r\n\r\n                return newFrame as ModelMaps[T];\r\n            }\r\n            case \"window\": {\r\n                const { id, parent, frame, workspace, config } = createConfig as WindowCreateConfig;\r\n\r\n                const windowPrivateData: WindowPrivateData = {\r\n                    type: \"window\",\r\n                    controller: this.controller,\r\n                    config, id, parent, frame, workspace\r\n                };\r\n\r\n                const newWindow = new Window(this.privateDataManager);\r\n\r\n                this.privateDataManager.setWindowData(newWindow, windowPrivateData);\r\n\r\n                return newWindow as ModelMaps[T];\r\n            }\r\n            case \"row\":\r\n            case \"column\":\r\n            case \"group\": {\r\n                const { id, children, parent, frame, workspace, config } = createConfig as ParentCreateConfig;\r\n\r\n                const newParent = type === \"column\" ? new Column(this.parentBase) :\r\n                    type === \"row\" ? new Row(this.parentBase) : new Group(this.parentBase);\r\n\r\n                const builtChildren = this.buildChildren(children, frame, workspace, newParent);\r\n\r\n                const parentPrivateData = {\r\n                    id, parent, frame, workspace,\r\n                    config,\r\n                    type,\r\n                    controller: this.controller,\r\n                    children: builtChildren,\r\n                };\r\n\r\n                this.privateDataManager.setParentData(newParent, parentPrivateData as ParentPrivateData);\r\n\r\n                return newParent as ModelMaps[T];\r\n            }\r\n            case \"workspace\": {\r\n                const { snapshot, frame } = createConfig as WorkspaceIoCCreateConfig;\r\n\r\n                const newWorkspace = new Workspace(this.privateDataManager);\r\n\r\n                const children = this.buildChildren(snapshot.children, frame, newWorkspace, newWorkspace);\r\n\r\n                const workspacePrivateData: WorkspacePrivateData = {\r\n                    id: snapshot.id,\r\n                    type: \"workspace\",\r\n                    config: snapshot.config,\r\n                    base: this.parentBase,\r\n                    controller: this.controller,\r\n                    children, frame, ioc: this\r\n                };\r\n\r\n                this.privateDataManager.setWorkspaceData(newWorkspace, workspacePrivateData);\r\n                return newWorkspace as ModelMaps[T];\r\n            }\r\n            default: throw new Error(`Unrecognized type: ${type}`);\r\n        }\r\n    }\r\n\r\n    public getBuilder(config: Glue42Workspaces.BuilderConfig): WorkspaceBuilder | ParentBuilder {\r\n        config.definition = config.definition || {};\r\n\r\n        if (!Array.isArray(config.definition.children)) {\r\n            config.definition.children = [];\r\n        }\r\n\r\n        const baseBuilder = new BaseBuilder(this.getBuilder.bind(this));\r\n\r\n        switch (config.type) {\r\n            case \"workspace\": {\r\n                return new WorkspaceBuilder(config.definition as Glue42Workspaces.WorkspaceDefinition, baseBuilder, this.controller);\r\n            }\r\n            case \"row\":\r\n            case \"column\":\r\n            case \"group\": {\r\n                (config.definition as Glue42Workspaces.BoxDefinition).type = config.type;\r\n                return new ParentBuilder(config.definition, baseBuilder);\r\n            }\r\n            default: throw new Error(`Unexpected Builder creation error, provided config: ${JSON.stringify(config)}`);\r\n        }\r\n    }\r\n\r\n    private buildChildren(children: ChildSnapshotResult[], frame: Frame, workspace: Glue42Workspaces.Workspace, parent: AllParentTypes): Child[] {\r\n        return children.map<Child>((child) => {\r\n            switch (child.type) {\r\n                case \"window\": return this.getModel<\"window\">(\"window\", {\r\n                    id: child.id,\r\n                    config: child.config,\r\n                    frame, workspace, parent\r\n                } as WindowCreateConfig);\r\n                case \"column\": return this.getModel<\"column\">(child.type, {\r\n                    id: child.id,\r\n                    config: child.config,\r\n                    children: child.children,\r\n                    frame, workspace, parent\r\n                } as ParentCreateConfig);\r\n                case \"row\": return this.getModel<\"row\">(child.type, {\r\n                    id: child.id,\r\n                    config: child.config,\r\n                    children: child.children,\r\n                    frame, workspace, parent\r\n                } as ParentCreateConfig);\r\n                case \"group\": return this.getModel<\"group\">(child.type, {\r\n                    id: child.id,\r\n                    config: child.config,\r\n                    children: child.children,\r\n                    frame, workspace, parent\r\n                } as ParentCreateConfig);\r\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                default: throw new Error(`Unsupported child type: ${(child as any).type}`);\r\n            }\r\n        });\r\n    }\r\n}\r\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nfunction __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\n\nvar MetricTypes = {\r\n    STRING: 1,\r\n    NUMBER: 2,\r\n    TIMESTAMP: 3,\r\n    OBJECT: 4\r\n};\n\nfunction getMetricTypeByValue(metric) {\r\n    if (metric.type === MetricTypes.TIMESTAMP) {\r\n        return \"timestamp\";\r\n    }\r\n    else if (metric.type === MetricTypes.NUMBER) {\r\n        return \"number\";\r\n    }\r\n    else if (metric.type === MetricTypes.STRING) {\r\n        return \"string\";\r\n    }\r\n    else if (metric.type === MetricTypes.OBJECT) {\r\n        return \"object\";\r\n    }\r\n    return \"unknown\";\r\n}\r\nfunction getTypeByValue(value) {\r\n    if (value.constructor === Date) {\r\n        return \"timestamp\";\r\n    }\r\n    else if (typeof value === \"number\") {\r\n        return \"number\";\r\n    }\r\n    else if (typeof value === \"string\") {\r\n        return \"string\";\r\n    }\r\n    else if (typeof value === \"object\") {\r\n        return \"object\";\r\n    }\r\n    else {\r\n        return \"string\";\r\n    }\r\n}\r\nfunction serializeMetric(metric) {\r\n    var serializedMetrics = {};\r\n    var type = getMetricTypeByValue(metric);\r\n    if (type === \"object\") {\r\n        var values = Object.keys(metric.value).reduce(function (memo, key) {\r\n            var innerType = getTypeByValue(metric.value[key]);\r\n            if (innerType === \"object\") {\r\n                var composite = defineNestedComposite(metric.value[key]);\r\n                memo[key] = {\r\n                    type: \"object\",\r\n                    description: \"\",\r\n                    context: {},\r\n                    composite: composite,\r\n                };\r\n            }\r\n            else {\r\n                memo[key] = {\r\n                    type: innerType,\r\n                    description: \"\",\r\n                    context: {},\r\n                };\r\n            }\r\n            return memo;\r\n        }, {});\r\n        serializedMetrics.composite = values;\r\n    }\r\n    serializedMetrics.name = normalizeMetricName(metric.path.join(\"/\") + \"/\" + metric.name);\r\n    serializedMetrics.type = type;\r\n    serializedMetrics.description = metric.description;\r\n    serializedMetrics.context = {};\r\n    return serializedMetrics;\r\n}\r\nfunction defineNestedComposite(values) {\r\n    return Object.keys(values).reduce(function (memo, key) {\r\n        var type = getTypeByValue(values[key]);\r\n        if (type === \"object\") {\r\n            memo[key] = {\r\n                type: \"object\",\r\n                description: \"\",\r\n                context: {},\r\n                composite: defineNestedComposite(values[key]),\r\n            };\r\n        }\r\n        else {\r\n            memo[key] = {\r\n                type: type,\r\n                description: \"\",\r\n                context: {},\r\n            };\r\n        }\r\n        return memo;\r\n    }, {});\r\n}\r\nfunction normalizeMetricName(name) {\r\n    if (typeof name !== \"undefined\" && name.length > 0 && name[0] !== \"/\") {\r\n        return \"/\" + name;\r\n    }\r\n    else {\r\n        return name;\r\n    }\r\n}\r\nfunction getMetricValueByType(metric) {\r\n    var type = getMetricTypeByValue(metric);\r\n    if (type === \"timestamp\") {\r\n        return Date.now();\r\n    }\r\n    else {\r\n        return publishNestedComposite(metric.value);\r\n    }\r\n}\r\nfunction publishNestedComposite(values) {\r\n    if (typeof values !== \"object\") {\r\n        return values;\r\n    }\r\n    return Object.keys(values).reduce(function (memo, key) {\r\n        var value = values[key];\r\n        if (typeof value === \"object\" && value.constructor !== Date) {\r\n            memo[key] = publishNestedComposite(value);\r\n        }\r\n        else if (value.constructor === Date) {\r\n            memo[key] = new Date(value).getTime();\r\n        }\r\n        else if (value.constructor === Boolean) {\r\n            memo[key] = value.toString();\r\n        }\r\n        else {\r\n            memo[key] = value;\r\n        }\r\n        return memo;\r\n    }, {});\r\n}\r\nfunction flatten(arr) {\r\n    return arr.reduce(function (flat, toFlatten) {\r\n        return flat.concat(Array.isArray(toFlatten) ? flatten(toFlatten) : toFlatten);\r\n    }, []);\r\n}\r\nfunction getHighestState(arr) {\r\n    return arr.sort(function (a, b) {\r\n        if (!a.state) {\r\n            return 1;\r\n        }\r\n        if (!b.state) {\r\n            return -1;\r\n        }\r\n        return b.state - a.state;\r\n    })[0];\r\n}\r\nfunction aggregateDescription(arr) {\r\n    var msg = \"\";\r\n    arr.forEach(function (m, idx, a) {\r\n        var path = m.path.join(\".\");\r\n        if (idx === a.length - 1) {\r\n            msg += path + \".\" + m.name + \": \" + m.description;\r\n        }\r\n        else {\r\n            msg += path + \".\" + m.name + \": \" + m.description + \",\";\r\n        }\r\n    });\r\n    if (msg.length > 100) {\r\n        return msg.slice(0, 100) + \"...\";\r\n    }\r\n    else {\r\n        return msg;\r\n    }\r\n}\r\nfunction composeMsgForRootStateMetric(system) {\r\n    var aggregatedState = system.root.getAggregateState();\r\n    var merged = flatten(aggregatedState);\r\n    var highestState = getHighestState(merged);\r\n    var aggregateDesc = aggregateDescription(merged);\r\n    return {\r\n        description: aggregateDesc,\r\n        value: highestState.state,\r\n    };\r\n}\n\nfunction gw3 (connection, config) {\r\n    var _this = this;\r\n    if (!connection || typeof connection !== \"object\") {\r\n        throw new Error(\"Connection is required parameter\");\r\n    }\r\n    var joinPromise;\r\n    var session;\r\n    var init = function (repo) {\r\n        var resolveReadyPromise;\r\n        joinPromise = new Promise(function (resolve) {\r\n            resolveReadyPromise = resolve;\r\n        });\r\n        session = connection.domain(\"metrics\");\r\n        session.onJoined(function (reconnect) {\r\n            if (!reconnect && resolveReadyPromise) {\r\n                resolveReadyPromise();\r\n                resolveReadyPromise = undefined;\r\n            }\r\n            var rootStateMetric = {\r\n                name: \"/State\",\r\n                type: \"object\",\r\n                composite: {\r\n                    Description: {\r\n                        type: \"string\",\r\n                        description: \"\",\r\n                    },\r\n                    Value: {\r\n                        type: \"number\",\r\n                        description: \"\",\r\n                    },\r\n                },\r\n                description: \"System state\",\r\n                context: {},\r\n            };\r\n            var defineRootMetricsMsg = {\r\n                type: \"define\",\r\n                metrics: [rootStateMetric],\r\n            };\r\n            session.send(defineRootMetricsMsg);\r\n            if (reconnect) {\r\n                replayRepo(repo);\r\n            }\r\n        });\r\n        session.join({\r\n            system: config.system,\r\n            service: config.service,\r\n            instance: config.instance\r\n        });\r\n    };\r\n    var replayRepo = function (repo) {\r\n        replaySystem(repo.root);\r\n    };\r\n    var replaySystem = function (system) {\r\n        createSystem(system);\r\n        system.metrics.forEach(function (m) {\r\n            createMetric(m);\r\n        });\r\n        system.subSystems.forEach(function (ss) {\r\n            replaySystem(ss);\r\n        });\r\n    };\r\n    var createSystem = function (system) { return __awaiter(_this, void 0, void 0, function () {\r\n        var metric, createMetricsMsg;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    if (system.parent === undefined) {\r\n                        return [2];\r\n                    }\r\n                    return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    metric = {\r\n                        name: normalizeMetricName(system.path.join(\"/\") + \"/\" + system.name + \"/State\"),\r\n                        type: \"object\",\r\n                        composite: {\r\n                            Description: {\r\n                                type: \"string\",\r\n                                description: \"\",\r\n                            },\r\n                            Value: {\r\n                                type: \"number\",\r\n                                description: \"\",\r\n                            },\r\n                        },\r\n                        description: \"System state\",\r\n                        context: {},\r\n                    };\r\n                    createMetricsMsg = {\r\n                        type: \"define\",\r\n                        metrics: [metric],\r\n                    };\r\n                    session.send(createMetricsMsg);\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var updateSystem = function (system, state) { return __awaiter(_this, void 0, void 0, function () {\r\n        var shadowedUpdateMetric, stateObj, rootMetric;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    shadowedUpdateMetric = {\r\n                        type: \"publish\",\r\n                        values: [{\r\n                                name: normalizeMetricName(system.path.join(\"/\") + \"/\" + system.name + \"/State\"),\r\n                                value: {\r\n                                    Description: state.description,\r\n                                    Value: state.state,\r\n                                },\r\n                                timestamp: Date.now(),\r\n                            }],\r\n                    };\r\n                    session.send(shadowedUpdateMetric);\r\n                    stateObj = composeMsgForRootStateMetric(system);\r\n                    rootMetric = {\r\n                        type: \"publish\",\r\n                        peer_id: connection.peerId,\r\n                        values: [{\r\n                                name: \"/State\",\r\n                                value: {\r\n                                    Description: stateObj.description,\r\n                                    Value: stateObj.value,\r\n                                },\r\n                                timestamp: Date.now(),\r\n                            }],\r\n                    };\r\n                    session.send(rootMetric);\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var createMetric = function (metric) { return __awaiter(_this, void 0, void 0, function () {\r\n        var metricClone, m, createMetricsMsg;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    metricClone = cloneMetric(metric);\r\n                    return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    m = serializeMetric(metricClone);\r\n                    createMetricsMsg = {\r\n                        type: \"define\",\r\n                        metrics: [m],\r\n                    };\r\n                    session.send(createMetricsMsg);\r\n                    if (typeof metricClone.value !== \"undefined\") {\r\n                        updateMetricCore(metricClone);\r\n                    }\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var updateMetric = function (metric) { return __awaiter(_this, void 0, void 0, function () {\r\n        var metricClone;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    metricClone = cloneMetric(metric);\r\n                    return [4, joinPromise];\r\n                case 1:\r\n                    _a.sent();\r\n                    updateMetricCore(metricClone);\r\n                    return [2];\r\n            }\r\n        });\r\n    }); };\r\n    var updateMetricCore = function (metric) {\r\n        if (canUpdate()) {\r\n            var value = getMetricValueByType(metric);\r\n            var publishMetricsMsg = {\r\n                type: \"publish\",\r\n                values: [{\r\n                        name: normalizeMetricName(metric.path.join(\"/\") + \"/\" + metric.name),\r\n                        value: value,\r\n                        timestamp: Date.now(),\r\n                    }],\r\n            };\r\n            return session.sendFireAndForget(publishMetricsMsg);\r\n        }\r\n        return Promise.resolve();\r\n    };\r\n    var cloneMetric = function (metric) {\r\n        var metricClone = __assign({}, metric);\r\n        if (typeof metric.value === \"object\" && metric.value !== null) {\r\n            metricClone.value = __assign({}, metric.value);\r\n        }\r\n        return metricClone;\r\n    };\r\n    var canUpdate = function () {\r\n        var _a;\r\n        try {\r\n            var func = (_a = config.canUpdateMetric) !== null && _a !== void 0 ? _a : (function () { return true; });\r\n            return func();\r\n        }\r\n        catch (_b) {\r\n            return true;\r\n        }\r\n    };\r\n    return {\r\n        init: init,\r\n        createSystem: createSystem,\r\n        updateSystem: updateSystem,\r\n        createMetric: createMetric,\r\n        updateMetric: updateMetric,\r\n    };\r\n}\n\nvar Helpers = {\r\n    validate: function (definition, parent, transport) {\r\n        if (definition === null || typeof definition !== \"object\") {\r\n            throw new Error(\"Missing definition\");\r\n        }\r\n        if (parent === null || typeof parent !== \"object\") {\r\n            throw new Error(\"Missing parent\");\r\n        }\r\n        if (transport === null || typeof transport !== \"object\") {\r\n            throw new Error(\"Missing transport\");\r\n        }\r\n    },\r\n};\n\nvar BaseMetric = (function () {\r\n    function BaseMetric(definition, system, transport, value, type) {\r\n        this.definition = definition;\r\n        this.system = system;\r\n        this.transport = transport;\r\n        this.value = value;\r\n        this.type = type;\r\n        this.path = [];\r\n        Helpers.validate(definition, system, transport);\r\n        this.path = system.path.slice(0);\r\n        this.path.push(system.name);\r\n        this.name = definition.name;\r\n        this.description = definition.description;\r\n        transport.createMetric(this);\r\n    }\r\n    Object.defineProperty(BaseMetric.prototype, \"repo\", {\r\n        get: function () {\r\n            var _a;\r\n            return (_a = this.system) === null || _a === void 0 ? void 0 : _a.repo;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(BaseMetric.prototype, \"id\", {\r\n        get: function () { return this.system.path + \"/\" + name; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    BaseMetric.prototype.update = function (newValue) {\r\n        this.value = newValue;\r\n        return this.transport.updateMetric(this);\r\n    };\r\n    return BaseMetric;\r\n}());\n\nvar NumberMetric = (function (_super) {\r\n    __extends(NumberMetric, _super);\r\n    function NumberMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.NUMBER) || this;\r\n    }\r\n    NumberMetric.prototype.incrementBy = function (num) {\r\n        this.update(this.value + num);\r\n    };\r\n    NumberMetric.prototype.increment = function () {\r\n        this.incrementBy(1);\r\n    };\r\n    NumberMetric.prototype.decrement = function () {\r\n        this.incrementBy(-1);\r\n    };\r\n    NumberMetric.prototype.decrementBy = function (num) {\r\n        this.incrementBy(num * -1);\r\n    };\r\n    return NumberMetric;\r\n}(BaseMetric));\n\nvar ObjectMetric = (function (_super) {\r\n    __extends(ObjectMetric, _super);\r\n    function ObjectMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.OBJECT) || this;\r\n    }\r\n    ObjectMetric.prototype.update = function (newValue) {\r\n        this.mergeValues(newValue);\r\n        return this.transport.updateMetric(this);\r\n    };\r\n    ObjectMetric.prototype.mergeValues = function (values) {\r\n        var _this = this;\r\n        return Object.keys(this.value).forEach(function (k) {\r\n            if (typeof values[k] !== \"undefined\") {\r\n                _this.value[k] = values[k];\r\n            }\r\n        });\r\n    };\r\n    return ObjectMetric;\r\n}(BaseMetric));\n\nvar StringMetric = (function (_super) {\r\n    __extends(StringMetric, _super);\r\n    function StringMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.STRING) || this;\r\n    }\r\n    return StringMetric;\r\n}(BaseMetric));\n\nvar TimestampMetric = (function (_super) {\r\n    __extends(TimestampMetric, _super);\r\n    function TimestampMetric(definition, system, transport, value) {\r\n        return _super.call(this, definition, system, transport, value, MetricTypes.TIMESTAMP) || this;\r\n    }\r\n    TimestampMetric.prototype.now = function () {\r\n        this.update(new Date());\r\n    };\r\n    return TimestampMetric;\r\n}(BaseMetric));\n\nfunction system(name, repo, protocol, parent, description) {\r\n    if (!repo) {\r\n        throw new Error(\"Repository is required\");\r\n    }\r\n    if (!protocol) {\r\n        throw new Error(\"Transport is required\");\r\n    }\r\n    var _transport = protocol;\r\n    var _name = name;\r\n    var _description = description || \"\";\r\n    var _repo = repo;\r\n    var _parent = parent;\r\n    var _path = _buildPath(parent);\r\n    var _state = {};\r\n    var id = _arrayToString(_path, \"/\") + name;\r\n    var root = repo.root;\r\n    var _subSystems = [];\r\n    var _metrics = [];\r\n    function subSystem(nameSystem, descriptionSystem) {\r\n        if (!nameSystem || nameSystem.length === 0) {\r\n            throw new Error(\"name is required\");\r\n        }\r\n        var match = _subSystems.filter(function (s) { return s.name === nameSystem; });\r\n        if (match.length > 0) {\r\n            return match[0];\r\n        }\r\n        var _system = system(nameSystem, _repo, _transport, me, descriptionSystem);\r\n        _subSystems.push(_system);\r\n        return _system;\r\n    }\r\n    function setState(state, stateDescription) {\r\n        _state = { state: state, description: stateDescription };\r\n        _transport.updateSystem(me, _state);\r\n    }\r\n    function stringMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.STRING, value, function (metricDef) { return new StringMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function numberMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.NUMBER, value, function (metricDef) { return new NumberMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function objectMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.OBJECT, value, function (metricDef) { return new ObjectMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function timestampMetric(definition, value) {\r\n        return _getOrCreateMetric(definition, MetricTypes.TIMESTAMP, value, function (metricDef) { return new TimestampMetric(metricDef, me, _transport, value); });\r\n    }\r\n    function _getOrCreateMetric(metricObject, expectedType, value, createMetric) {\r\n        var metricDef = { name: \"\" };\r\n        if (typeof metricObject === \"string\") {\r\n            metricDef = { name: metricObject };\r\n        }\r\n        else {\r\n            metricDef = metricObject;\r\n        }\r\n        var matching = _metrics.filter(function (shadowedMetric) { return shadowedMetric.name === metricDef.name; });\r\n        if (matching.length > 0) {\r\n            var existing = matching[0];\r\n            if (existing.type !== expectedType) {\r\n                throw new Error(\"A metric named \" + metricDef.name + \" is already defined with different type.\");\r\n            }\r\n            if (typeof value !== \"undefined\") {\r\n                existing\r\n                    .update(value)\r\n                    .catch(function () { });\r\n            }\r\n            return existing;\r\n        }\r\n        var metric = createMetric(metricDef);\r\n        _metrics.push(metric);\r\n        return metric;\r\n    }\r\n    function _buildPath(shadowedSystem) {\r\n        if (!shadowedSystem || !shadowedSystem.parent) {\r\n            return [];\r\n        }\r\n        var path = _buildPath(shadowedSystem.parent);\r\n        path.push(shadowedSystem.name);\r\n        return path;\r\n    }\r\n    function _arrayToString(path, separator) {\r\n        return ((path && path.length > 0) ? path.join(separator) : \"\");\r\n    }\r\n    function getAggregateState() {\r\n        var aggState = [];\r\n        if (Object.keys(_state).length > 0) {\r\n            aggState.push({\r\n                name: _name,\r\n                path: _path,\r\n                state: _state.state,\r\n                description: _state.description,\r\n            });\r\n        }\r\n        _subSystems.forEach(function (shadowedSubSystem) {\r\n            var result = shadowedSubSystem.getAggregateState();\r\n            if (result.length > 0) {\r\n                aggState.push.apply(aggState, result);\r\n            }\r\n        });\r\n        return aggState;\r\n    }\r\n    var me = {\r\n        get name() {\r\n            return _name;\r\n        },\r\n        get description() {\r\n            return _description;\r\n        },\r\n        get repo() {\r\n            return _repo;\r\n        },\r\n        get parent() {\r\n            return _parent;\r\n        },\r\n        path: _path,\r\n        id: id,\r\n        root: root,\r\n        get subSystems() {\r\n            return _subSystems;\r\n        },\r\n        get metrics() {\r\n            return _metrics;\r\n        },\r\n        subSystem: subSystem,\r\n        getState: function () {\r\n            return _state;\r\n        },\r\n        setState: setState,\r\n        stringMetric: stringMetric,\r\n        timestampMetric: timestampMetric,\r\n        objectMetric: objectMetric,\r\n        numberMetric: numberMetric,\r\n        getAggregateState: getAggregateState,\r\n    };\r\n    _transport.createSystem(me);\r\n    return me;\r\n}\n\nvar Repository = (function () {\r\n    function Repository(options, protocol) {\r\n        protocol.init(this);\r\n        this.root = system(\"\", this, protocol);\r\n        this.addSystemMetrics(this.root, options.clickStream || options.clickStream === undefined);\r\n    }\r\n    Repository.prototype.addSystemMetrics = function (rootSystem, useClickStream) {\r\n        if (typeof navigator !== \"undefined\") {\r\n            rootSystem.stringMetric(\"UserAgent\", navigator.userAgent);\r\n        }\r\n        if (useClickStream && typeof document !== \"undefined\") {\r\n            var clickStream_1 = rootSystem.subSystem(\"ClickStream\");\r\n            var documentClickHandler = function (e) {\r\n                if (!e.target) {\r\n                    return;\r\n                }\r\n                var target = e.target;\r\n                clickStream_1.objectMetric(\"LastBrowserEvent\", {\r\n                    type: \"click\",\r\n                    timestamp: new Date(),\r\n                    target: {\r\n                        className: e.target ? target.className : \"\",\r\n                        id: target.id,\r\n                        type: \"<\" + target.tagName.toLowerCase() + \">\",\r\n                        href: target.href || \"\",\r\n                    },\r\n                });\r\n            };\r\n            clickStream_1.objectMetric(\"Page\", {\r\n                title: document.title,\r\n                page: window.location.href,\r\n            });\r\n            if (document.addEventListener) {\r\n                document.addEventListener(\"click\", documentClickHandler);\r\n            }\r\n            else {\r\n                document.attachEvent(\"onclick\", documentClickHandler);\r\n            }\r\n        }\r\n        var startTime = rootSystem.stringMetric(\"StartTime\", (new Date()).toString());\r\n        var urlMetric = rootSystem.stringMetric(\"StartURL\", \"\");\r\n        var appNameMetric = rootSystem.stringMetric(\"AppName\", \"\");\r\n        if (typeof window !== \"undefined\") {\r\n            if (typeof window.location !== \"undefined\") {\r\n                var startUrl = window.location.href;\r\n                urlMetric.update(startUrl);\r\n            }\r\n            if (typeof window.glue42gd !== \"undefined\") {\r\n                appNameMetric.update(window.glue42gd.appName);\r\n            }\r\n        }\r\n    };\r\n    return Repository;\r\n}());\n\nvar NullProtocol = (function () {\r\n    function NullProtocol() {\r\n    }\r\n    NullProtocol.prototype.init = function (repo) {\r\n    };\r\n    NullProtocol.prototype.createSystem = function (system) {\r\n        return Promise.resolve();\r\n    };\r\n    NullProtocol.prototype.updateSystem = function (metric, state) {\r\n        return Promise.resolve();\r\n    };\r\n    NullProtocol.prototype.createMetric = function (metric) {\r\n        return Promise.resolve();\r\n    };\r\n    NullProtocol.prototype.updateMetric = function (metric) {\r\n        return Promise.resolve();\r\n    };\r\n    return NullProtocol;\r\n}());\n\nvar PerfTracker = (function () {\r\n    function PerfTracker(api, initialPublishTimeout, publishInterval) {\r\n        this.api = api;\r\n        this.lastCount = 0;\r\n        this.initialPublishTimeout = 10 * 1000;\r\n        this.publishInterval = 60 * 1000;\r\n        this.initialPublishTimeout = initialPublishTimeout !== null && initialPublishTimeout !== void 0 ? initialPublishTimeout : this.initialPublishTimeout;\r\n        this.publishInterval = publishInterval !== null && publishInterval !== void 0 ? publishInterval : this.publishInterval;\r\n        this.scheduleCollection();\r\n        this.system = this.api.subSystem(\"performance\", \"Performance data published by the web application\");\r\n    }\r\n    PerfTracker.prototype.scheduleCollection = function () {\r\n        var _this = this;\r\n        setTimeout(function () {\r\n            _this.collect();\r\n            setInterval(function () {\r\n                _this.collect();\r\n            }, _this.publishInterval);\r\n        }, this.initialPublishTimeout);\r\n    };\r\n    PerfTracker.prototype.collect = function () {\r\n        try {\r\n            this.collectMemory();\r\n            this.collectEntries();\r\n        }\r\n        catch (_a) {\r\n        }\r\n    };\r\n    PerfTracker.prototype.collectMemory = function () {\r\n        var memory = window.performance.memory;\r\n        this.system.stringMetric(\"memory\", JSON.stringify({\r\n            totalJSHeapSize: memory.totalJSHeapSize,\r\n            usedJSHeapSize: memory.usedJSHeapSize\r\n        }));\r\n    };\r\n    PerfTracker.prototype.collectEntries = function () {\r\n        var allEntries = window.performance.getEntries();\r\n        if (allEntries.length <= this.lastCount) {\r\n            return;\r\n        }\r\n        this.lastCount = allEntries.length;\r\n        var jsonfiedEntries = allEntries.map(function (i) { return i.toJSON(); });\r\n        this.system.stringMetric(\"entries\", JSON.stringify(jsonfiedEntries));\r\n    };\r\n    return PerfTracker;\r\n}());\n\nvar metrics = (function (options) {\r\n    var protocol;\r\n    if (!options.connection || typeof options.connection !== \"object\") {\r\n        protocol = new NullProtocol();\r\n    }\r\n    else {\r\n        protocol = gw3(options.connection, options);\r\n    }\r\n    var repo = new Repository(options, protocol);\r\n    var rootSystem = repo.root;\r\n    if (!options.disableAutoAppSystem) {\r\n        rootSystem = rootSystem.subSystem(\"App\");\r\n    }\r\n    var api = addFAVSupport(rootSystem);\r\n    initPerf(api, options.pagePerformanceMetrics);\r\n    return api;\r\n});\r\nvar perf;\r\nfunction initPerf(api, config) {\r\n    var _a, _b;\r\n    if (typeof window === \"undefined\") {\r\n        return;\r\n    }\r\n    var perfConfig = (_b = (_a = window === null || window === void 0 ? void 0 : window.glue42gd) === null || _a === void 0 ? void 0 : _a.metrics) === null || _b === void 0 ? void 0 : _b.pagePerformanceMetrics;\r\n    if (perfConfig) {\r\n        config = perfConfig;\r\n    }\r\n    if (config === null || config === void 0 ? void 0 : config.enabled) {\r\n        perf = new PerfTracker(api, config.initialPublishTimeout, config.publishInterval);\r\n    }\r\n}\r\nfunction addFAVSupport(system) {\r\n    var reportingSystem = system.subSystem(\"reporting\");\r\n    var def = {\r\n        name: \"features\"\r\n    };\r\n    var featureMetric;\r\n    var featureMetricFunc = function (name, action, payload) {\r\n        if (typeof name === \"undefined\" || name === \"\") {\r\n            throw new Error(\"name is mandatory\");\r\n        }\r\n        else if (typeof action === \"undefined\" || action === \"\") {\r\n            throw new Error(\"action is mandatory\");\r\n        }\r\n        else if (typeof payload === \"undefined\" || payload === \"\") {\r\n            throw new Error(\"payload is mandatory\");\r\n        }\r\n        if (!featureMetric) {\r\n            featureMetric = reportingSystem.objectMetric(def, { name: name, action: action, payload: payload });\r\n        }\r\n        else {\r\n            featureMetric.update({\r\n                name: name,\r\n                action: action,\r\n                payload: payload\r\n            });\r\n        }\r\n    };\r\n    system.featureMetric = featureMetricFunc;\r\n    return system;\r\n}\n\nfunction createRegistry(options) {\r\n    if (options && options.errorHandling\r\n        && typeof options.errorHandling !== \"function\"\r\n        && options.errorHandling !== \"log\"\r\n        && options.errorHandling !== \"silent\"\r\n        && options.errorHandling !== \"throw\") {\r\n        throw new Error(\"Invalid options passed to createRegistry. Prop errorHandling should be [\\\"log\\\" | \\\"silent\\\" | \\\"throw\\\" | (err) => void], but \" + typeof options.errorHandling + \" was passed\");\r\n    }\r\n    var _userErrorHandler = options && typeof options.errorHandling === \"function\" && options.errorHandling;\r\n    var callbacks = {};\r\n    function add(key, callback, replayArgumentsArr) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            callbacksForKey = [];\r\n            callbacks[key] = callbacksForKey;\r\n        }\r\n        callbacksForKey.push(callback);\r\n        if (replayArgumentsArr) {\r\n            setTimeout(function () {\r\n                replayArgumentsArr.forEach(function (replayArgument) {\r\n                    var _a;\r\n                    if ((_a = callbacks[key]) === null || _a === void 0 ? void 0 : _a.includes(callback)) {\r\n                        try {\r\n                            if (Array.isArray(replayArgument)) {\r\n                                callback.apply(undefined, replayArgument);\r\n                            }\r\n                            else {\r\n                                callback.apply(undefined, [replayArgument]);\r\n                            }\r\n                        }\r\n                        catch (err) {\r\n                            _handleError(err, key);\r\n                        }\r\n                    }\r\n                });\r\n            }, 0);\r\n        }\r\n        return function () {\r\n            var allForKey = callbacks[key];\r\n            if (!allForKey) {\r\n                return;\r\n            }\r\n            allForKey = allForKey.reduce(function (acc, element, index) {\r\n                if (!(element === callback && acc.length === index)) {\r\n                    acc.push(element);\r\n                }\r\n                return acc;\r\n            }, []);\r\n            if (allForKey.length === 0) {\r\n                delete callbacks[key];\r\n            }\r\n            else {\r\n                callbacks[key] = allForKey;\r\n            }\r\n        };\r\n    }\r\n    function execute(key) {\r\n        var argumentsArr = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            argumentsArr[_i - 1] = arguments[_i];\r\n        }\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey || callbacksForKey.length === 0) {\r\n            return [];\r\n        }\r\n        var results = [];\r\n        callbacksForKey.forEach(function (callback) {\r\n            try {\r\n                var result = callback.apply(undefined, argumentsArr);\r\n                results.push(result);\r\n            }\r\n            catch (err) {\r\n                results.push(undefined);\r\n                _handleError(err, key);\r\n            }\r\n        });\r\n        return results;\r\n    }\r\n    function _handleError(exceptionArtifact, key) {\r\n        var errParam = exceptionArtifact instanceof Error ? exceptionArtifact : new Error(exceptionArtifact);\r\n        if (_userErrorHandler) {\r\n            _userErrorHandler(errParam);\r\n            return;\r\n        }\r\n        var msg = \"[ERROR] callback-registry: User callback for key \\\"\" + key + \"\\\" failed: \" + errParam.stack;\r\n        if (options) {\r\n            switch (options.errorHandling) {\r\n                case \"log\":\r\n                    return console.error(msg);\r\n                case \"silent\":\r\n                    return;\r\n                case \"throw\":\r\n                    throw new Error(msg);\r\n            }\r\n        }\r\n        console.error(msg);\r\n    }\r\n    function clear() {\r\n        callbacks = {};\r\n    }\r\n    function clearKey(key) {\r\n        var callbacksForKey = callbacks[key];\r\n        if (!callbacksForKey) {\r\n            return;\r\n        }\r\n        delete callbacks[key];\r\n    }\r\n    return {\r\n        add: add,\r\n        execute: execute,\r\n        clear: clear,\r\n        clearKey: clearKey\r\n    };\r\n}\r\ncreateRegistry.default = createRegistry;\r\nvar lib = createRegistry;\n\nvar InProcTransport = (function () {\r\n    function InProcTransport(settings, logger) {\r\n        var _this = this;\r\n        this.registry = lib();\r\n        this.gw = settings.facade;\r\n        this.gw.connect(function (_client, message) {\r\n            _this.messageHandler(message);\r\n        }).then(function (client) {\r\n            _this.client = client;\r\n        });\r\n    }\r\n    Object.defineProperty(InProcTransport.prototype, \"isObjectBasedTransport\", {\r\n        get: function () {\r\n            return true;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    InProcTransport.prototype.sendObject = function (msg) {\r\n        if (this.client) {\r\n            this.client.send(msg);\r\n            return Promise.resolve(undefined);\r\n        }\r\n        else {\r\n            return Promise.reject(\"not connected\");\r\n        }\r\n    };\r\n    InProcTransport.prototype.send = function (_msg) {\r\n        return Promise.reject(\"not supported\");\r\n    };\r\n    InProcTransport.prototype.onMessage = function (callback) {\r\n        return this.registry.add(\"onMessage\", callback);\r\n    };\r\n    InProcTransport.prototype.onConnectedChanged = function (callback) {\r\n        callback(true);\r\n    };\r\n    InProcTransport.prototype.close = function () {\r\n        return Promise.resolve();\r\n    };\r\n    InProcTransport.prototype.open = function () {\r\n        return Promise.resolve();\r\n    };\r\n    InProcTransport.prototype.name = function () {\r\n        return \"in-memory\";\r\n    };\r\n    InProcTransport.prototype.reconnect = function () {\r\n        return Promise.resolve();\r\n    };\r\n    InProcTransport.prototype.messageHandler = function (msg) {\r\n        this.registry.execute(\"onMessage\", msg);\r\n    };\r\n    return InProcTransport;\r\n}());\n\nvar SharedWorkerTransport = (function () {\r\n    function SharedWorkerTransport(workerFile, logger) {\r\n        var _this = this;\r\n        this.logger = logger;\r\n        this.registry = lib();\r\n        this.worker = new SharedWorker(workerFile);\r\n        this.worker.port.onmessage = function (e) {\r\n            _this.messageHandler(e.data);\r\n        };\r\n    }\r\n    Object.defineProperty(SharedWorkerTransport.prototype, \"isObjectBasedTransport\", {\r\n        get: function () {\r\n            return true;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    SharedWorkerTransport.prototype.sendObject = function (msg) {\r\n        this.worker.port.postMessage(msg);\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.send = function (_msg) {\r\n        return Promise.reject(\"not supported\");\r\n    };\r\n    SharedWorkerTransport.prototype.onMessage = function (callback) {\r\n        return this.registry.add(\"onMessage\", callback);\r\n    };\r\n    SharedWorkerTransport.prototype.onConnectedChanged = function (callback) {\r\n        callback(true);\r\n    };\r\n    SharedWorkerTransport.prototype.close = function () {\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.open = function () {\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.name = function () {\r\n        return \"shared-worker\";\r\n    };\r\n    SharedWorkerTransport.prototype.reconnect = function () {\r\n        return Promise.resolve();\r\n    };\r\n    SharedWorkerTransport.prototype.messageHandler = function (msg) {\r\n        this.registry.execute(\"onMessage\", msg);\r\n    };\r\n    return SharedWorkerTransport;\r\n}());\n\nvar Utils = (function () {\r\n    function Utils() {\r\n    }\r\n    Utils.getGDMajorVersion = function () {\r\n        if (typeof window === \"undefined\") {\r\n            return undefined;\r\n        }\r\n        if (!window.glueDesktop) {\r\n            return undefined;\r\n        }\r\n        if (!window.glueDesktop.version) {\r\n            return undefined;\r\n        }\r\n        var ver = Number(window.glueDesktop.version.substr(0, 1));\r\n        return isNaN(ver) ? undefined : ver;\r\n    };\r\n    Utils.isNode = function () {\r\n        if (typeof Utils._isNode !== \"undefined\") {\r\n            return Utils._isNode;\r\n        }\r\n        if (typeof window !== \"undefined\") {\r\n            Utils._isNode = false;\r\n            return false;\r\n        }\r\n        try {\r\n            Utils._isNode = Object.prototype.toString.call(global.process) === \"[object process]\";\r\n        }\r\n        catch (e) {\r\n            Utils._isNode = false;\r\n        }\r\n        return Utils._isNode;\r\n    };\r\n    return Utils;\r\n}());\n\nvar PromiseWrapper = (function () {\r\n    function PromiseWrapper() {\r\n        var _this = this;\r\n        this.rejected = false;\r\n        this.resolved = false;\r\n        this.promise = new Promise(function (resolve, reject) {\r\n            _this.resolve = function (t) {\r\n                _this.resolved = true;\r\n                resolve(t);\r\n            };\r\n            _this.reject = function (err) {\r\n                _this.rejected = true;\r\n                reject(err);\r\n            };\r\n        });\r\n    }\r\n    PromiseWrapper.delay = function (time) {\r\n        return new Promise(function (resolve) { return setTimeout(resolve, time); });\r\n    };\r\n    Object.defineProperty(PromiseWrapper.prototype, \"ended\", {\r\n        get: function () {\r\n            return this.rejected || this.resolved;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return PromiseWrapper;\r\n}());\n\nvar timers = {};\r\nfunction getAllTimers() {\r\n    return timers;\r\n}\r\nfunction timer (timerName) {\r\n    var existing = timers[timerName];\r\n    if (existing) {\r\n        return existing;\r\n    }\r\n    var marks = [];\r\n    function now() {\r\n        return new Date().getTime();\r\n    }\r\n    var startTime = now();\r\n    mark(\"start\", startTime);\r\n    var endTime;\r\n    var period;\r\n    function stop() {\r\n        endTime = now();\r\n        mark(\"end\", endTime);\r\n        period = endTime - startTime;\r\n        return period;\r\n    }\r\n    function mark(name, time) {\r\n        var currentTime = time !== null && time !== void 0 ? time : now();\r\n        var diff = 0;\r\n        if (marks.length > 0) {\r\n            diff = currentTime - marks[marks.length - 1].time;\r\n        }\r\n        marks.push({ name: name, time: currentTime, diff: diff });\r\n    }\r\n    var timerObj = {\r\n        get startTime() {\r\n            return startTime;\r\n        },\r\n        get endTime() {\r\n            return endTime;\r\n        },\r\n        get period() {\r\n            return period;\r\n        },\r\n        stop: stop,\r\n        mark: mark,\r\n        marks: marks\r\n    };\r\n    timers[timerName] = timerObj;\r\n    return timerObj;\r\n}\n\nvar WebSocketConstructor = Utils.isNode() ? require(\"ws\") : window.WebSocket;\r\nvar WS = (function () {\r\n    function WS(settings, logger) {\r\n        this.startupTimer = timer(\"connection\");\r\n        this._running = true;\r\n        this._registry = lib();\r\n        this.wsRequests = [];\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        if (!this.settings.ws) {\r\n            throw new Error(\"ws is missing\");\r\n        }\r\n    }\r\n    WS.prototype.onMessage = function (callback) {\r\n        return this._registry.add(\"onMessage\", callback);\r\n    };\r\n    WS.prototype.send = function (msg, options) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this.waitForSocketConnection(function () {\r\n                var _a;\r\n                try {\r\n                    (_a = _this.ws) === null || _a === void 0 ? void 0 : _a.send(msg);\r\n                    resolve();\r\n                }\r\n                catch (e) {\r\n                    reject(e);\r\n                }\r\n            }, reject);\r\n        });\r\n    };\r\n    WS.prototype.open = function () {\r\n        var _this = this;\r\n        this.logger.info(\"opening ws...\");\r\n        this._running = true;\r\n        return new Promise(function (resolve, reject) {\r\n            _this.waitForSocketConnection(resolve, reject);\r\n        });\r\n    };\r\n    WS.prototype.close = function () {\r\n        this._running = false;\r\n        if (this.ws) {\r\n            this.ws.close();\r\n        }\r\n        return Promise.resolve();\r\n    };\r\n    WS.prototype.onConnectedChanged = function (callback) {\r\n        return this._registry.add(\"onConnectedChanged\", callback);\r\n    };\r\n    WS.prototype.name = function () {\r\n        return \"ws \" + this.settings.ws;\r\n    };\r\n    WS.prototype.reconnect = function () {\r\n        var _a;\r\n        (_a = this.ws) === null || _a === void 0 ? void 0 : _a.close();\r\n        var pw = new PromiseWrapper();\r\n        this.waitForSocketConnection(function () {\r\n            pw.resolve();\r\n        });\r\n        return pw.promise;\r\n    };\r\n    WS.prototype.waitForSocketConnection = function (callback, failed) {\r\n        var _a;\r\n        failed = failed !== null && failed !== void 0 ? failed : (function () { });\r\n        if (!this._running) {\r\n            failed(\"wait for socket on \" + this.settings.ws + \" failed - socket closed by user\");\r\n            return;\r\n        }\r\n        if (((_a = this.ws) === null || _a === void 0 ? void 0 : _a.readyState) === 1) {\r\n            callback();\r\n            return;\r\n        }\r\n        this.wsRequests.push({ callback: callback, failed: failed });\r\n        if (this.wsRequests.length > 1) {\r\n            return;\r\n        }\r\n        this.openSocket();\r\n    };\r\n    WS.prototype.openSocket = function (retryInterval, retriesLeft) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _a;\r\n            var _this = this;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        this.startupTimer.mark(\"opening-socket\");\r\n                        if (retryInterval === undefined) {\r\n                            retryInterval = this.settings.reconnectInterval;\r\n                        }\r\n                        if (retriesLeft !== undefined) {\r\n                            if (retriesLeft === 0) {\r\n                                this.notifyForSocketState(\"wait for socket on \" + this.settings.ws + \" failed - no more retries left\");\r\n                                return [2];\r\n                            }\r\n                            this.logger.debug(\"will retry \" + retriesLeft + \" more times (every \" + retryInterval + \" ms)\");\r\n                        }\r\n                        _b.label = 1;\r\n                    case 1:\r\n                        _b.trys.push([1, 3, , 4]);\r\n                        return [4, this.initiateSocket()];\r\n                    case 2:\r\n                        _b.sent();\r\n                        this.startupTimer.mark(\"socket-initiated\");\r\n                        this.notifyForSocketState();\r\n                        return [3, 4];\r\n                    case 3:\r\n                        _a = _b.sent();\r\n                        setTimeout(function () {\r\n                            var retries = retriesLeft === undefined ? undefined : retriesLeft - 1;\r\n                            _this.openSocket(retryInterval, retries);\r\n                        }, retryInterval);\r\n                        return [3, 4];\r\n                    case 4: return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WS.prototype.initiateSocket = function () {\r\n        var _this = this;\r\n        var pw = new PromiseWrapper();\r\n        this.logger.debug(\"initiating ws to \" + this.settings.ws + \"...\");\r\n        this.ws = new WebSocketConstructor(this.settings.ws || \"\");\r\n        this.ws.onerror = function (err) {\r\n            var reason = \"\";\r\n            try {\r\n                reason = JSON.stringify(err);\r\n            }\r\n            catch (error) {\r\n                var seen_1 = new WeakSet();\r\n                var replacer = function (key, value) {\r\n                    if (typeof value === \"object\" && value !== null) {\r\n                        if (seen_1.has(value)) {\r\n                            return;\r\n                        }\r\n                        seen_1.add(value);\r\n                    }\r\n                    return value;\r\n                };\r\n                reason = JSON.stringify(err, replacer);\r\n            }\r\n            pw.reject(\"error\");\r\n            _this.notifyStatusChanged(false, reason);\r\n        };\r\n        this.ws.onclose = function (err) {\r\n            _this.logger.info(\"ws closed \" + err);\r\n            pw.reject(\"closed\");\r\n            _this.notifyStatusChanged(false);\r\n        };\r\n        this.ws.onopen = function () {\r\n            var _a;\r\n            _this.startupTimer.mark(\"ws-opened\");\r\n            _this.logger.info(\"ws opened \" + ((_a = _this.settings.identity) === null || _a === void 0 ? void 0 : _a.application));\r\n            pw.resolve();\r\n            _this.notifyStatusChanged(true);\r\n        };\r\n        this.ws.onmessage = function (message) {\r\n            _this._registry.execute(\"onMessage\", message.data);\r\n        };\r\n        return pw.promise;\r\n    };\r\n    WS.prototype.notifyForSocketState = function (error) {\r\n        this.wsRequests.forEach(function (wsRequest) {\r\n            if (error) {\r\n                if (wsRequest.failed) {\r\n                    wsRequest.failed(error);\r\n                }\r\n            }\r\n            else {\r\n                wsRequest.callback();\r\n            }\r\n        });\r\n        this.wsRequests = [];\r\n    };\r\n    WS.prototype.notifyStatusChanged = function (status, reason) {\r\n        this._registry.execute(\"onConnectedChanged\", status, reason);\r\n    };\r\n    return WS;\r\n}());\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\n// Found this seed-based random generator somewhere\n// Based on The Central Randomizer 1.3 (C) 1997 by Paul Houle (houle@msc.cornell.edu)\n\nvar seed = 1;\n\n/**\n * return a random number based on a seed\n * @param seed\n * @returns {number}\n */\nfunction getNextValue() {\n    seed = (seed * 9301 + 49297) % 233280;\n    return seed/(233280.0);\n}\n\nfunction setSeed(_seed_) {\n    seed = _seed_;\n}\n\nvar randomFromSeed = {\n    nextValue: getNextValue,\n    seed: setSeed\n};\n\nvar ORIGINAL = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\nvar alphabet;\nvar previousSeed;\n\nvar shuffled;\n\nfunction reset() {\n    shuffled = false;\n}\n\nfunction setCharacters(_alphabet_) {\n    if (!_alphabet_) {\n        if (alphabet !== ORIGINAL) {\n            alphabet = ORIGINAL;\n            reset();\n        }\n        return;\n    }\n\n    if (_alphabet_ === alphabet) {\n        return;\n    }\n\n    if (_alphabet_.length !== ORIGINAL.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n    }\n\n    var unique = _alphabet_.split('').filter(function(item, ind, arr){\n       return ind !== arr.lastIndexOf(item);\n    });\n\n    if (unique.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n    }\n\n    alphabet = _alphabet_;\n    reset();\n}\n\nfunction characters(_alphabet_) {\n    setCharacters(_alphabet_);\n    return alphabet;\n}\n\nfunction setSeed$1(seed) {\n    randomFromSeed.seed(seed);\n    if (previousSeed !== seed) {\n        reset();\n        previousSeed = seed;\n    }\n}\n\nfunction shuffle() {\n    if (!alphabet) {\n        setCharacters(ORIGINAL);\n    }\n\n    var sourceArray = alphabet.split('');\n    var targetArray = [];\n    var r = randomFromSeed.nextValue();\n    var characterIndex;\n\n    while (sourceArray.length > 0) {\n        r = randomFromSeed.nextValue();\n        characterIndex = Math.floor(r * sourceArray.length);\n        targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n    }\n    return targetArray.join('');\n}\n\nfunction getShuffled() {\n    if (shuffled) {\n        return shuffled;\n    }\n    shuffled = shuffle();\n    return shuffled;\n}\n\n/**\n * lookup shuffled letter\n * @param index\n * @returns {string}\n */\nfunction lookup(index) {\n    var alphabetShuffled = getShuffled();\n    return alphabetShuffled[index];\n}\n\nvar alphabet_1 = {\n    characters: characters,\n    seed: setSeed$1,\n    lookup: lookup,\n    shuffled: getShuffled\n};\n\nvar crypto = typeof window === 'object' && (window.crypto || window.msCrypto); // IE 11 uses window.msCrypto\n\nfunction randomByte() {\n    if (!crypto || !crypto.getRandomValues) {\n        return Math.floor(Math.random() * 256) & 0x30;\n    }\n    var dest = new Uint8Array(1);\n    crypto.getRandomValues(dest);\n    return dest[0] & 0x30;\n}\n\nvar randomByteBrowser = randomByte;\n\nfunction encode(lookup, number) {\n    var loopCounter = 0;\n    var done;\n\n    var str = '';\n\n    while (!done) {\n        str = str + lookup( ( (number >> (4 * loopCounter)) & 0x0f ) | randomByteBrowser() );\n        done = number < (Math.pow(16, loopCounter + 1 ) );\n        loopCounter++;\n    }\n    return str;\n}\n\nvar encode_1 = encode;\n\n/**\n * Decode the id to get the version and worker\n * Mainly for debugging and testing.\n * @param id - the shortid-generated id.\n */\nfunction decode(id) {\n    var characters = alphabet_1.shuffled();\n    return {\n        version: characters.indexOf(id.substr(0, 1)) & 0x0f,\n        worker: characters.indexOf(id.substr(1, 1)) & 0x0f\n    };\n}\n\nvar decode_1 = decode;\n\nfunction isShortId(id) {\n    if (!id || typeof id !== 'string' || id.length < 6 ) {\n        return false;\n    }\n\n    var characters = alphabet_1.characters();\n    var len = id.length;\n    for(var i = 0; i < len;i++) {\n        if (characters.indexOf(id[i]) === -1) {\n            return false;\n        }\n    }\n    return true;\n}\n\nvar isValid = isShortId;\n\nvar lib$1 = createCommonjsModule(function (module) {\n\n\n\n\n\n\n// Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n// This number should be updated every year or so to keep the generated id short.\n// To regenerate `new Date() - 0` and bump the version. Always bump the version!\nvar REDUCE_TIME = 1459707606518;\n\n// don't change unless we change the algos or REDUCE_TIME\n// must be an integer and less than 16\nvar version = 6;\n\n// if you are using cluster or multiple servers use this to make each instance\n// has a unique value for worker\n// Note: I don't know if this is automatically set when using third\n// party cluster solutions such as pm2.\nvar clusterWorkerId =  0;\n\n// Counter is used when shortid is called multiple times in one second.\nvar counter;\n\n// Remember the last time shortid was called in case counter is needed.\nvar previousSeconds;\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction generate() {\n\n    var str = '';\n\n    var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\n    if (seconds === previousSeconds) {\n        counter++;\n    } else {\n        counter = 0;\n        previousSeconds = seconds;\n    }\n\n    str = str + encode_1(alphabet_1.lookup, version);\n    str = str + encode_1(alphabet_1.lookup, clusterWorkerId);\n    if (counter > 0) {\n        str = str + encode_1(alphabet_1.lookup, counter);\n    }\n    str = str + encode_1(alphabet_1.lookup, seconds);\n\n    return str;\n}\n\n\n/**\n * Set the seed.\n * Highly recommended if you don't want people to try to figure out your id schema.\n * exposed as shortid.seed(int)\n * @param seed Integer value to seed the random alphabet.  ALWAYS USE THE SAME SEED or you might get overlaps.\n */\nfunction seed(seedValue) {\n    alphabet_1.seed(seedValue);\n    return module.exports;\n}\n\n/**\n * Set the cluster worker or machine id\n * exposed as shortid.worker(int)\n * @param workerId worker must be positive integer.  Number less than 16 is recommended.\n * returns shortid module so it can be chained.\n */\nfunction worker(workerId) {\n    clusterWorkerId = workerId;\n    return module.exports;\n}\n\n/**\n *\n * sets new characters to use in the alphabet\n * returns the shuffled alphabet\n */\nfunction characters(newCharacters) {\n    if (newCharacters !== undefined) {\n        alphabet_1.characters(newCharacters);\n    }\n\n    return alphabet_1.shuffled();\n}\n\n\n// Export all other functions as properties of the generate function\nmodule.exports = generate;\nmodule.exports.generate = generate;\nmodule.exports.seed = seed;\nmodule.exports.worker = worker;\nmodule.exports.characters = characters;\nmodule.exports.decode = decode_1;\nmodule.exports.isValid = isValid;\n});\nvar lib_1 = lib$1.generate;\nvar lib_2 = lib$1.seed;\nvar lib_3 = lib$1.worker;\nvar lib_4 = lib$1.characters;\nvar lib_5 = lib$1.decode;\nvar lib_6 = lib$1.isValid;\n\nvar shortid = lib$1;\n\nfunction domainSession (domain, connection, logger, successMessages, errorMessages) {\r\n    if (domain == null) {\r\n        domain = \"global\";\r\n    }\r\n    successMessages = successMessages || [\"success\"];\r\n    errorMessages = errorMessages || [\"error\"];\r\n    var isJoined = false;\r\n    var tryReconnecting = false;\r\n    var _latestOptions;\r\n    var _connectionOn = false;\r\n    var callbacks = lib();\r\n    connection.disconnected(handleConnectionDisconnected);\r\n    connection.loggedIn(handleConnectionLoggedIn);\r\n    connection.on(\"success\", function (msg) { return handleSuccessMessage(msg); });\r\n    connection.on(\"error\", function (msg) { return handleErrorMessage(msg); });\r\n    connection.on(\"result\", function (msg) { return handleSuccessMessage(msg); });\r\n    if (successMessages) {\r\n        successMessages.forEach(function (sm) {\r\n            connection.on(sm, function (msg) { return handleSuccessMessage(msg); });\r\n        });\r\n    }\r\n    if (errorMessages) {\r\n        errorMessages.forEach(function (sm) {\r\n            connection.on(sm, function (msg) { return handleErrorMessage(msg); });\r\n        });\r\n    }\r\n    var requestsMap = {};\r\n    function join(options) {\r\n        _latestOptions = options;\r\n        return new Promise(function (resolve, reject) {\r\n            if (isJoined) {\r\n                resolve();\r\n                return;\r\n            }\r\n            var joinPromise;\r\n            if (domain === \"global\") {\r\n                joinPromise = _connectionOn ? Promise.resolve({}) : Promise.reject(\"not connected to gateway\");\r\n            }\r\n            else {\r\n                logger.debug(\"joining domain \" + domain);\r\n                var joinMsg = {\r\n                    type: \"join\",\r\n                    destination: domain,\r\n                    domain: \"global\",\r\n                    options: options,\r\n                };\r\n                joinPromise = send(joinMsg);\r\n            }\r\n            joinPromise\r\n                .then(function () {\r\n                handleJoined();\r\n                resolve();\r\n            })\r\n                .catch(function (err) {\r\n                logger.debug(\"error joining \" + domain + \" domain: \" + JSON.stringify(err));\r\n                reject(err);\r\n            });\r\n        });\r\n    }\r\n    function leave() {\r\n        if (domain === \"global\") {\r\n            return Promise.resolve();\r\n        }\r\n        logger.debug(\"stopping session \" + domain + \"...\");\r\n        var leaveMsg = {\r\n            type: \"leave\",\r\n            destination: domain,\r\n            domain: \"global\",\r\n        };\r\n        tryReconnecting = false;\r\n        return send(leaveMsg).then(function () {\r\n            isJoined = false;\r\n            callbacks.execute(\"onLeft\");\r\n        });\r\n    }\r\n    function handleJoined() {\r\n        logger.debug(\"did join \" + domain);\r\n        isJoined = true;\r\n        var wasReconnect = tryReconnecting;\r\n        tryReconnecting = false;\r\n        callbacks.execute(\"onJoined\", wasReconnect);\r\n    }\r\n    function handleConnectionDisconnected() {\r\n        _connectionOn = false;\r\n        logger.debug(\"connection is down\");\r\n        isJoined = false;\r\n        tryReconnecting = true;\r\n        callbacks.execute(\"onLeft\", { disconnected: true });\r\n    }\r\n    function handleConnectionLoggedIn() {\r\n        _connectionOn = true;\r\n        if (tryReconnecting) {\r\n            logger.debug(\"connection is now up - trying to reconnect...\");\r\n            join(_latestOptions);\r\n        }\r\n    }\r\n    function onJoined(callback) {\r\n        if (isJoined) {\r\n            callback(false);\r\n        }\r\n        return callbacks.add(\"onJoined\", callback);\r\n    }\r\n    function onLeft(callback) {\r\n        if (!isJoined) {\r\n            callback();\r\n        }\r\n        return callbacks.add(\"onLeft\", callback);\r\n    }\r\n    function handleErrorMessage(msg) {\r\n        if (domain !== msg.domain) {\r\n            return;\r\n        }\r\n        var requestId = msg.request_id;\r\n        if (!requestId) {\r\n            return;\r\n        }\r\n        var entry = requestsMap[requestId];\r\n        if (!entry) {\r\n            return;\r\n        }\r\n        entry.error(msg);\r\n    }\r\n    function handleSuccessMessage(msg) {\r\n        if (msg.domain !== domain) {\r\n            return;\r\n        }\r\n        var requestId = msg.request_id;\r\n        if (!requestId) {\r\n            return;\r\n        }\r\n        var entry = requestsMap[requestId];\r\n        if (!entry) {\r\n            return;\r\n        }\r\n        entry.success(msg);\r\n    }\r\n    function getNextRequestId() {\r\n        return shortid();\r\n    }\r\n    function send(msg, tag, options) {\r\n        options = options || {};\r\n        msg.request_id = msg.request_id || getNextRequestId();\r\n        msg.domain = msg.domain || domain;\r\n        if (!options.skipPeerId) {\r\n            msg.peer_id = connection.peerId;\r\n        }\r\n        var requestId = msg.request_id;\r\n        return new Promise(function (resolve, reject) {\r\n            requestsMap[requestId] = {\r\n                success: function (successMsg) {\r\n                    delete requestsMap[requestId];\r\n                    successMsg._tag = tag;\r\n                    resolve(successMsg);\r\n                },\r\n                error: function (errorMsg) {\r\n                    logger.warn(\"GW error - \" + JSON.stringify(errorMsg) + \" for request \" + JSON.stringify(msg));\r\n                    delete requestsMap[requestId];\r\n                    errorMsg._tag = tag;\r\n                    reject(errorMsg);\r\n                },\r\n            };\r\n            connection\r\n                .send(msg, options)\r\n                .catch(function (err) {\r\n                requestsMap[requestId].error({ err: err });\r\n            });\r\n        });\r\n    }\r\n    function sendFireAndForget(msg) {\r\n        msg.request_id = msg.request_id ? msg.request_id : getNextRequestId();\r\n        msg.domain = msg.domain || domain;\r\n        msg.peer_id = connection.peerId;\r\n        return connection.send(msg);\r\n    }\r\n    return {\r\n        join: join,\r\n        leave: leave,\r\n        onJoined: onJoined,\r\n        onLeft: onLeft,\r\n        send: send,\r\n        sendFireAndForget: sendFireAndForget,\r\n        on: function (type, callback) {\r\n            connection.on(type, function (msg) {\r\n                if (msg.domain !== domain) {\r\n                    return;\r\n                }\r\n                try {\r\n                    callback(msg);\r\n                }\r\n                catch (e) {\r\n                    logger.error(\"Callback  failed: \" + e + \" \\n \" + e.stack + \" \\n msg was: \" + JSON.stringify(msg), e);\r\n                }\r\n            });\r\n        },\r\n        loggedIn: function (callback) { return connection.loggedIn(callback); },\r\n        connected: function (callback) { return connection.connected(callback); },\r\n        disconnected: function (callback) { return connection.disconnected(callback); },\r\n        get peerId() {\r\n            return connection.peerId;\r\n        },\r\n        get domain() {\r\n            return domain;\r\n        },\r\n    };\r\n}\n\nvar GW3ProtocolImpl = (function () {\r\n    function GW3ProtocolImpl(connection, settings, logger) {\r\n        var _this = this;\r\n        this.connection = connection;\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        this.protocolVersion = 3;\r\n        this.datePrefix = \"#T42_DATE#\";\r\n        this.datePrefixLen = this.datePrefix.length;\r\n        this.dateMinLen = this.datePrefixLen + 1;\r\n        this.datePrefixFirstChar = this.datePrefix[0];\r\n        this.registry = lib();\r\n        this._isLoggedIn = false;\r\n        this.shouldTryLogin = true;\r\n        this.initialLogin = true;\r\n        this.initialLoginAttempts = 3;\r\n        this.sessions = [];\r\n        connection.disconnected(function () {\r\n            _this.handleDisconnected();\r\n        });\r\n        this.ping();\r\n    }\r\n    Object.defineProperty(GW3ProtocolImpl.prototype, \"isLoggedIn\", {\r\n        get: function () {\r\n            return this._isLoggedIn;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    GW3ProtocolImpl.prototype.processStringMessage = function (message) {\r\n        var _this = this;\r\n        var msg = JSON.parse(message, function (key, value) {\r\n            if (typeof value !== \"string\") {\r\n                return value;\r\n            }\r\n            if (value.length < _this.dateMinLen) {\r\n                return value;\r\n            }\r\n            if (value[0] !== _this.datePrefixFirstChar) {\r\n                return value;\r\n            }\r\n            if (value.substring(0, _this.datePrefixLen) !== _this.datePrefix) {\r\n                return value;\r\n            }\r\n            try {\r\n                var milliseconds = parseInt(value.substring(_this.datePrefixLen, value.length), 10);\r\n                if (isNaN(milliseconds)) {\r\n                    return value;\r\n                }\r\n                return new Date(milliseconds);\r\n            }\r\n            catch (ex) {\r\n                return value;\r\n            }\r\n        });\r\n        return {\r\n            msg: msg,\r\n            msgType: msg.type,\r\n        };\r\n    };\r\n    GW3ProtocolImpl.prototype.createStringMessage = function (message) {\r\n        var oldToJson = Date.prototype.toJSON;\r\n        try {\r\n            var datePrefix_1 = this.datePrefix;\r\n            Date.prototype.toJSON = function () {\r\n                return datePrefix_1 + this.getTime();\r\n            };\r\n            var result = JSON.stringify(message);\r\n            return result;\r\n        }\r\n        finally {\r\n            Date.prototype.toJSON = oldToJson;\r\n        }\r\n    };\r\n    GW3ProtocolImpl.prototype.processObjectMessage = function (message) {\r\n        if (!message.type) {\r\n            throw new Error(\"Object should have type property\");\r\n        }\r\n        return {\r\n            msg: message,\r\n            msgType: message.type,\r\n        };\r\n    };\r\n    GW3ProtocolImpl.prototype.createObjectMessage = function (message) {\r\n        return message;\r\n    };\r\n    GW3ProtocolImpl.prototype.login = function (config, reconnect) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var authentication, token, e_1, _a, helloMsg, sendOptions, welcomeMsg, msg, token, _b, err_1;\r\n            return __generator(this, function (_c) {\r\n                switch (_c.label) {\r\n                    case 0:\r\n                        this.logger.debug(\"logging in...\");\r\n                        this.loginConfig = config;\r\n                        if (!this.loginConfig) {\r\n                            this.loginConfig = { username: \"\", password: \"\" };\r\n                        }\r\n                        this.shouldTryLogin = true;\r\n                        authentication = {};\r\n                        this.connection.gatewayToken = config.gatewayToken;\r\n                        if (!config.gatewayToken) return [3, 5];\r\n                        if (!reconnect) return [3, 4];\r\n                        _c.label = 1;\r\n                    case 1:\r\n                        _c.trys.push([1, 3, , 4]);\r\n                        return [4, this.getNewGWToken()];\r\n                    case 2:\r\n                        token = _c.sent();\r\n                        config.gatewayToken = token;\r\n                        return [3, 4];\r\n                    case 3:\r\n                        e_1 = _c.sent();\r\n                        this.logger.warn(\"failed to get GW token when reconnecting \" + ((e_1 === null || e_1 === void 0 ? void 0 : e_1.message) || e_1));\r\n                        return [3, 4];\r\n                    case 4:\r\n                        authentication.method = \"gateway-token\";\r\n                        authentication.token = config.gatewayToken;\r\n                        this.connection.gatewayToken = config.gatewayToken;\r\n                        return [3, 10];\r\n                    case 5:\r\n                        if (!(config.flowName === \"sspi\")) return [3, 9];\r\n                        authentication.provider = \"win\";\r\n                        authentication.method = \"access-token\";\r\n                        if (!(config.flowCallback && config.sessionId)) return [3, 7];\r\n                        _a = authentication;\r\n                        return [4, config.flowCallback(config.sessionId, null)];\r\n                    case 6:\r\n                        _a.token =\r\n                            (_c.sent())\r\n                                .data\r\n                                .toString(\"base64\");\r\n                        return [3, 8];\r\n                    case 7: throw new Error(\"Invalid SSPI config\");\r\n                    case 8: return [3, 10];\r\n                    case 9:\r\n                        if (config.token) {\r\n                            authentication.method = \"access-token\";\r\n                            authentication.token = config.token;\r\n                        }\r\n                        else if (config.username) {\r\n                            authentication.method = \"secret\";\r\n                            authentication.login = config.username;\r\n                            authentication.secret = config.password;\r\n                        }\r\n                        else {\r\n                            throw new Error(\"invalid auth message\" + JSON.stringify(config));\r\n                        }\r\n                        _c.label = 10;\r\n                    case 10:\r\n                        helloMsg = {\r\n                            type: \"hello\",\r\n                            identity: this.settings.identity,\r\n                            authentication: authentication\r\n                        };\r\n                        if (config.sessionId) {\r\n                            helloMsg.request_id = config.sessionId;\r\n                        }\r\n                        this.globalDomain = domainSession(\"global\", this.connection, this.logger.subLogger(\"global-domain\"), [\r\n                            \"welcome\",\r\n                            \"token\",\r\n                            \"authentication-request\"\r\n                        ]);\r\n                        sendOptions = { skipPeerId: true };\r\n                        if (this.initialLogin) {\r\n                            sendOptions.retryInterval = this.settings.reconnectInterval;\r\n                            sendOptions.maxRetries = this.settings.reconnectAttempts;\r\n                        }\r\n                        _c.label = 11;\r\n                    case 11:\r\n                        _c.trys.push([11, 19, 20, 21]);\r\n                        welcomeMsg = void 0;\r\n                        _c.label = 12;\r\n                    case 12:\r\n                        return [4, this.globalDomain.send(helloMsg, undefined, sendOptions)];\r\n                    case 13:\r\n                        msg = _c.sent();\r\n                        if (!(msg.type === \"authentication-request\")) return [3, 16];\r\n                        token = Buffer.from(msg.authentication.token, \"base64\");\r\n                        if (!(config.flowCallback && config.sessionId)) return [3, 15];\r\n                        _b = helloMsg.authentication;\r\n                        return [4, config.flowCallback(config.sessionId, token)];\r\n                    case 14:\r\n                        _b.token =\r\n                            (_c.sent())\r\n                                .data\r\n                                .toString(\"base64\");\r\n                        _c.label = 15;\r\n                    case 15:\r\n                        helloMsg.request_id = config.sessionId;\r\n                        return [3, 12];\r\n                    case 16:\r\n                        if (msg.type === \"welcome\") {\r\n                            welcomeMsg = msg;\r\n                            return [3, 18];\r\n                        }\r\n                        else if (msg.type === \"error\") {\r\n                            throw new Error(\"Authentication failed: \" + msg.reason);\r\n                        }\r\n                        else {\r\n                            throw new Error(\"Unexpected message type during authentication: \" + msg.type);\r\n                        }\r\n                    case 17: return [3, 12];\r\n                    case 18:\r\n                        this.initialLogin = false;\r\n                        this.logger.debug(\"login successful with peerId \" + welcomeMsg.peer_id);\r\n                        this.connection.peerId = welcomeMsg.peer_id;\r\n                        this.connection.resolvedIdentity = welcomeMsg.resolved_identity;\r\n                        this.connection.availableDomains = welcomeMsg.available_domains;\r\n                        if (welcomeMsg.options) {\r\n                            this.connection.token = welcomeMsg.options.access_token;\r\n                            this.connection.info = welcomeMsg.options.info;\r\n                        }\r\n                        this.setLoggedIn(true);\r\n                        return [2, welcomeMsg.resolved_identity];\r\n                    case 19:\r\n                        err_1 = _c.sent();\r\n                        this.logger.error(\"error sending hello message - \" + (err_1.message || err_1.msg || err_1.reason || err_1), err_1);\r\n                        throw err_1;\r\n                    case 20:\r\n                        if (config && config.flowCallback && config.sessionId) {\r\n                            config.flowCallback(config.sessionId, null);\r\n                        }\r\n                        return [7];\r\n                    case 21: return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    GW3ProtocolImpl.prototype.logout = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var promises;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        this.logger.debug(\"logging out...\");\r\n                        this.shouldTryLogin = false;\r\n                        if (this.pingTimer) {\r\n                            clearTimeout(this.pingTimer);\r\n                        }\r\n                        promises = this.sessions.map(function (session) {\r\n                            session.leave();\r\n                        });\r\n                        return [4, Promise.all(promises)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    GW3ProtocolImpl.prototype.loggedIn = function (callback) {\r\n        if (this._isLoggedIn) {\r\n            callback();\r\n        }\r\n        return this.registry.add(\"onLoggedIn\", callback);\r\n    };\r\n    GW3ProtocolImpl.prototype.domain = function (domainName, domainLogger, successMessages, errorMessages) {\r\n        var session = this.sessions.filter(function (s) { return s.domain === domainName; })[0];\r\n        if (!session) {\r\n            session = domainSession(domainName, this.connection, domainLogger, successMessages, errorMessages);\r\n            this.sessions.push(session);\r\n        }\r\n        return session;\r\n    };\r\n    GW3ProtocolImpl.prototype.handleDisconnected = function () {\r\n        var _this = this;\r\n        this.setLoggedIn(false);\r\n        var tryToLogin = this.shouldTryLogin;\r\n        if (tryToLogin && this.initialLogin) {\r\n            if (this.initialLoginAttempts <= 0) {\r\n                return;\r\n            }\r\n            this.initialLoginAttempts--;\r\n        }\r\n        this.logger.debug(\"disconnected - will try new login?\" + this.shouldTryLogin);\r\n        if (this.shouldTryLogin) {\r\n            if (!this.loginConfig) {\r\n                throw new Error(\"no login info\");\r\n            }\r\n            this.connection.login(this.loginConfig, true)\r\n                .catch(function () {\r\n                setTimeout(_this.handleDisconnected.bind(_this), _this.settings.reconnectInterval || 1000);\r\n            });\r\n        }\r\n    };\r\n    GW3ProtocolImpl.prototype.setLoggedIn = function (value) {\r\n        this._isLoggedIn = value;\r\n        if (this._isLoggedIn) {\r\n            this.registry.execute(\"onLoggedIn\");\r\n        }\r\n    };\r\n    GW3ProtocolImpl.prototype.ping = function () {\r\n        var _this = this;\r\n        if (!this.shouldTryLogin) {\r\n            return;\r\n        }\r\n        if (this._isLoggedIn) {\r\n            this.connection.send({ type: \"ping\" });\r\n        }\r\n        this.pingTimer = setTimeout(function () {\r\n            _this.ping();\r\n        }, 30 * 1000);\r\n    };\r\n    GW3ProtocolImpl.prototype.authToken = function () {\r\n        var createTokenReq = {\r\n            type: \"create-token\"\r\n        };\r\n        if (!this.globalDomain) {\r\n            return Promise.reject(new Error(\"no global domain session\"));\r\n        }\r\n        return this.globalDomain.send(createTokenReq)\r\n            .then(function (res) {\r\n            return res.token;\r\n        });\r\n    };\r\n    GW3ProtocolImpl.prototype.getNewGWToken = function () {\r\n        if (typeof window !== undefined) {\r\n            var glue42gd = window.glue42gd;\r\n            if (glue42gd) {\r\n                return glue42gd.getGWToken();\r\n            }\r\n        }\r\n        return Promise.reject(new Error(\"not running in GD\"));\r\n    };\r\n    return GW3ProtocolImpl;\r\n}());\n\nvar MessageReplayerImpl = (function () {\r\n    function MessageReplayerImpl(specs) {\r\n        this.specsNames = [];\r\n        this.messages = {};\r\n        this.subs = {};\r\n        this.subsRefCount = {};\r\n        this.specs = {};\r\n        for (var _i = 0, specs_1 = specs; _i < specs_1.length; _i++) {\r\n            var spec = specs_1[_i];\r\n            this.specs[spec.name] = spec;\r\n            this.specsNames.push(spec.name);\r\n        }\r\n    }\r\n    MessageReplayerImpl.prototype.init = function (connection) {\r\n        var _this = this;\r\n        this.connection = connection;\r\n        for (var _i = 0, _a = this.specsNames; _i < _a.length; _i++) {\r\n            var name_1 = _a[_i];\r\n            var _loop_1 = function (type) {\r\n                var refCount = this_1.subsRefCount[type];\r\n                if (!refCount) {\r\n                    refCount = 0;\r\n                }\r\n                refCount += 1;\r\n                this_1.subsRefCount[type] = refCount;\r\n                if (refCount > 1) {\r\n                    return \"continue\";\r\n                }\r\n                var sub = connection.on(type, function (msg) { return _this.processMessage(type, msg); });\r\n                this_1.subs[type] = sub;\r\n            };\r\n            var this_1 = this;\r\n            for (var _b = 0, _c = this.specs[name_1].types; _b < _c.length; _b++) {\r\n                var type = _c[_b];\r\n                _loop_1(type);\r\n            }\r\n        }\r\n    };\r\n    MessageReplayerImpl.prototype.processMessage = function (type, msg) {\r\n        if (this.isDone || !msg) {\r\n            return;\r\n        }\r\n        for (var _i = 0, _a = this.specsNames; _i < _a.length; _i++) {\r\n            var name_2 = _a[_i];\r\n            if (this.specs[name_2].types.indexOf(type) !== -1) {\r\n                var messages = this.messages[name_2] || [];\r\n                this.messages[name_2] = messages;\r\n                messages.push(msg);\r\n            }\r\n        }\r\n    };\r\n    MessageReplayerImpl.prototype.drain = function (name, callback) {\r\n        var _a;\r\n        if (callback) {\r\n            (this.messages[name] || []).forEach(callback);\r\n        }\r\n        delete this.messages[name];\r\n        for (var _i = 0, _b = this.specs[name].types; _i < _b.length; _i++) {\r\n            var type = _b[_i];\r\n            this.subsRefCount[type] -= 1;\r\n            if (this.subsRefCount[type] <= 0) {\r\n                (_a = this.connection) === null || _a === void 0 ? void 0 : _a.off(this.subs[type]);\r\n                delete this.subs[type];\r\n                delete this.subsRefCount[type];\r\n            }\r\n        }\r\n        delete this.specs[name];\r\n        if (!this.specs.length) {\r\n            this.isDone = true;\r\n        }\r\n    };\r\n    return MessageReplayerImpl;\r\n}());\n\nvar PromisePlus = function (executor, timeoutMilliseconds, timeoutMessage) {\r\n    return new Promise(function (resolve, reject) {\r\n        var timeout = setTimeout(function () {\r\n            var message = timeoutMessage || \"Promise timeout hit: \" + timeoutMilliseconds;\r\n            reject(message);\r\n        }, timeoutMilliseconds);\r\n        var providedPromise = new Promise(executor);\r\n        providedPromise\r\n            .then(function (result) {\r\n            clearTimeout(timeout);\r\n            resolve(result);\r\n        })\r\n            .catch(function (error) {\r\n            clearTimeout(timeout);\r\n            reject(error);\r\n        });\r\n    });\r\n};\n\nvar WebPlatformTransport = (function () {\r\n    function WebPlatformTransport(settings, logger, identity) {\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        this.identity = identity;\r\n        this.parentReady = false;\r\n        this.iAmConnected = false;\r\n        this.rejected = false;\r\n        this.children = [];\r\n        this.parentPingTimeout = 3000;\r\n        this.connectionRequestTimeout = 5000;\r\n        this.defaultTargetString = \"*\";\r\n        this.registry = lib();\r\n        this.messages = {\r\n            connectionAccepted: { name: \"connectionAccepted\", handle: this.handleConnectionAccepted.bind(this) },\r\n            connectionRejected: { name: \"connectionRejected\", handle: this.handleConnectionRejected.bind(this) },\r\n            connectionRequest: { name: \"connectionRequest\", handle: this.handleConnectionRequest.bind(this) },\r\n            parentReady: { name: \"parentReady\", handle: this.handleParentReady.bind(this) },\r\n            parentPing: { name: \"parentPing\", handle: this.handleParentPing.bind(this) },\r\n            platformPing: { name: \"platformPing\", handle: this.handlePlatformPing.bind(this) },\r\n            platformUnload: { name: \"platformUnload\", handle: this.handlePlatformUnload.bind(this) },\r\n            platformReady: { name: \"platformReady\", handle: this.handlePlatformReady.bind(this) },\r\n            clientUnload: { name: \"clientUnload\", handle: this.handleClientUnload.bind(this) },\r\n            manualUnload: { name: \"manualUnload\", handle: this.handleManualUnload.bind(this) }\r\n        };\r\n        this.setUpMessageListener();\r\n        this.setUpUnload();\r\n        if (!this.settings.port) {\r\n            this.parent = window.opener || window.top;\r\n            this.parentType = window.opener ? \"opener\" :\r\n                window.name.indexOf(\"#wsp\") !== -1 ? \"workspace\" : \"top\";\r\n        }\r\n    }\r\n    Object.defineProperty(WebPlatformTransport.prototype, \"transportWindowId\", {\r\n        get: function () {\r\n            return this.publicWindowId;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    WebPlatformTransport.prototype.sendObject = function (msg) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                if (!this.port) {\r\n                    throw new Error(\"Cannot send message, because the port was not opened yet\");\r\n                }\r\n                this.port.postMessage(msg);\r\n                return [2];\r\n            });\r\n        });\r\n    };\r\n    Object.defineProperty(WebPlatformTransport.prototype, \"isObjectBasedTransport\", {\r\n        get: function () {\r\n            return true;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    WebPlatformTransport.prototype.onMessage = function (callback) {\r\n        return this.registry.add(\"onMessage\", callback);\r\n    };\r\n    WebPlatformTransport.prototype.send = function () {\r\n        return Promise.reject(\"not supported\");\r\n    };\r\n    WebPlatformTransport.prototype.onConnectedChanged = function (callback) {\r\n        return this.registry.add(\"onConnectedChanged\", callback);\r\n    };\r\n    WebPlatformTransport.prototype.open = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        this.logger.debug(\"opening a connection to the web platform gateway.\");\r\n                        return [4, this.connect()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        this.notifyStatusChanged(true);\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.close = function () {\r\n        return Promise.resolve();\r\n    };\r\n    WebPlatformTransport.prototype.name = function () {\r\n        return \"web-platform\";\r\n    };\r\n    WebPlatformTransport.prototype.reconnect = function () {\r\n        return Promise.resolve();\r\n    };\r\n    WebPlatformTransport.prototype.connect = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (this.parentReady) {\r\n                            this.logger.debug(\"cancelling connection attempt, because this client's parent has already given a ready signal\");\r\n                            return [2];\r\n                        }\r\n                        if (this.settings.port) {\r\n                            this.logger.debug(\"opening an internal web platform connection\");\r\n                            this.port = this.settings.port;\r\n                            this.publicWindowId = this.settings.windowId;\r\n                            if (this.identity) {\r\n                                this.identity.windowId = this.publicWindowId;\r\n                            }\r\n                            this.port.onmessage = function (event) { return _this.registry.execute(\"onMessage\", event.data); };\r\n                            this.logger.debug(\"internal web platform connection completed\");\r\n                            return [2];\r\n                        }\r\n                        if (!this.parentType || !this.parent) {\r\n                            throw new Error(\"Cannot initiate a connection, because there is no opener, no top and no port.\");\r\n                        }\r\n                        this.logger.debug(\"opening a \" + (this.parentType === \"opener\" ? \"child\" : \"grandchild\") + \" client web platform connection\");\r\n                        return [4, this.waitParent(this.parent, this.parentType)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [4, this.initiateRemoteConnection(this.parent, this.parentType)];\r\n                    case 2:\r\n                        _a.sent();\r\n                        this.logger.debug(\"the \" + (this.parentType === \"opener\" ? \"child\" : \"grandchild\") + \" client is connected\");\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.initiateRemoteConnection = function (target, parentType) {\r\n        var _this = this;\r\n        return PromisePlus(function (resolve, reject) {\r\n            _this.connectionResolve = resolve;\r\n            _this.connectionReject = reject;\r\n            _this.myClientId = shortid();\r\n            var bridgeInstanceId = _this.parentType === \"workspace\" ? window.name.substring(0, window.name.indexOf(\"#wsp\")) : window.name;\r\n            var request = {\r\n                glue42core: {\r\n                    type: _this.messages.connectionRequest.name,\r\n                    clientId: _this.myClientId,\r\n                    clientType: parentType === \"top\" || parentType === \"workspace\" ? \"grandChild\" : \"child\",\r\n                    bridgeInstanceId: bridgeInstanceId\r\n                }\r\n            };\r\n            _this.logger.debug(\"sending connection request to \" + parentType);\r\n            target.postMessage(request, _this.defaultTargetString);\r\n        }, this.connectionRequestTimeout, \"The connection to the opener/top window timed out\");\r\n    };\r\n    WebPlatformTransport.prototype.waitParent = function (target, parentType) {\r\n        var _this = this;\r\n        return PromisePlus(function (resolve) {\r\n            _this.parentPingResolve = resolve;\r\n            var message = {\r\n                glue42core: {\r\n                    type: parentType === \"opener\" ? _this.messages.platformPing.name : _this.messages.parentPing.name\r\n                }\r\n            };\r\n            _this.logger.debug(\"checking for \" + parentType + \" window availability\");\r\n            target.postMessage(message, _this.defaultTargetString);\r\n        }, this.parentPingTimeout, \"Cannot initiate glue, because this window was not opened or created by a glue client\");\r\n    };\r\n    WebPlatformTransport.prototype.setUpMessageListener = function () {\r\n        var _this = this;\r\n        if (this.settings.port) {\r\n            this.logger.debug(\"skipping generic message listener, because this is an internal client\");\r\n            return;\r\n        }\r\n        window.addEventListener(\"message\", function (event) {\r\n            var _a;\r\n            var data = (_a = event.data) === null || _a === void 0 ? void 0 : _a.glue42core;\r\n            if (!data || _this.rejected) {\r\n                return;\r\n            }\r\n            if (!_this.checkMessageTypeValid(data.type)) {\r\n                _this.logger.error(\"cannot handle the incoming glue42 core message, because the type is invalid: \" + data.type);\r\n                return;\r\n            }\r\n            var messageType = data.type;\r\n            _this.logger.debug(\"received valid glue42core message of type: \" + messageType);\r\n            _this.messages[messageType].handle(event);\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.setUpUnload = function () {\r\n        var _this = this;\r\n        if (this.settings.port) {\r\n            this.logger.debug(\"skipping unload event listener, because this is an internal client\");\r\n            return;\r\n        }\r\n        window.addEventListener(\"beforeunload\", function () {\r\n            var _a, _b;\r\n            var message = {\r\n                glue42core: {\r\n                    type: _this.messages.clientUnload.name,\r\n                    data: {\r\n                        clientId: _this.myClientId,\r\n                        ownWindowId: (_a = _this.identity) === null || _a === void 0 ? void 0 : _a.windowId\r\n                    }\r\n                }\r\n            };\r\n            if (_this.parent) {\r\n                _this.parent.postMessage(message, _this.defaultTargetString);\r\n            }\r\n            (_b = _this.port) === null || _b === void 0 ? void 0 : _b.postMessage(message);\r\n        });\r\n    };\r\n    WebPlatformTransport.prototype.handleParentReady = function () {\r\n        this.logger.debug(\"handling the ready signal from the parent, by resoling the pending promise.\");\r\n        this.parentReady = true;\r\n        if (this.parentPingResolve) {\r\n            this.parentPingResolve();\r\n            delete this.parentPingResolve;\r\n            return;\r\n        }\r\n        this.logger.debug(\"silently handling the ready signal from the top parent, because there is no defined promise\");\r\n    };\r\n    WebPlatformTransport.prototype.handlePlatformReady = function () {\r\n        this.logger.debug(\"the web platform gave the ready signal\");\r\n        this.parentReady = true;\r\n        if (this.parentPingResolve) {\r\n            this.parentPingResolve();\r\n            delete this.parentPingResolve;\r\n            return;\r\n        }\r\n        this.logger.debug(\"silently handling the ready signal from the top parent, because there is no defined promise\");\r\n    };\r\n    WebPlatformTransport.prototype.handleConnectionAccepted = function (event) {\r\n        var _a;\r\n        var data = (_a = event.data) === null || _a === void 0 ? void 0 : _a.glue42core;\r\n        if (this.myClientId === data.clientId) {\r\n            return this.handleAcceptanceOfMyRequest(data);\r\n        }\r\n        return this.handleAcceptanceOfGrandChildRequest(data, event);\r\n    };\r\n    WebPlatformTransport.prototype.handleAcceptanceOfMyRequest = function (data) {\r\n        var _this = this;\r\n        this.logger.debug(\"handling a connection accepted signal targeted at me.\");\r\n        if (!data.port) {\r\n            this.logger.error(\"cannot set up my connection, because I was not provided with a port\");\r\n            return;\r\n        }\r\n        this.publicWindowId = this.parentType === \"opener\" ? window.name :\r\n            this.parentType === \"top\" ? data.parentWindowId :\r\n                window.name.substring(0, window.name.indexOf(\"#wsp\"));\r\n        if (this.identity && this.parentType !== \"top\") {\r\n            this.identity.windowId = this.publicWindowId;\r\n        }\r\n        if (this.identity && data.appName) {\r\n            this.identity.application = data.appName;\r\n            this.identity.applicationName = data.appName;\r\n        }\r\n        this.port = data.port;\r\n        this.port.onmessage = function (e) { return _this.registry.execute(\"onMessage\", e.data); };\r\n        if (this.connectionResolve) {\r\n            this.logger.debug(\"my connection is set up, calling the connection resolve.\");\r\n            this.connectionResolve();\r\n            delete this.connectionResolve;\r\n            return;\r\n        }\r\n        this.logger.error(\"unable to call the connection resolve, because no connection promise was found\");\r\n    };\r\n    WebPlatformTransport.prototype.handleAcceptanceOfGrandChildRequest = function (data, event) {\r\n        this.logger.debug(\"handling a connection accepted signal targeted at a grandchild: \" + data.clientId);\r\n        var child = this.children.find(function (c) { return c.grandChildId === data.clientId; });\r\n        if (!child) {\r\n            this.logger.error(\"cannot handle connection accepted for grandchild: \" + data.clientId + \", because there is no grandchild with this id\");\r\n            return;\r\n        }\r\n        child.connected = true;\r\n        this.logger.debug(\"the grandchild connection for \" + data.clientId + \" is set up, forwarding the success message and the gateway port\");\r\n        data.parentWindowId = this.publicWindowId;\r\n        child.source.postMessage(event.data, child.origin, [data.port]);\r\n        return;\r\n    };\r\n    WebPlatformTransport.prototype.handleConnectionRejected = function () {\r\n        this.logger.debug(\"handling a connection rejection. Most likely the reason is that this window was not created by a glue API call\");\r\n        if (this.connectionReject) {\r\n            this.connectionReject(\"The platform connection was rejected. Most likely because this window was not created by a glue API call\");\r\n            delete this.connectionReject;\r\n        }\r\n    };\r\n    WebPlatformTransport.prototype.handleConnectionRequest = function (event) {\r\n        var source = event.source;\r\n        var data = event.data.glue42core;\r\n        if (!data.clientType || data.clientType !== \"grandChild\") {\r\n            return this.rejectConnectionRequest(source, event.origin, \"rejecting a connection request, because the source was not opened by a glue API call\");\r\n        }\r\n        if (!data.clientId) {\r\n            return this.rejectConnectionRequest(source, event.origin, \"rejecting a connection request, because the source did not provide a valid id\");\r\n        }\r\n        if (this.parentType !== \"opener\" || !this.parent) {\r\n            return this.rejectConnectionRequest(source, event.origin, \"Cannot forward the connection request, because no direct connection to the platform was found\");\r\n        }\r\n        this.logger.debug(\"handling a connection request for a grandchild: \" + data.clientId);\r\n        this.children.push({ grandChildId: data.clientId, source: source, connected: false, origin: event.origin });\r\n        this.logger.debug(\"grandchild: \" + data.clientId + \" is prepared, forwarding connection request to the platform\");\r\n        this.parent.postMessage(event.data, this.defaultTargetString);\r\n    };\r\n    WebPlatformTransport.prototype.handleParentPing = function (event) {\r\n        if (!this.parentReady) {\r\n            this.logger.debug(\"my parent is not ready, I am ignoring the parent ping\");\r\n            return;\r\n        }\r\n        if (!this.iAmConnected) {\r\n            this.logger.debug(\"i am not fully connected yet, I am ignoring the parent ping\");\r\n            return;\r\n        }\r\n        var message = {\r\n            glue42core: {\r\n                type: this.messages.parentReady.name\r\n            }\r\n        };\r\n        var source = event.source;\r\n        this.logger.debug(\"responding to a parent ping with a ready message\");\r\n        source.postMessage(message, event.origin);\r\n    };\r\n    WebPlatformTransport.prototype.handlePlatformUnload = function (event) {\r\n        this.logger.debug(\"detected a web platform unload\");\r\n        this.parentReady = false;\r\n        if (this.children.length) {\r\n            this.logger.debug(\"forwarding the platform unload to all known children and starting platform discovery polling\");\r\n            this.children.forEach(function (child) { return child.source.postMessage(event.data, child.origin); });\r\n        }\r\n        this.notifyStatusChanged(false, \"Gateway unloaded\");\r\n    };\r\n    WebPlatformTransport.prototype.handleManualUnload = function () {\r\n        var _a, _b;\r\n        var message = {\r\n            glue42core: {\r\n                type: this.messages.clientUnload.name,\r\n                data: {\r\n                    clientId: this.myClientId,\r\n                    ownWindowId: (_a = this.identity) === null || _a === void 0 ? void 0 : _a.windowId\r\n                }\r\n            }\r\n        };\r\n        if (this.parent) {\r\n            this.parent.postMessage(message, this.defaultTargetString);\r\n        }\r\n        (_b = this.port) === null || _b === void 0 ? void 0 : _b.postMessage(message);\r\n    };\r\n    WebPlatformTransport.prototype.handleClientUnload = function (event) {\r\n        var data = event.data.glue42core;\r\n        var clientId = data === null || data === void 0 ? void 0 : data.data.clientId;\r\n        if (!clientId) {\r\n            this.logger.warn(\"cannot process grand child unload, because the provided id was not valid\");\r\n            return;\r\n        }\r\n        var foundChild = this.children.find(function (child) { return child.grandChildId === clientId; });\r\n        if (!foundChild) {\r\n            this.logger.warn(\"cannot process grand child unload, because this client is unaware of this grandchild\");\r\n            return;\r\n        }\r\n        this.logger.debug(\"handling grandchild unload for id: \" + clientId);\r\n        this.children = this.children.filter(function (child) { return child.grandChildId !== clientId; });\r\n    };\r\n    WebPlatformTransport.prototype.handlePlatformPing = function () {\r\n        this.logger.error(\"cannot handle platform ping, because this is not a platform calls handling component\");\r\n    };\r\n    WebPlatformTransport.prototype.notifyStatusChanged = function (status, reason) {\r\n        this.iAmConnected = status;\r\n        this.registry.execute(\"onConnectedChanged\", status, reason);\r\n    };\r\n    WebPlatformTransport.prototype.checkMessageTypeValid = function (typeToValidate) {\r\n        return typeof typeToValidate === \"string\" && !!this.messages[typeToValidate];\r\n    };\r\n    WebPlatformTransport.prototype.rejectConnectionRequest = function (source, origin, reason) {\r\n        this.rejected = true;\r\n        this.logger.error(reason);\r\n        var rejection = {\r\n            glue42core: {\r\n                type: this.messages.connectionRejected.name\r\n            }\r\n        };\r\n        source.postMessage(rejection, origin);\r\n    };\r\n    return WebPlatformTransport;\r\n}());\n\nvar Connection = (function () {\r\n    function Connection(settings, logger) {\r\n        this.settings = settings;\r\n        this.logger = logger;\r\n        this.messageHandlers = {};\r\n        this.ids = 1;\r\n        this.registry = lib();\r\n        this._connected = false;\r\n        this.isTrace = false;\r\n        settings = settings || {};\r\n        settings.reconnectAttempts = settings.reconnectAttempts || 10;\r\n        settings.reconnectInterval = settings.reconnectInterval || 1000;\r\n        if (settings.inproc) {\r\n            this.transport = new InProcTransport(settings.inproc, logger.subLogger(\"inMemory\"));\r\n        }\r\n        else if (settings.sharedWorker) {\r\n            this.transport = new SharedWorkerTransport(settings.sharedWorker, logger.subLogger(\"shared-worker\"));\r\n        }\r\n        else if (settings.webPlatform) {\r\n            this.transport = new WebPlatformTransport(settings.webPlatform, logger.subLogger(\"web-platform\"), settings.identity);\r\n        }\r\n        else if (settings.ws !== undefined) {\r\n            this.transport = new WS(settings, logger.subLogger(\"ws\"));\r\n        }\r\n        else {\r\n            throw new Error(\"No connection information specified\");\r\n        }\r\n        this.isTrace = logger.canPublish(\"trace\");\r\n        logger.debug(\"starting with \" + this.transport.name() + \" transport\");\r\n        this.protocol = new GW3ProtocolImpl(this, settings, logger.subLogger(\"protocol\"));\r\n        this.transport.onConnectedChanged(this.handleConnectionChanged.bind(this));\r\n        this.transport.onMessage(this.handleTransportMessage.bind(this));\r\n        if (settings.replaySpecs && settings.replaySpecs.length) {\r\n            this.replayer = new MessageReplayerImpl(settings.replaySpecs);\r\n            this.replayer.init(this);\r\n        }\r\n    }\r\n    Object.defineProperty(Connection.prototype, \"protocolVersion\", {\r\n        get: function () {\r\n            var _a;\r\n            return (_a = this.protocol) === null || _a === void 0 ? void 0 : _a.protocolVersion;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Connection.prototype.send = function (message, options) {\r\n        if (this.transport.sendObject &&\r\n            this.transport.isObjectBasedTransport) {\r\n            var msg = this.protocol.createObjectMessage(message);\r\n            if (this.isTrace) {\r\n                this.logger.trace(\">> \" + JSON.stringify(msg));\r\n            }\r\n            return this.transport.sendObject(msg, options);\r\n        }\r\n        else {\r\n            var strMessage = this.protocol.createStringMessage(message);\r\n            if (this.isTrace) {\r\n                this.logger.trace(\">> \" + strMessage);\r\n            }\r\n            return this.transport.send(strMessage, options);\r\n        }\r\n    };\r\n    Connection.prototype.on = function (type, messageHandler) {\r\n        type = type.toLowerCase();\r\n        if (this.messageHandlers[type] === undefined) {\r\n            this.messageHandlers[type] = {};\r\n        }\r\n        var id = this.ids++;\r\n        this.messageHandlers[type][id] = messageHandler;\r\n        return {\r\n            type: type,\r\n            id: id,\r\n        };\r\n    };\r\n    Connection.prototype.off = function (info) {\r\n        delete this.messageHandlers[info.type.toLowerCase()][info.id];\r\n    };\r\n    Object.defineProperty(Connection.prototype, \"isConnected\", {\r\n        get: function () {\r\n            return this.protocol.isLoggedIn;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Connection.prototype.connected = function (callback) {\r\n        var _this = this;\r\n        return this.protocol.loggedIn(function () {\r\n            callback(_this.settings.ws || _this.settings.sharedWorker || \"\");\r\n        });\r\n    };\r\n    Connection.prototype.disconnected = function (callback) {\r\n        return this.registry.add(\"disconnected\", callback);\r\n    };\r\n    Connection.prototype.login = function (authRequest, reconnect) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var identity;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4, this.transport.open()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        timer(\"connection\").mark(\"transport-opened\");\r\n                        identity = this.protocol.login(authRequest, reconnect);\r\n                        timer(\"connection\").mark(\"protocol-logged-in\");\r\n                        return [2, identity];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Connection.prototype.logout = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4, this.protocol.logout()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [4, this.transport.close()];\r\n                    case 2:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Connection.prototype.loggedIn = function (callback) {\r\n        return this.protocol.loggedIn(callback);\r\n    };\r\n    Connection.prototype.domain = function (domain, successMessages, errorMessages) {\r\n        return this.protocol.domain(domain, this.logger.subLogger(\"domain=\" + domain), successMessages, errorMessages);\r\n    };\r\n    Connection.prototype.authToken = function () {\r\n        return this.protocol.authToken();\r\n    };\r\n    Connection.prototype.reconnect = function () {\r\n        return this.transport.reconnect();\r\n    };\r\n    Connection.prototype.distributeMessage = function (message, type) {\r\n        var _this = this;\r\n        var handlers = this.messageHandlers[type.toLowerCase()];\r\n        if (handlers !== undefined) {\r\n            Object.keys(handlers).forEach(function (handlerId) {\r\n                var handler = handlers[handlerId];\r\n                if (handler !== undefined) {\r\n                    try {\r\n                        handler(message);\r\n                    }\r\n                    catch (error) {\r\n                        try {\r\n                            _this.logger.error(\"Message handler failed with \" + error.stack, error);\r\n                        }\r\n                        catch (loggerError) {\r\n                            console.log(\"Message handler failed\", error);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    };\r\n    Connection.prototype.handleConnectionChanged = function (connected) {\r\n        if (this._connected === connected) {\r\n            return;\r\n        }\r\n        this._connected = connected;\r\n        if (connected) {\r\n            this.registry.execute(\"connected\");\r\n        }\r\n        else {\r\n            this.registry.execute(\"disconnected\");\r\n        }\r\n    };\r\n    Connection.prototype.handleTransportMessage = function (msg) {\r\n        var msgObj;\r\n        if (typeof msg === \"string\") {\r\n            msgObj = this.protocol.processStringMessage(msg);\r\n        }\r\n        else {\r\n            msgObj = this.protocol.processObjectMessage(msg);\r\n        }\r\n        if (this.isTrace) {\r\n            this.logger.trace(\"<< \" + JSON.stringify(msgObj));\r\n        }\r\n        this.distributeMessage(msgObj.msg, msgObj.msgType);\r\n    };\r\n    return Connection;\r\n}());\n\nvar order = [\"trace\", \"debug\", \"info\", \"warn\", \"error\", \"off\"];\r\nvar Logger = (function () {\r\n    function Logger(name, parent, logFn) {\r\n        this.name = name;\r\n        this.parent = parent;\r\n        this.subLoggers = [];\r\n        this.logFn = console;\r\n        this.customLogFn = false;\r\n        this.name = name;\r\n        if (parent) {\r\n            this.path = parent.path + \".\" + name;\r\n        }\r\n        else {\r\n            this.path = name;\r\n        }\r\n        this.loggerFullName = \"[\" + this.path + \"]\";\r\n        this.includeTimeAndLevel = !logFn;\r\n        if (logFn) {\r\n            this.logFn = logFn;\r\n            this.customLogFn = true;\r\n        }\r\n    }\r\n    Logger.prototype.subLogger = function (name) {\r\n        var existingSub = this.subLoggers.filter(function (subLogger) {\r\n            return subLogger.name === name;\r\n        })[0];\r\n        if (existingSub !== undefined) {\r\n            return existingSub;\r\n        }\r\n        Object.keys(this).forEach(function (key) {\r\n            if (key === name) {\r\n                throw new Error(\"This sub logger name is not allowed.\");\r\n            }\r\n        });\r\n        var sub = new Logger(name, this, this.customLogFn ? this.logFn : undefined);\r\n        this.subLoggers.push(sub);\r\n        return sub;\r\n    };\r\n    Logger.prototype.publishLevel = function (level) {\r\n        var _a;\r\n        if (level) {\r\n            this._publishLevel = level;\r\n        }\r\n        return this._publishLevel || ((_a = this.parent) === null || _a === void 0 ? void 0 : _a.publishLevel());\r\n    };\r\n    Logger.prototype.consoleLevel = function (level) {\r\n        var _a;\r\n        if (level) {\r\n            this._consoleLevel = level;\r\n        }\r\n        return this._consoleLevel || ((_a = this.parent) === null || _a === void 0 ? void 0 : _a.consoleLevel());\r\n    };\r\n    Logger.prototype.log = function (message, level, error) {\r\n        this.publishMessage(level || \"info\", message, error);\r\n    };\r\n    Logger.prototype.trace = function (message) {\r\n        this.log(message, \"trace\");\r\n    };\r\n    Logger.prototype.debug = function (message) {\r\n        this.log(message, \"debug\");\r\n    };\r\n    Logger.prototype.info = function (message) {\r\n        this.log(message, \"info\");\r\n    };\r\n    Logger.prototype.warn = function (message) {\r\n        this.log(message, \"warn\");\r\n    };\r\n    Logger.prototype.error = function (message, err) {\r\n        this.log(message, \"error\");\r\n    };\r\n    Logger.prototype.canPublish = function (level, compareWith) {\r\n        var levelIdx = order.indexOf(level);\r\n        var restrictionIdx = order.indexOf(compareWith || this.consoleLevel() || \"trace\");\r\n        return levelIdx >= restrictionIdx;\r\n    };\r\n    Logger.prototype.publishMessage = function (level, message, error) {\r\n        var loggerName = this.loggerFullName;\r\n        if (level === \"error\" && !error) {\r\n            var e = new Error();\r\n            if (e.stack) {\r\n                message =\r\n                    message +\r\n                        \"\\n\" +\r\n                        e.stack\r\n                            .split(\"\\n\")\r\n                            .slice(3)\r\n                            .join(\"\\n\");\r\n            }\r\n        }\r\n        if (this.canPublish(level, this.publishLevel())) {\r\n            var interop = Logger.Interop;\r\n            if (interop) {\r\n                try {\r\n                    if (interop.methods({ name: Logger.InteropMethodName }).length > 0) {\r\n                        interop.invoke(Logger.InteropMethodName, {\r\n                            msg: \"\" + message,\r\n                            logger: loggerName,\r\n                            level: level\r\n                        });\r\n                    }\r\n                }\r\n                catch (_a) {\r\n                }\r\n            }\r\n        }\r\n        if (this.canPublish(level)) {\r\n            var prefix = \"\";\r\n            if (this.includeTimeAndLevel) {\r\n                var date = new Date();\r\n                var time = date.getHours() + \":\" + date.getMinutes() + \":\" + date.getSeconds() + \":\" + date.getMilliseconds();\r\n                prefix = \"[\" + time + \"] [\" + level + \"] \";\r\n            }\r\n            var toPrint = \"\" + prefix + loggerName + \": \" + message;\r\n            switch (level) {\r\n                case \"trace\":\r\n                    this.logFn.debug(toPrint);\r\n                    break;\r\n                case \"debug\":\r\n                    if (this.logFn.debug) {\r\n                        this.logFn.debug(toPrint);\r\n                    }\r\n                    else {\r\n                        this.logFn.log(toPrint);\r\n                    }\r\n                    break;\r\n                case \"info\":\r\n                    this.logFn.info(toPrint);\r\n                    break;\r\n                case \"warn\":\r\n                    this.logFn.warn(toPrint);\r\n                    break;\r\n                case \"error\":\r\n                    this.logFn.error(toPrint, error);\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n    Logger.InteropMethodName = \"T42.AppLogger.Log\";\r\n    return Logger;\r\n}());\n\nvar GW_MESSAGE_CREATE_CONTEXT = \"create-context\";\r\nvar GW_MESSAGE_ACTIVITY_CREATED = \"created\";\r\nvar GW_MESSAGE_ACTIVITY_DESTROYED = \"destroyed\";\r\nvar GW_MESSAGE_CONTEXT_CREATED = \"context-created\";\r\nvar GW_MESSAGE_CONTEXT_ADDED = \"context-added\";\r\nvar GW_MESSAGE_SUBSCRIBE_CONTEXT = \"subscribe-context\";\r\nvar GW_MESSAGE_SUBSCRIBED_CONTEXT = \"subscribed-context\";\r\nvar GW_MESSAGE_UNSUBSCRIBE_CONTEXT = \"unsubscribe-context\";\r\nvar GW_MESSAGE_DESTROY_CONTEXT = \"destroy-context\";\r\nvar GW_MESSAGE_CONTEXT_DESTROYED = \"context-destroyed\";\r\nvar GW_MESSAGE_UPDATE_CONTEXT = \"update-context\";\r\nvar GW_MESSAGE_CONTEXT_UPDATED = \"context-updated\";\r\nvar GW_MESSAGE_JOINED_ACTIVITY = \"joined\";\n\nvar ContextMessageReplaySpec = {\r\n    get name() {\r\n        return \"context\";\r\n    },\r\n    get types() {\r\n        return [\r\n            GW_MESSAGE_CREATE_CONTEXT,\r\n            GW_MESSAGE_ACTIVITY_CREATED,\r\n            GW_MESSAGE_ACTIVITY_DESTROYED,\r\n            GW_MESSAGE_CONTEXT_CREATED,\r\n            GW_MESSAGE_CONTEXT_ADDED,\r\n            GW_MESSAGE_SUBSCRIBE_CONTEXT,\r\n            GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n            GW_MESSAGE_UNSUBSCRIBE_CONTEXT,\r\n            GW_MESSAGE_DESTROY_CONTEXT,\r\n            GW_MESSAGE_CONTEXT_DESTROYED,\r\n            GW_MESSAGE_UPDATE_CONTEXT,\r\n            GW_MESSAGE_CONTEXT_UPDATED,\r\n            GW_MESSAGE_JOINED_ACTIVITY\r\n        ];\r\n    }\r\n};\n\nvar version = \"5.4.5\";\n\nfunction prepareConfig (configuration, ext, glue42gd) {\r\n    var _a, _b, _c, _d, _e;\r\n    var nodeStartingContext;\r\n    if (Utils.isNode()) {\r\n        var startingContextString = process.env._GD_STARTING_CONTEXT_;\r\n        if (startingContextString) {\r\n            try {\r\n                nodeStartingContext = JSON.parse(startingContextString);\r\n            }\r\n            catch (_f) {\r\n            }\r\n        }\r\n    }\r\n    function getConnection() {\r\n        var _a, _b, _c, _d, _e;\r\n        var gwConfig = configuration.gateway;\r\n        var protocolVersion = (_a = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.protocolVersion) !== null && _a !== void 0 ? _a : 3;\r\n        var reconnectInterval = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.reconnectInterval;\r\n        var reconnectAttempts = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.reconnectAttempts;\r\n        var defaultWs = \"ws://localhost:8385\";\r\n        var ws = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.ws;\r\n        var sharedWorker = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.sharedWorker;\r\n        var inproc = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.inproc;\r\n        var webPlatform = (_b = gwConfig === null || gwConfig === void 0 ? void 0 : gwConfig.webPlatform) !== null && _b !== void 0 ? _b : undefined;\r\n        if (glue42gd) {\r\n            ws = glue42gd.gwURL;\r\n        }\r\n        if (Utils.isNode() && nodeStartingContext && nodeStartingContext.gwURL) {\r\n            ws = nodeStartingContext.gwURL;\r\n        }\r\n        if (!ws && !sharedWorker && !inproc) {\r\n            ws = defaultWs;\r\n        }\r\n        var instanceId;\r\n        var windowId;\r\n        var pid;\r\n        var environment;\r\n        var region;\r\n        var appName = getApplication();\r\n        var uniqueAppName = appName;\r\n        if (typeof glue42gd !== \"undefined\") {\r\n            windowId = glue42gd.windowId;\r\n            pid = glue42gd.pid;\r\n            if (glue42gd.env) {\r\n                environment = glue42gd.env.env;\r\n                region = glue42gd.env.region;\r\n            }\r\n            uniqueAppName = (_c = glue42gd.application) !== null && _c !== void 0 ? _c : \"glue-app\";\r\n            instanceId = glue42gd.appInstanceId;\r\n        }\r\n        else if (Utils.isNode()) {\r\n            pid = process.pid;\r\n            if (nodeStartingContext) {\r\n                environment = nodeStartingContext.env;\r\n                region = nodeStartingContext.region;\r\n                instanceId = nodeStartingContext.instanceId;\r\n            }\r\n        }\r\n        else ;\r\n        var replaySpecs = (_e = (_d = configuration.gateway) === null || _d === void 0 ? void 0 : _d.replaySpecs) !== null && _e !== void 0 ? _e : [];\r\n        replaySpecs.push(ContextMessageReplaySpec);\r\n        return {\r\n            identity: {\r\n                application: uniqueAppName,\r\n                applicationName: appName,\r\n                windowId: windowId,\r\n                instance: instanceId,\r\n                process: pid,\r\n                region: region,\r\n                environment: environment,\r\n                api: ext.version || version\r\n            },\r\n            reconnectInterval: reconnectInterval,\r\n            ws: ws,\r\n            sharedWorker: sharedWorker,\r\n            webPlatform: webPlatform,\r\n            inproc: inproc,\r\n            protocolVersion: protocolVersion,\r\n            reconnectAttempts: reconnectAttempts,\r\n            replaySpecs: replaySpecs,\r\n        };\r\n    }\r\n    function getApplication() {\r\n        if (configuration.application) {\r\n            return configuration.application;\r\n        }\r\n        if (glue42gd) {\r\n            return glue42gd.applicationName;\r\n        }\r\n        var uid = shortid();\r\n        if (Utils.isNode()) {\r\n            if (nodeStartingContext) {\r\n                return nodeStartingContext.applicationConfig.name;\r\n            }\r\n            return \"NodeJS\" + uid;\r\n        }\r\n        if (typeof window !== \"undefined\" && typeof document !== \"undefined\") {\r\n            return document.title + (\" (\" + uid + \")\");\r\n        }\r\n        return uid;\r\n    }\r\n    function getAuth() {\r\n        var _a, _b, _c;\r\n        if (typeof configuration.auth === \"string\") {\r\n            return {\r\n                token: configuration.auth\r\n            };\r\n        }\r\n        if (configuration.auth) {\r\n            return configuration.auth;\r\n        }\r\n        if (Utils.isNode() && nodeStartingContext && nodeStartingContext.gwToken) {\r\n            return {\r\n                gatewayToken: nodeStartingContext.gwToken\r\n            };\r\n        }\r\n        if (((_a = configuration.gateway) === null || _a === void 0 ? void 0 : _a.webPlatform) || ((_b = configuration.gateway) === null || _b === void 0 ? void 0 : _b.inproc) || ((_c = configuration.gateway) === null || _c === void 0 ? void 0 : _c.sharedWorker)) {\r\n            return {\r\n                username: \"glue42\", password: \"glue42\"\r\n            };\r\n        }\r\n    }\r\n    function getLogger() {\r\n        var _a, _b;\r\n        var config = configuration.logger;\r\n        var defaultLevel = \"warn\";\r\n        if (!config) {\r\n            config = defaultLevel;\r\n        }\r\n        var gdConsoleLevel;\r\n        if (glue42gd) {\r\n            gdConsoleLevel = glue42gd.consoleLogLevel;\r\n        }\r\n        if (typeof config === \"string\") {\r\n            return { console: gdConsoleLevel !== null && gdConsoleLevel !== void 0 ? gdConsoleLevel : config, publish: defaultLevel };\r\n        }\r\n        return {\r\n            console: (_a = gdConsoleLevel !== null && gdConsoleLevel !== void 0 ? gdConsoleLevel : config.console) !== null && _a !== void 0 ? _a : defaultLevel,\r\n            publish: (_b = config.publish) !== null && _b !== void 0 ? _b : defaultLevel\r\n        };\r\n    }\r\n    var connection = getConnection();\r\n    var application = getApplication();\r\n    if (typeof window !== \"undefined\") {\r\n        var windowAsAny = window;\r\n        var containerApplication = windowAsAny.htmlContainer ?\r\n            windowAsAny.htmlContainer.containerName + \".\" + windowAsAny.htmlContainer.application : (_a = windowAsAny === null || windowAsAny === void 0 ? void 0 : windowAsAny.glue42gd) === null || _a === void 0 ? void 0 : _a.application;\r\n        if (containerApplication) {\r\n            application = containerApplication;\r\n        }\r\n    }\r\n    return {\r\n        bus: (_b = configuration.bus) !== null && _b !== void 0 ? _b : false,\r\n        application: application,\r\n        auth: getAuth(),\r\n        logger: getLogger(),\r\n        connection: connection,\r\n        metrics: (_c = configuration.metrics) !== null && _c !== void 0 ? _c : true,\r\n        contexts: (_d = configuration.contexts) !== null && _d !== void 0 ? _d : true,\r\n        version: ext.version || version,\r\n        libs: (_e = ext.libs) !== null && _e !== void 0 ? _e : [],\r\n        customLogger: configuration.customLogger\r\n    };\r\n}\n\nvar GW3ContextData = (function () {\r\n    function GW3ContextData(contextId, name, isAnnounced, activityId) {\r\n        this.updateCallbacks = {};\r\n        this.contextId = contextId;\r\n        this.name = name;\r\n        this.isAnnounced = isAnnounced;\r\n        this.activityId = activityId;\r\n        this.context = {};\r\n    }\r\n    GW3ContextData.prototype.hasCallbacks = function () {\r\n        return Object.keys(this.updateCallbacks).length > 0;\r\n    };\r\n    GW3ContextData.prototype.getState = function () {\r\n        if (this.isAnnounced && this.hasCallbacks()) {\r\n            return 3;\r\n        }\r\n        if (this.isAnnounced) {\r\n            return 2;\r\n        }\r\n        if (this.hasCallbacks()) {\r\n            return 1;\r\n        }\r\n        return 0;\r\n    };\r\n    return GW3ContextData;\r\n}());\n\nfunction applyContextDelta(context, delta, logger) {\r\n    try {\r\n        if (logger === null || logger === void 0 ? void 0 : logger.canPublish(\"trace\")) {\r\n            logger === null || logger === void 0 ? void 0 : logger.trace(\"applying context delta \" + JSON.stringify(delta) + \" on context \" + JSON.stringify(context));\r\n        }\r\n        if (!delta) {\r\n            return context;\r\n        }\r\n        if (delta.reset) {\r\n            context = __assign({}, delta.reset);\r\n            return context;\r\n        }\r\n        context = deepClone(context, undefined);\r\n        if (delta.commands) {\r\n            for (var _i = 0, _a = delta.commands; _i < _a.length; _i++) {\r\n                var command = _a[_i];\r\n                if (command.type === \"remove\") {\r\n                    deletePath(context, command.path);\r\n                }\r\n                else if (command.type === \"set\") {\r\n                    setValueToPath(context, command.value, command.path);\r\n                }\r\n            }\r\n            return context;\r\n        }\r\n        var added_1 = delta.added;\r\n        var updated_1 = delta.updated;\r\n        var removed = delta.removed;\r\n        if (added_1) {\r\n            Object.keys(added_1).forEach(function (key) {\r\n                context[key] = added_1[key];\r\n            });\r\n        }\r\n        if (updated_1) {\r\n            Object.keys(updated_1).forEach(function (key) {\r\n                mergeObjectsProperties(key, context, updated_1);\r\n            });\r\n        }\r\n        if (removed) {\r\n            removed.forEach(function (key) {\r\n                delete context[key];\r\n            });\r\n        }\r\n        return context;\r\n    }\r\n    catch (e) {\r\n        logger === null || logger === void 0 ? void 0 : logger.error(\"error applying context delta \" + JSON.stringify(delta) + \" on context \" + JSON.stringify(context), e);\r\n        return context;\r\n    }\r\n}\r\nfunction deepClone(obj, hash) {\r\n    hash = hash || new WeakMap();\r\n    if (Object(obj) !== obj) {\r\n        return obj;\r\n    }\r\n    if (obj instanceof Set) {\r\n        return new Set(obj);\r\n    }\r\n    if (hash.has(obj)) {\r\n        return hash.get(obj);\r\n    }\r\n    var result = obj instanceof Date ? new Date(obj)\r\n        : obj instanceof RegExp ? new RegExp(obj.source, obj.flags)\r\n            : obj.constructor ? new obj.constructor()\r\n                : Object.create(null);\r\n    hash.set(obj, result);\r\n    if (obj instanceof Map) {\r\n        Array.from(obj, function (_a) {\r\n            var key = _a[0], val = _a[1];\r\n            return result.set(key, deepClone(val, hash));\r\n        });\r\n    }\r\n    return Object.assign.apply(Object, __spreadArrays([result], Object.keys(obj).map(function (key) {\r\n        var _a;\r\n        return (_a = {}, _a[key] = deepClone(obj[key], hash), _a);\r\n    })));\r\n}\r\nvar mergeObjectsProperties = function (key, what, withWhat) {\r\n    var right = withWhat[key];\r\n    if (right === undefined) {\r\n        return what;\r\n    }\r\n    var left = what[key];\r\n    if (!left || !right) {\r\n        what[key] = right;\r\n        return what;\r\n    }\r\n    if (typeof left === \"string\" ||\r\n        typeof left === \"number\" ||\r\n        typeof left === \"boolean\" ||\r\n        typeof right === \"string\" ||\r\n        typeof right === \"number\" ||\r\n        typeof right === \"boolean\" ||\r\n        Array.isArray(left) ||\r\n        Array.isArray(right)) {\r\n        what[key] = right;\r\n        return what;\r\n    }\r\n    what[key] = Object.assign({}, left, right);\r\n    return what;\r\n};\r\nfunction deepEqual(x, y) {\r\n    if (x === y) {\r\n        return true;\r\n    }\r\n    if (!(x instanceof Object) || !(y instanceof Object)) {\r\n        return false;\r\n    }\r\n    if (x.constructor !== y.constructor) {\r\n        return false;\r\n    }\r\n    for (var p in x) {\r\n        if (!x.hasOwnProperty(p)) {\r\n            continue;\r\n        }\r\n        if (!y.hasOwnProperty(p)) {\r\n            return false;\r\n        }\r\n        if (x[p] === y[p]) {\r\n            continue;\r\n        }\r\n        if (typeof (x[p]) !== \"object\") {\r\n            return false;\r\n        }\r\n        if (!deepEqual(x[p], y[p])) {\r\n            return false;\r\n        }\r\n    }\r\n    for (var p in y) {\r\n        if (y.hasOwnProperty(p) && !x.hasOwnProperty(p)) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\nfunction setValueToPath(obj, value, path) {\r\n    var pathArr = path.split(\".\");\r\n    var i;\r\n    for (i = 0; i < pathArr.length - 1; i++) {\r\n        if (!obj[pathArr[i]]) {\r\n            obj[pathArr[i]] = {};\r\n        }\r\n        if (typeof obj[pathArr[i]] !== \"object\") {\r\n            obj[pathArr[i]] = {};\r\n        }\r\n        obj = obj[pathArr[i]];\r\n    }\r\n    obj[pathArr[i]] = value;\r\n}\r\nfunction isSubset(superObj, subObj) {\r\n    return Object.keys(subObj).every(function (ele) {\r\n        if (typeof subObj[ele] === \"object\") {\r\n            return isSubset((superObj === null || superObj === void 0 ? void 0 : superObj[ele]) || {}, subObj[ele] || {});\r\n        }\r\n        return subObj[ele] === (superObj === null || superObj === void 0 ? void 0 : superObj[ele]);\r\n    });\r\n}\r\nfunction deletePath(obj, path) {\r\n    var pathArr = path.split(\".\");\r\n    var i;\r\n    for (i = 0; i < pathArr.length - 1; i++) {\r\n        if (!obj[pathArr[i]]) {\r\n            return;\r\n        }\r\n        obj = obj[pathArr[i]];\r\n    }\r\n    delete obj[pathArr[i]];\r\n}\n\nvar GW3Bridge = (function () {\r\n    function GW3Bridge(config) {\r\n        var _this = this;\r\n        var _a;\r\n        this._contextNameToData = {};\r\n        this._gw3Subscriptions = [];\r\n        this._nextCallbackSubscriptionNumber = 0;\r\n        this._contextNameToId = {};\r\n        this._contextIdToName = {};\r\n        this._protocolVersion = undefined;\r\n        this._connection = config.connection;\r\n        this._logger = config.logger;\r\n        this._gw3Session = this._connection.domain(\"global\", [\r\n            GW_MESSAGE_CONTEXT_CREATED,\r\n            GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n            GW_MESSAGE_CONTEXT_DESTROYED,\r\n            GW_MESSAGE_CONTEXT_UPDATED,\r\n        ]);\r\n        this.subscribeToContextCreatedMessages();\r\n        this.subscribeToContextUpdatedMessages();\r\n        this.subscribeToContextDestroyedMessages();\r\n        (_a = this._connection.replayer) === null || _a === void 0 ? void 0 : _a.drain(ContextMessageReplaySpec.name, function (message) {\r\n            var type = message.type;\r\n            if (!type) {\r\n                return;\r\n            }\r\n            if (type === GW_MESSAGE_CONTEXT_CREATED ||\r\n                type === GW_MESSAGE_CONTEXT_ADDED ||\r\n                type === GW_MESSAGE_ACTIVITY_CREATED) {\r\n                _this.handleContextCreatedMessage(message);\r\n            }\r\n            else if (type === GW_MESSAGE_SUBSCRIBED_CONTEXT ||\r\n                type === GW_MESSAGE_CONTEXT_UPDATED ||\r\n                type === GW_MESSAGE_JOINED_ACTIVITY) {\r\n                _this.handleContextUpdatedMessage(message);\r\n            }\r\n            else if (type === GW_MESSAGE_CONTEXT_DESTROYED ||\r\n                type === GW_MESSAGE_ACTIVITY_DESTROYED) {\r\n                _this.handleContextDestroyedMessage(message);\r\n            }\r\n        });\r\n    }\r\n    Object.defineProperty(GW3Bridge.prototype, \"protocolVersion\", {\r\n        get: function () {\r\n            var _a;\r\n            if (!this._protocolVersion) {\r\n                var contextsDomainInfo = this._connection.availableDomains.find(function (d) { return d.uri === \"context\"; });\r\n                this._protocolVersion = (_a = contextsDomainInfo === null || contextsDomainInfo === void 0 ? void 0 : contextsDomainInfo.version) !== null && _a !== void 0 ? _a : 1;\r\n            }\r\n            return this._protocolVersion;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(GW3Bridge.prototype, \"setPathSupported\", {\r\n        get: function () {\r\n            return this.protocolVersion >= 2;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    GW3Bridge.prototype.dispose = function () {\r\n        for (var _i = 0, _a = this._gw3Subscriptions; _i < _a.length; _i++) {\r\n            var sub = _a[_i];\r\n            this._connection.off(sub);\r\n        }\r\n        this._gw3Subscriptions.length = 0;\r\n        for (var contextName in this._contextNameToData) {\r\n            if (this._contextNameToId.hasOwnProperty(contextName)) {\r\n                delete this._contextNameToData[contextName];\r\n            }\r\n        }\r\n    };\r\n    GW3Bridge.prototype.createContext = function (name, data) {\r\n        var _this = this;\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_CREATE_CONTEXT,\r\n            domain: \"global\",\r\n            name: name,\r\n            data: data,\r\n            lifetime: \"retained\",\r\n        })\r\n            .then(function (createContextMsg) {\r\n            _this._contextNameToId[name] = createContextMsg.context_id;\r\n            _this._contextIdToName[createContextMsg.context_id] = name;\r\n            var contextData = _this._contextNameToData[name] || new GW3ContextData(createContextMsg.context_id, name, true, undefined);\r\n            contextData.isAnnounced = true;\r\n            contextData.name = name;\r\n            contextData.contextId = createContextMsg.context_id;\r\n            contextData.context = data;\r\n            _this._contextNameToData[name] = contextData;\r\n            return createContextMsg.context_id;\r\n        });\r\n    };\r\n    GW3Bridge.prototype.all = function () {\r\n        var _this = this;\r\n        return Object.keys(this._contextNameToData)\r\n            .filter(function (name) { return _this._contextNameToData[name].isAnnounced; });\r\n    };\r\n    GW3Bridge.prototype.update = function (name, delta) {\r\n        var _a;\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var contextData, currentContext, calculatedDelta;\r\n            var _this = this;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        contextData = this._contextNameToData[name];\r\n                        if (!contextData || !contextData.isAnnounced) {\r\n                            return [2, this.createContext(name, delta)];\r\n                        }\r\n                        currentContext = contextData.context;\r\n                        if (!!contextData.hasCallbacks()) return [3, 2];\r\n                        return [4, this.get(contextData.name)];\r\n                    case 1:\r\n                        currentContext = _b.sent();\r\n                        _b.label = 2;\r\n                    case 2:\r\n                        calculatedDelta = this.protocolVersion === 2 ?\r\n                            this.calculateContextDeltaV2(currentContext, delta) :\r\n                            this.calculateContextDeltaV1(currentContext, delta);\r\n                        if (!Object.keys(calculatedDelta.added).length\r\n                            && !Object.keys(calculatedDelta.updated).length\r\n                            && !calculatedDelta.removed.length\r\n                            && !((_a = calculatedDelta.commands) === null || _a === void 0 ? void 0 : _a.length)) {\r\n                            return [2, Promise.resolve()];\r\n                        }\r\n                        return [2, this._gw3Session\r\n                                .send({\r\n                                type: GW_MESSAGE_UPDATE_CONTEXT,\r\n                                domain: \"global\",\r\n                                context_id: contextData.contextId,\r\n                                delta: calculatedDelta,\r\n                            }, {}, { skipPeerId: false })\r\n                                .then(function (gwResponse) {\r\n                                _this.handleUpdated(contextData, calculatedDelta, {\r\n                                    updaterId: gwResponse.peer_id\r\n                                });\r\n                            })];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    GW3Bridge.prototype.set = function (name, data) {\r\n        var _this = this;\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            return this.createContext(name, data);\r\n        }\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_UPDATE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n            delta: { reset: data },\r\n        }, {}, { skipPeerId: false })\r\n            .then(function (gwResponse) {\r\n            _this.handleUpdated(contextData, { reset: data, added: {}, removed: [], updated: {} }, { updaterId: gwResponse.peer_id });\r\n        });\r\n    };\r\n    GW3Bridge.prototype.setPath = function (name, path, value) {\r\n        if (!this.setPathSupported) {\r\n            return Promise.reject(\"glue.contexts.setPath operation is not supported, use Glue42 3.10 or later\");\r\n        }\r\n        return this.setPaths(name, [{ path: path, value: value }]);\r\n    };\r\n    GW3Bridge.prototype.setPaths = function (name, pathValues) {\r\n        var _this = this;\r\n        if (!this.setPathSupported) {\r\n            return Promise.reject(\"glue.contexts.setPaths operation is not supported, use Glue42 3.10 or later\");\r\n        }\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            var obj = {};\r\n            for (var _i = 0, pathValues_1 = pathValues; _i < pathValues_1.length; _i++) {\r\n                var pathValue = pathValues_1[_i];\r\n                setValueToPath(obj, pathValue.value, pathValue.path);\r\n            }\r\n            return this.createContext(name, obj);\r\n        }\r\n        var commands = [];\r\n        for (var _a = 0, pathValues_2 = pathValues; _a < pathValues_2.length; _a++) {\r\n            var pathValue = pathValues_2[_a];\r\n            if (pathValue.value === null) {\r\n                commands.push({ type: \"remove\", path: pathValue.path });\r\n            }\r\n            else {\r\n                commands.push({ type: \"set\", path: pathValue.path, value: pathValue.value });\r\n            }\r\n        }\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_UPDATE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n            delta: { commands: commands }\r\n        }, {}, { skipPeerId: false })\r\n            .then(function (gwResponse) {\r\n            _this.handleUpdated(contextData, { added: {}, removed: [], updated: {}, commands: commands }, { updaterId: gwResponse.peer_id });\r\n        });\r\n    };\r\n    GW3Bridge.prototype.get = function (name) {\r\n        var _this = this;\r\n        var _a;\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            return Promise.resolve({});\r\n        }\r\n        if (contextData && !contextData.hasCallbacks()) {\r\n            return new Promise(function (resolve, _) { return __awaiter(_this, void 0, void 0, function () {\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    this.subscribe(name, function (data, _d, _r, un) {\r\n                        _this.unsubscribe(un);\r\n                        resolve(data);\r\n                    });\r\n                    return [2];\r\n                });\r\n            }); });\r\n        }\r\n        var context = (_a = contextData === null || contextData === void 0 ? void 0 : contextData.context) !== null && _a !== void 0 ? _a : {};\r\n        return Promise.resolve(context);\r\n    };\r\n    GW3Bridge.prototype.subscribe = function (name, callback) {\r\n        var thisCallbackSubscriptionNumber = this._nextCallbackSubscriptionNumber;\r\n        this._nextCallbackSubscriptionNumber += 1;\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData ||\r\n            !contextData.isAnnounced) {\r\n            contextData = contextData || new GW3ContextData(undefined, name, false, undefined);\r\n            this._contextNameToData[name] = contextData;\r\n            contextData.updateCallbacks[thisCallbackSubscriptionNumber] = callback;\r\n            return Promise.resolve(thisCallbackSubscriptionNumber);\r\n        }\r\n        var hadCallbacks = contextData.hasCallbacks();\r\n        contextData.updateCallbacks[thisCallbackSubscriptionNumber] = callback;\r\n        if (!hadCallbacks) {\r\n            if (!contextData.joinedActivity) {\r\n                if (contextData.context && contextData.sentExplicitSubscription) {\r\n                    var clone = deepClone(contextData.context);\r\n                    callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n                    return Promise.resolve(thisCallbackSubscriptionNumber);\r\n                }\r\n                return this.sendSubscribe(contextData)\r\n                    .then(function () { return thisCallbackSubscriptionNumber; });\r\n            }\r\n            else {\r\n                var clone = deepClone(contextData.context);\r\n                callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n                return Promise.resolve(thisCallbackSubscriptionNumber);\r\n            }\r\n        }\r\n        else {\r\n            var clone = deepClone(contextData.context);\r\n            callback(clone, clone, [], thisCallbackSubscriptionNumber);\r\n            return Promise.resolve(thisCallbackSubscriptionNumber);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.unsubscribe = function (subscriptionKey) {\r\n        for (var _i = 0, _a = Object.keys(this._contextNameToData); _i < _a.length; _i++) {\r\n            var name_1 = _a[_i];\r\n            var contextId = this._contextNameToId[name_1];\r\n            var contextData = this._contextNameToData[name_1];\r\n            if (!contextData) {\r\n                return;\r\n            }\r\n            var hadCallbacks = contextData.hasCallbacks();\r\n            delete contextData.updateCallbacks[subscriptionKey];\r\n            if (contextData.isAnnounced &&\r\n                hadCallbacks &&\r\n                !contextData.hasCallbacks() &&\r\n                contextData.sentExplicitSubscription) {\r\n                this.sendUnsubscribe(contextData);\r\n            }\r\n            if (!contextData.isAnnounced &&\r\n                !contextData.hasCallbacks()) {\r\n                delete this._contextNameToData[name_1];\r\n            }\r\n        }\r\n    };\r\n    GW3Bridge.prototype.destroy = function (name) {\r\n        var contextData = this._contextNameToData[name];\r\n        if (!contextData) {\r\n            return Promise.reject(\"context with \" + name + \" does not exist\");\r\n        }\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_DESTROY_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n        }).then(function (_) { return undefined; });\r\n    };\r\n    GW3Bridge.prototype.handleUpdated = function (contextData, delta, extraData) {\r\n        var oldContext = contextData.context;\r\n        contextData.context = applyContextDelta(contextData.context, delta, this._logger);\r\n        if (this._contextNameToData[contextData.name] === contextData &&\r\n            !deepEqual(oldContext, contextData.context)) {\r\n            this.invokeUpdateCallbacks(contextData, delta, extraData);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.subscribeToContextCreatedMessages = function () {\r\n        var createdMessageTypes = [\r\n            GW_MESSAGE_CONTEXT_ADDED,\r\n            GW_MESSAGE_CONTEXT_CREATED,\r\n            GW_MESSAGE_ACTIVITY_CREATED,\r\n        ];\r\n        for (var _i = 0, createdMessageTypes_1 = createdMessageTypes; _i < createdMessageTypes_1.length; _i++) {\r\n            var createdMessageType = createdMessageTypes_1[_i];\r\n            var sub = this._connection.on(createdMessageType, this.handleContextCreatedMessage.bind(this));\r\n            this._gw3Subscriptions.push(sub);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.handleContextCreatedMessage = function (contextCreatedMsg) {\r\n        var createdMessageType = contextCreatedMsg.type;\r\n        if (createdMessageType === GW_MESSAGE_ACTIVITY_CREATED) {\r\n            this._contextNameToId[contextCreatedMsg.activity_id] = contextCreatedMsg.context_id;\r\n            this._contextIdToName[contextCreatedMsg.context_id] = contextCreatedMsg.activity_id;\r\n        }\r\n        else if (createdMessageType === GW_MESSAGE_CONTEXT_ADDED) {\r\n            this._contextNameToId[contextCreatedMsg.name] = contextCreatedMsg.context_id;\r\n            this._contextIdToName[contextCreatedMsg.context_id] = contextCreatedMsg.name;\r\n        }\r\n        else ;\r\n        var name = this._contextIdToName[contextCreatedMsg.context_id];\r\n        if (!name) {\r\n            throw new Error(\"Received created event for context with unknown name: \" + contextCreatedMsg.context_id);\r\n        }\r\n        if (!this._contextNameToId[name]) {\r\n            throw new Error(\"Received created event for context with unknown id: \" + contextCreatedMsg.context_id);\r\n        }\r\n        var contextData = this._contextNameToData[name];\r\n        if (contextData) {\r\n            if (contextData.isAnnounced) {\r\n                return;\r\n            }\r\n            else {\r\n                if (!contextData.hasCallbacks()) {\r\n                    throw new Error(\"Assertion failure: contextData.hasCallbacks()\");\r\n                }\r\n                contextData.isAnnounced = true;\r\n                contextData.contextId = contextCreatedMsg.context_id;\r\n                contextData.activityId = contextCreatedMsg.activity_id;\r\n                if (!contextData.sentExplicitSubscription) {\r\n                    this.sendSubscribe(contextData);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            this._contextNameToData[name] = contextData =\r\n                new GW3ContextData(contextCreatedMsg.context_id, name, true, contextCreatedMsg.activity_id);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.subscribeToContextUpdatedMessages = function () {\r\n        var updatedMessageTypes = [\r\n            GW_MESSAGE_CONTEXT_UPDATED,\r\n            GW_MESSAGE_SUBSCRIBED_CONTEXT,\r\n            GW_MESSAGE_JOINED_ACTIVITY,\r\n        ];\r\n        for (var _i = 0, updatedMessageTypes_1 = updatedMessageTypes; _i < updatedMessageTypes_1.length; _i++) {\r\n            var updatedMessageType = updatedMessageTypes_1[_i];\r\n            var sub = this._connection.on(updatedMessageType, this.handleContextUpdatedMessage.bind(this));\r\n            this._gw3Subscriptions.push(sub);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.handleContextUpdatedMessage = function (contextUpdatedMsg) {\r\n        var updatedMessageType = contextUpdatedMsg.type;\r\n        var contextId = contextUpdatedMsg.context_id;\r\n        var contextData = this._contextNameToData[this._contextIdToName[contextId]];\r\n        var justSeen = !contextData || !contextData.isAnnounced;\r\n        if (updatedMessageType === GW_MESSAGE_JOINED_ACTIVITY) {\r\n            if (!contextData) {\r\n                contextData = new GW3ContextData(contextId, contextUpdatedMsg.activity_id, true, contextUpdatedMsg.activity_id);\r\n                this._contextNameToData[contextUpdatedMsg.activity_id] = contextData;\r\n                this._contextIdToName[contextId] = contextUpdatedMsg.activity_id;\r\n                this._contextNameToId[contextUpdatedMsg.activity_id] = contextId;\r\n            }\r\n            else {\r\n                contextData.contextId = contextId;\r\n                contextData.isAnnounced = true;\r\n                contextData.activityId = contextUpdatedMsg.activity_id;\r\n            }\r\n            contextData.joinedActivity = true;\r\n        }\r\n        else {\r\n            if (!contextData || !contextData.isAnnounced) {\r\n                if (updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n                    contextData = contextData || new GW3ContextData(contextId, contextUpdatedMsg.name, true, undefined);\r\n                    contextData.sentExplicitSubscription = true;\r\n                    this._contextNameToData[contextUpdatedMsg.name] = contextData;\r\n                    this._contextIdToName[contextId] = contextUpdatedMsg.name;\r\n                    this._contextNameToId[contextUpdatedMsg.name] = contextId;\r\n                }\r\n                else {\r\n                    this._logger.error(\"Received 'update' for unknown context: \" + contextId);\r\n                }\r\n                return;\r\n            }\r\n        }\r\n        var oldContext = contextData.context;\r\n        if (updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n            contextData.context = contextUpdatedMsg.data || {};\r\n        }\r\n        else if (updatedMessageType === GW_MESSAGE_JOINED_ACTIVITY) {\r\n            contextData.context = contextUpdatedMsg.context_snapshot || {};\r\n        }\r\n        else if (updatedMessageType === GW_MESSAGE_CONTEXT_UPDATED) {\r\n            contextData.context = applyContextDelta(contextData.context, contextUpdatedMsg.delta, this._logger);\r\n        }\r\n        else {\r\n            throw new Error(\"Unrecognized context update message \" + updatedMessageType);\r\n        }\r\n        if (justSeen ||\r\n            !deepEqual(contextData.context, oldContext) ||\r\n            updatedMessageType === GW_MESSAGE_SUBSCRIBED_CONTEXT) {\r\n            this.invokeUpdateCallbacks(contextData, contextUpdatedMsg.delta, { updaterId: contextUpdatedMsg.updater_id });\r\n        }\r\n    };\r\n    GW3Bridge.prototype.invokeUpdateCallbacks = function (contextData, delta, extraData) {\r\n        delta = delta || { added: {}, updated: {}, reset: {}, removed: [] };\r\n        if (delta.commands) {\r\n            delta.added = delta.updated = delta.reset = {};\r\n            delta.removed = [];\r\n            for (var _i = 0, _a = delta.commands; _i < _a.length; _i++) {\r\n                var command = _a[_i];\r\n                if (command.type === \"remove\") {\r\n                    if (command.path.indexOf(\".\") === -1) {\r\n                        delta.removed.push(command.path);\r\n                    }\r\n                    setValueToPath(delta.updated, null, command.path);\r\n                }\r\n                else if (command.type === \"set\") {\r\n                    setValueToPath(delta.updated, command.value, command.path);\r\n                }\r\n            }\r\n        }\r\n        for (var updateCallbackIndex in contextData.updateCallbacks) {\r\n            if (contextData.updateCallbacks.hasOwnProperty(updateCallbackIndex)) {\r\n                try {\r\n                    var updateCallback = contextData.updateCallbacks[updateCallbackIndex];\r\n                    updateCallback(deepClone(contextData.context), Object.assign({}, delta.added || {}, delta.updated || {}, delta.reset || {}), delta.removed, parseInt(updateCallbackIndex, 10), extraData);\r\n                }\r\n                catch (err) {\r\n                    this._logger.debug(\"callback error: \" + JSON.stringify(err));\r\n                }\r\n            }\r\n        }\r\n    };\r\n    GW3Bridge.prototype.subscribeToContextDestroyedMessages = function () {\r\n        var destroyedMessageTypes = [\r\n            GW_MESSAGE_CONTEXT_DESTROYED,\r\n            GW_MESSAGE_ACTIVITY_DESTROYED,\r\n        ];\r\n        for (var _i = 0, destroyedMessageTypes_1 = destroyedMessageTypes; _i < destroyedMessageTypes_1.length; _i++) {\r\n            var destroyedMessageType = destroyedMessageTypes_1[_i];\r\n            var sub = this._connection.on(destroyedMessageType, this.handleContextDestroyedMessage.bind(this));\r\n            this._gw3Subscriptions.push(sub);\r\n        }\r\n    };\r\n    GW3Bridge.prototype.handleContextDestroyedMessage = function (destroyedMsg) {\r\n        var destroyedMessageType = destroyedMsg.type;\r\n        var contextId;\r\n        var name;\r\n        if (destroyedMessageType === GW_MESSAGE_ACTIVITY_DESTROYED) {\r\n            name = destroyedMsg.activity_id;\r\n            contextId = this._contextNameToId[name];\r\n            if (!contextId) {\r\n                this._logger.error(\"Received 'destroyed' for unknown activity: \" + destroyedMsg.activity_id);\r\n                return;\r\n            }\r\n        }\r\n        else {\r\n            contextId = destroyedMsg.context_id;\r\n            name = this._contextIdToName[contextId];\r\n            if (!name) {\r\n                this._logger.error(\"Received 'destroyed' for unknown context: \" + destroyedMsg.context_id);\r\n                return;\r\n            }\r\n        }\r\n        delete this._contextIdToName[contextId];\r\n        delete this._contextNameToId[name];\r\n        var contextData = this._contextNameToData[name];\r\n        delete this._contextNameToData[name];\r\n        if (!contextData || !contextData.isAnnounced) {\r\n            this._logger.error(\"Received 'destroyed' for unknown context: \" + contextId);\r\n            return;\r\n        }\r\n    };\r\n    GW3Bridge.prototype.sendSubscribe = function (contextData) {\r\n        contextData.sentExplicitSubscription = true;\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_SUBSCRIBE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n        }).then(function (_) { return undefined; });\r\n    };\r\n    GW3Bridge.prototype.sendUnsubscribe = function (contextData) {\r\n        contextData.sentExplicitSubscription = false;\r\n        return this._gw3Session\r\n            .send({\r\n            type: GW_MESSAGE_UNSUBSCRIBE_CONTEXT,\r\n            domain: \"global\",\r\n            context_id: contextData.contextId,\r\n        }).then(function (_) { return undefined; });\r\n    };\r\n    GW3Bridge.prototype.calculateContextDeltaV1 = function (from, to) {\r\n        var delta = { added: {}, updated: {}, removed: [], reset: undefined };\r\n        if (from) {\r\n            for (var _i = 0, _a = Object.keys(from); _i < _a.length; _i++) {\r\n                var x = _a[_i];\r\n                if (Object.keys(to).indexOf(x) !== -1\r\n                    && to[x] !== null\r\n                    && !deepEqual(from[x], to[x])) {\r\n                    delta.updated[x] = to[x];\r\n                }\r\n            }\r\n        }\r\n        for (var _b = 0, _c = Object.keys(to); _b < _c.length; _b++) {\r\n            var x = _c[_b];\r\n            if (!from || (Object.keys(from).indexOf(x) === -1)) {\r\n                if (to[x] !== null) {\r\n                    delta.added[x] = to[x];\r\n                }\r\n            }\r\n            else if (to[x] === null) {\r\n                delta.removed.push(x);\r\n            }\r\n        }\r\n        return delta;\r\n    };\r\n    GW3Bridge.prototype.calculateContextDeltaV2 = function (from, to) {\r\n        var _a, _b;\r\n        var delta = { added: {}, updated: {}, removed: [], reset: undefined, commands: [] };\r\n        for (var _i = 0, _c = Object.keys(to); _i < _c.length; _i++) {\r\n            var x = _c[_i];\r\n            if (to[x] !== null) {\r\n                var fromX = from ? from[x] : null;\r\n                if (!deepEqual(fromX, to[x])) {\r\n                    (_a = delta.commands) === null || _a === void 0 ? void 0 : _a.push({ type: \"set\", path: x, value: to[x] });\r\n                }\r\n            }\r\n            else {\r\n                (_b = delta.commands) === null || _b === void 0 ? void 0 : _b.push({ type: \"remove\", path: x });\r\n            }\r\n        }\r\n        return delta;\r\n    };\r\n    return GW3Bridge;\r\n}());\n\nvar ContextsModule = (function () {\r\n    function ContextsModule(config) {\r\n        this._bridge = new GW3Bridge(config);\r\n    }\r\n    ContextsModule.prototype.all = function () {\r\n        return this._bridge.all();\r\n    };\r\n    ContextsModule.prototype.update = function (name, data) {\r\n        this.checkName(name);\r\n        this.checkData(data);\r\n        return this._bridge.update(name, data);\r\n    };\r\n    ContextsModule.prototype.set = function (name, data) {\r\n        this.checkName(name);\r\n        this.checkData(data);\r\n        return this._bridge.set(name, data);\r\n    };\r\n    ContextsModule.prototype.setPath = function (name, path, data) {\r\n        this.checkName(name);\r\n        this.checkPath(path);\r\n        var isTopLevelPath = path === \"\";\r\n        if (isTopLevelPath) {\r\n            this.checkData(data);\r\n            return this.set(name, data);\r\n        }\r\n        return this._bridge.setPath(name, path, data);\r\n    };\r\n    ContextsModule.prototype.setPaths = function (name, paths) {\r\n        this.checkName(name);\r\n        if (!Array.isArray(paths)) {\r\n            throw new Error(\"Please provide the paths as an array of PathValues!\");\r\n        }\r\n        for (var _i = 0, paths_1 = paths; _i < paths_1.length; _i++) {\r\n            var _a = paths_1[_i], path = _a.path, value = _a.value;\r\n            this.checkPath(path);\r\n            var isTopLevelPath = path === \"\";\r\n            if (isTopLevelPath) {\r\n                this.checkData(value);\r\n            }\r\n        }\r\n        return this._bridge.setPaths(name, paths);\r\n    };\r\n    ContextsModule.prototype.subscribe = function (name, callback) {\r\n        var _this = this;\r\n        this.checkName(name);\r\n        if (typeof callback !== \"function\") {\r\n            throw new Error(\"Please provide the callback as a function!\");\r\n        }\r\n        return this._bridge\r\n            .subscribe(name, function (data, delta, removed, key, extraData) { return callback(data, delta, removed, function () { return _this._bridge.unsubscribe(key); }, extraData); })\r\n            .then(function (key) {\r\n            return function () {\r\n                _this._bridge.unsubscribe(key);\r\n            };\r\n        });\r\n    };\r\n    ContextsModule.prototype.get = function (name) {\r\n        this.checkName(name);\r\n        return this._bridge.get(name);\r\n    };\r\n    ContextsModule.prototype.ready = function () {\r\n        return Promise.resolve(this);\r\n    };\r\n    ContextsModule.prototype.destroy = function (name) {\r\n        this.checkName(name);\r\n        return this._bridge.destroy(name);\r\n    };\r\n    Object.defineProperty(ContextsModule.prototype, \"setPathSupported\", {\r\n        get: function () {\r\n            return this._bridge.setPathSupported;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ContextsModule.prototype.checkName = function (name) {\r\n        if (typeof name !== \"string\" || name === \"\") {\r\n            throw new Error(\"Please provide the name as a non-empty string!\");\r\n        }\r\n    };\r\n    ContextsModule.prototype.checkPath = function (path) {\r\n        if (typeof path !== \"string\") {\r\n            throw new Error(\"Please provide the path as a dot delimited string!\");\r\n        }\r\n    };\r\n    ContextsModule.prototype.checkData = function (data) {\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Please provide the data as an object!\");\r\n        }\r\n    };\r\n    return ContextsModule;\r\n}());\n\nfunction promisify (promise, successCallback, errorCallback) {\r\n    if (typeof successCallback !== \"function\" && typeof errorCallback !== \"function\") {\r\n        return promise;\r\n    }\r\n    if (typeof successCallback !== \"function\") {\r\n        successCallback = function () { };\r\n    }\r\n    else if (typeof errorCallback !== \"function\") {\r\n        errorCallback = function () { };\r\n    }\r\n    return promise.then(successCallback, errorCallback);\r\n}\n\nfunction rejectAfter(ms, promise, error) {\r\n    if (ms === void 0) { ms = 0; }\r\n    var timeout;\r\n    var clearTimeoutIfThere = function () {\r\n        if (timeout) {\r\n            clearTimeout(timeout);\r\n        }\r\n    };\r\n    promise\r\n        .then(function () {\r\n        clearTimeoutIfThere();\r\n    })\r\n        .catch(function () {\r\n        clearTimeoutIfThere();\r\n    });\r\n    return new Promise(function (resolve, reject) {\r\n        timeout = setTimeout(function () { return reject(error); }, ms);\r\n    });\r\n}\n\nvar InvokeStatus;\r\n(function (InvokeStatus) {\r\n    InvokeStatus[InvokeStatus[\"Success\"] = 0] = \"Success\";\r\n    InvokeStatus[InvokeStatus[\"Error\"] = 1] = \"Error\";\r\n})(InvokeStatus || (InvokeStatus = {}));\r\nvar Client = (function () {\r\n    function Client(protocol, repo, instance, configuration) {\r\n        this.protocol = protocol;\r\n        this.repo = repo;\r\n        this.instance = instance;\r\n        this.configuration = configuration;\r\n    }\r\n    Client.prototype.subscribe = function (method, options, successCallback, errorCallback, existingSub) {\r\n        var _this = this;\r\n        var callProtocolSubscribe = function (targetServers, stream, successProxy, errorProxy) {\r\n            var _a;\r\n            options.methodResponseTimeout = (_a = options.methodResponseTimeout) !== null && _a !== void 0 ? _a : options.waitTimeoutMs;\r\n            _this.protocol.client.subscribe(stream, options, targetServers, successProxy, errorProxy, existingSub);\r\n        };\r\n        var promise = new Promise(function (resolve, reject) {\r\n            var successProxy = function (sub) {\r\n                resolve(sub);\r\n            };\r\n            var errorProxy = function (err) {\r\n                reject(err);\r\n            };\r\n            if (!method) {\r\n                reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n                return;\r\n            }\r\n            var methodDef;\r\n            if (typeof method === \"string\") {\r\n                methodDef = { name: method };\r\n            }\r\n            else {\r\n                methodDef = method;\r\n            }\r\n            if (!methodDef.name) {\r\n                reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n                return;\r\n            }\r\n            if (options === undefined) {\r\n                options = {};\r\n            }\r\n            var target = options.target;\r\n            if (target === undefined) {\r\n                target = \"best\";\r\n            }\r\n            if (typeof target === \"string\" && target !== \"all\" && target !== \"best\") {\r\n                reject(new Error(\"\\\"\" + target + \"\\\" is not a valid target. Valid targets are \\\"all\\\", \\\"best\\\", or an instance.\"));\r\n                return;\r\n            }\r\n            if (options.methodResponseTimeout === undefined) {\r\n                options.methodResponseTimeout = options.method_response_timeout;\r\n                if (options.methodResponseTimeout === undefined) {\r\n                    options.methodResponseTimeout = _this.configuration.methodResponseTimeout;\r\n                }\r\n            }\r\n            if (options.waitTimeoutMs === undefined) {\r\n                options.waitTimeoutMs = options.wait_for_method_timeout;\r\n                if (options.waitTimeoutMs === undefined) {\r\n                    options.waitTimeoutMs = _this.configuration.waitTimeoutMs;\r\n                }\r\n            }\r\n            var delayStep = 500;\r\n            var delayTillNow = 0;\r\n            var currentServers = _this.getServerMethodsByFilterAndTarget(methodDef, target);\r\n            if (currentServers.length > 0) {\r\n                callProtocolSubscribe(currentServers, currentServers[0].methods[0], successProxy, errorProxy);\r\n            }\r\n            else {\r\n                var retry_1 = function () {\r\n                    if (!target || !(options.waitTimeoutMs)) {\r\n                        return;\r\n                    }\r\n                    delayTillNow += delayStep;\r\n                    currentServers = _this.getServerMethodsByFilterAndTarget(methodDef, target);\r\n                    if (currentServers.length > 0) {\r\n                        var streamInfo = currentServers[0].methods[0];\r\n                        callProtocolSubscribe(currentServers, streamInfo, successProxy, errorProxy);\r\n                    }\r\n                    else if (delayTillNow >= options.waitTimeoutMs) {\r\n                        var def = typeof method === \"string\" ? { name: method } : method;\r\n                        callProtocolSubscribe(currentServers, def, successProxy, errorProxy);\r\n                    }\r\n                    else {\r\n                        setTimeout(retry_1, delayStep);\r\n                    }\r\n                };\r\n                setTimeout(retry_1, delayStep);\r\n            }\r\n        });\r\n        return promisify(promise, successCallback, errorCallback);\r\n    };\r\n    Client.prototype.servers = function (methodFilter) {\r\n        var filterCopy = methodFilter === undefined\r\n            ? undefined\r\n            : __assign({}, methodFilter);\r\n        return this.getServers(filterCopy).map(function (serverMethodMap) {\r\n            return serverMethodMap.server.instance;\r\n        });\r\n    };\r\n    Client.prototype.methods = function (methodFilter) {\r\n        if (typeof methodFilter === \"string\") {\r\n            methodFilter = { name: methodFilter };\r\n        }\r\n        else {\r\n            methodFilter = __assign({}, methodFilter);\r\n        }\r\n        return this.getMethods(methodFilter);\r\n    };\r\n    Client.prototype.methodsForInstance = function (instance) {\r\n        return this.getMethodsForInstance(instance);\r\n    };\r\n    Client.prototype.methodAdded = function (callback) {\r\n        return this.repo.onMethodAdded(callback);\r\n    };\r\n    Client.prototype.methodRemoved = function (callback) {\r\n        return this.repo.onMethodRemoved(callback);\r\n    };\r\n    Client.prototype.serverAdded = function (callback) {\r\n        return this.repo.onServerAdded(callback);\r\n    };\r\n    Client.prototype.serverRemoved = function (callback) {\r\n        return this.repo.onServerRemoved(function (server, reason) {\r\n            callback(server, reason);\r\n        });\r\n    };\r\n    Client.prototype.serverMethodAdded = function (callback) {\r\n        return this.repo.onServerMethodAdded(function (server, method) {\r\n            callback({ server: server, method: method });\r\n        });\r\n    };\r\n    Client.prototype.serverMethodRemoved = function (callback) {\r\n        return this.repo.onServerMethodRemoved(function (server, method) {\r\n            callback({ server: server, method: method });\r\n        });\r\n    };\r\n    Client.prototype.invoke = function (methodFilter, argumentObj, target, additionalOptions, success, error) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var getInvokePromise;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                getInvokePromise = function () { return __awaiter(_this, void 0, void 0, function () {\r\n                    var methodDefinition, serversMethodMap, err_1, method, errorObj, timeout, additionalOptionsCopy, invokePromises, invocationMessages, results, allRejected;\r\n                    var _this = this;\r\n                    var _a, _b, _c;\r\n                    return __generator(this, function (_d) {\r\n                        switch (_d.label) {\r\n                            case 0:\r\n                                if (typeof methodFilter === \"string\") {\r\n                                    methodDefinition = { name: methodFilter };\r\n                                }\r\n                                else {\r\n                                    methodDefinition = __assign({}, methodFilter);\r\n                                }\r\n                                if (!methodDefinition.name) {\r\n                                    return [2, Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\")];\r\n                                }\r\n                                if (!argumentObj) {\r\n                                    argumentObj = {};\r\n                                }\r\n                                if (!target) {\r\n                                    target = \"best\";\r\n                                }\r\n                                if (typeof target === \"string\" && target !== \"all\" && target !== \"best\" && target !== \"skipMine\") {\r\n                                    return [2, Promise.reject(new Error(\"\\\"\" + target + \"\\\" is not a valid target. Valid targets are \\\"all\\\" and \\\"best\\\".\"))];\r\n                                }\r\n                                if (!additionalOptions) {\r\n                                    additionalOptions = {};\r\n                                }\r\n                                if (additionalOptions.methodResponseTimeoutMs === undefined) {\r\n                                    additionalOptions.methodResponseTimeoutMs = additionalOptions.method_response_timeout;\r\n                                    if (additionalOptions.methodResponseTimeoutMs === undefined) {\r\n                                        additionalOptions.methodResponseTimeoutMs = this.configuration.methodResponseTimeout;\r\n                                    }\r\n                                }\r\n                                if (additionalOptions.waitTimeoutMs === undefined) {\r\n                                    additionalOptions.waitTimeoutMs = additionalOptions.wait_for_method_timeout;\r\n                                    if (additionalOptions.waitTimeoutMs === undefined) {\r\n                                        additionalOptions.waitTimeoutMs = this.configuration.waitTimeoutMs;\r\n                                    }\r\n                                }\r\n                                if (additionalOptions.waitTimeoutMs !== undefined && typeof additionalOptions.waitTimeoutMs !== \"number\") {\r\n                                    return [2, Promise.reject(new Error(\"\\\"\" + additionalOptions.waitTimeoutMs + \"\\\" is not a valid number for \\\"waitTimeoutMs\\\" \"))];\r\n                                }\r\n                                if (typeof argumentObj !== \"object\") {\r\n                                    return [2, Promise.reject(new Error(\"The method arguments must be an object. method: \" + methodDefinition.name))];\r\n                                }\r\n                                serversMethodMap = this.getServerMethodsByFilterAndTarget(methodDefinition, target);\r\n                                if (!(serversMethodMap.length === 0)) return [3, 4];\r\n                                _d.label = 1;\r\n                            case 1:\r\n                                _d.trys.push([1, 3, , 4]);\r\n                                return [4, this.tryToAwaitForMethods(methodDefinition, target, additionalOptions)];\r\n                            case 2:\r\n                                serversMethodMap = _d.sent();\r\n                                return [3, 4];\r\n                            case 3:\r\n                                err_1 = _d.sent();\r\n                                method = __assign(__assign({}, methodDefinition), { getServers: function () { return []; }, supportsStreaming: false, objectTypes: (_a = methodDefinition.objectTypes) !== null && _a !== void 0 ? _a : [], flags: (_c = (_b = methodDefinition.flags) === null || _b === void 0 ? void 0 : _b.metadata) !== null && _c !== void 0 ? _c : {} });\r\n                                errorObj = {\r\n                                    method: method,\r\n                                    called_with: argumentObj,\r\n                                    message: \"Can not find a method matching \" + JSON.stringify(methodFilter) + \" with server filter \" + JSON.stringify(target),\r\n                                    executed_by: undefined,\r\n                                    returned: undefined,\r\n                                    status: undefined,\r\n                                };\r\n                                return [2, Promise.reject(errorObj)];\r\n                            case 4:\r\n                                timeout = additionalOptions.methodResponseTimeoutMs;\r\n                                additionalOptionsCopy = additionalOptions;\r\n                                invokePromises = serversMethodMap.map(function (serversMethodPair) {\r\n                                    var invId = shortid();\r\n                                    var method = serversMethodPair.methods[0];\r\n                                    var server = serversMethodPair.server;\r\n                                    var invokePromise = _this.protocol.client.invoke(invId, method, argumentObj, server, additionalOptionsCopy);\r\n                                    return Promise.race([\r\n                                        invokePromise,\r\n                                        rejectAfter(timeout, invokePromise, {\r\n                                            invocationId: invId,\r\n                                            message: \"Invocation timeout (\" + timeout + \" ms) reached for method name: \" + (method === null || method === void 0 ? void 0 : method.name) + \", target instance: \" + JSON.stringify(server.instance) + \", options: \" + JSON.stringify(additionalOptionsCopy),\r\n                                            status: InvokeStatus.Error,\r\n                                        })\r\n                                    ]);\r\n                                });\r\n                                return [4, Promise.all(invokePromises)];\r\n                            case 5:\r\n                                invocationMessages = _d.sent();\r\n                                results = this.getInvocationResultObj(invocationMessages, methodDefinition, argumentObj);\r\n                                allRejected = invocationMessages.every(function (result) { return result.status === InvokeStatus.Error; });\r\n                                if (allRejected) {\r\n                                    return [2, Promise.reject(results)];\r\n                                }\r\n                                return [2, results];\r\n                        }\r\n                    });\r\n                }); };\r\n                return [2, promisify(getInvokePromise(), success, error)];\r\n            });\r\n        });\r\n    };\r\n    Client.prototype.getInvocationResultObj = function (invocationResults, method, calledWith) {\r\n        var all_return_values = invocationResults\r\n            .filter(function (invokeMessage) { return invokeMessage.status === InvokeStatus.Success; })\r\n            .reduce(function (allValues, currentValue) {\r\n            allValues = __spreadArrays(allValues, [\r\n                {\r\n                    executed_by: currentValue.instance,\r\n                    returned: currentValue.result,\r\n                    called_with: calledWith,\r\n                    method: method,\r\n                    message: currentValue.message,\r\n                    status: currentValue.status,\r\n                }\r\n            ]);\r\n            return allValues;\r\n        }, []);\r\n        var all_errors = invocationResults\r\n            .filter(function (invokeMessage) { return invokeMessage.status === InvokeStatus.Error; })\r\n            .reduce(function (allErrors, currError) {\r\n            allErrors = __spreadArrays(allErrors, [\r\n                {\r\n                    executed_by: currError.instance,\r\n                    called_with: calledWith,\r\n                    name: method.name,\r\n                    message: currError.message,\r\n                }\r\n            ]);\r\n            return allErrors;\r\n        }, []);\r\n        var invResult = invocationResults[0];\r\n        var result = {\r\n            method: method,\r\n            called_with: calledWith,\r\n            returned: invResult.result,\r\n            executed_by: invResult.instance,\r\n            all_return_values: all_return_values,\r\n            all_errors: all_errors,\r\n            message: invResult.message,\r\n            status: invResult.status\r\n        };\r\n        return result;\r\n    };\r\n    Client.prototype.tryToAwaitForMethods = function (methodDefinition, target, additionalOptions) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            if (additionalOptions.waitTimeoutMs === 0) {\r\n                reject();\r\n                return;\r\n            }\r\n            var delayStep = 500;\r\n            var delayTillNow = 0;\r\n            var retry = function () {\r\n                delayTillNow += delayStep;\r\n                var serversMethodMap = _this.getServerMethodsByFilterAndTarget(methodDefinition, target);\r\n                if (serversMethodMap.length > 0) {\r\n                    clearInterval(interval);\r\n                    resolve(serversMethodMap);\r\n                }\r\n                else if (delayTillNow >= (additionalOptions.waitTimeoutMs || 10000)) {\r\n                    clearInterval(interval);\r\n                    reject();\r\n                    return;\r\n                }\r\n            };\r\n            var interval = setInterval(retry, delayStep);\r\n        });\r\n    };\r\n    Client.prototype.filterByTarget = function (target, serverMethodMap) {\r\n        var _this = this;\r\n        if (typeof target === \"string\") {\r\n            if (target === \"all\") {\r\n                return __spreadArrays(serverMethodMap);\r\n            }\r\n            else if (target === \"best\") {\r\n                var localMachine = serverMethodMap\r\n                    .find(function (s) { return s.server.instance.isLocal; });\r\n                if (localMachine) {\r\n                    return [localMachine];\r\n                }\r\n                if (serverMethodMap[0] !== undefined) {\r\n                    return [serverMethodMap[0]];\r\n                }\r\n            }\r\n            else if (target === \"skipMine\") {\r\n                return serverMethodMap.filter(function (_a) {\r\n                    var server = _a.server;\r\n                    return server.instance.peerId !== _this.instance.peerId;\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            var targetArray = void 0;\r\n            if (!Array.isArray(target)) {\r\n                targetArray = [target];\r\n            }\r\n            else {\r\n                targetArray = target;\r\n            }\r\n            var allServersMatching = targetArray.reduce(function (matches, filter) {\r\n                var myMatches = serverMethodMap.filter(function (serverMethodPair) {\r\n                    return _this.instanceMatch(filter, serverMethodPair.server.instance);\r\n                });\r\n                return matches.concat(myMatches);\r\n            }, []);\r\n            return allServersMatching;\r\n        }\r\n        return [];\r\n    };\r\n    Client.prototype.instanceMatch = function (instanceFilter, instanceDefinition) {\r\n        return this.containsProps(instanceFilter, instanceDefinition);\r\n    };\r\n    Client.prototype.methodMatch = function (methodFilter, methodDefinition) {\r\n        return this.containsProps(methodFilter, methodDefinition);\r\n    };\r\n    Client.prototype.containsProps = function (filter, repoMethod) {\r\n        var filterProps = Object.keys(filter)\r\n            .filter(function (prop) {\r\n            return filter[prop] !== undefined\r\n                && typeof filter[prop] !== \"function\"\r\n                && prop !== \"object_types\"\r\n                && prop !== \"display_name\"\r\n                && prop !== \"id\"\r\n                && prop !== \"gatewayId\"\r\n                && prop !== \"identifier\"\r\n                && prop[0] !== \"_\";\r\n        });\r\n        return filterProps.every(function (prop) {\r\n            var isMatch;\r\n            var filterValue = filter[prop];\r\n            var repoMethodValue = repoMethod[prop];\r\n            switch (prop) {\r\n                case \"objectTypes\":\r\n                    isMatch = (filterValue || []).every(function (filterValueEl) {\r\n                        return (repoMethodValue || []).includes(filterValueEl);\r\n                    });\r\n                    break;\r\n                case \"flags\":\r\n                    isMatch = isSubset(repoMethodValue || {}, filterValue || {});\r\n                    break;\r\n                default:\r\n                    isMatch = String(filterValue).toLowerCase() === String(repoMethodValue).toLowerCase();\r\n            }\r\n            return isMatch;\r\n        });\r\n    };\r\n    Client.prototype.getMethods = function (methodFilter) {\r\n        var _this = this;\r\n        if (methodFilter === undefined) {\r\n            return this.repo.getMethods();\r\n        }\r\n        var methods = this.repo.getMethods().filter(function (method) {\r\n            return _this.methodMatch(methodFilter, method);\r\n        });\r\n        return methods;\r\n    };\r\n    Client.prototype.getMethodsForInstance = function (instanceFilter) {\r\n        var _this = this;\r\n        var allServers = this.repo.getServers();\r\n        var matchingServers = allServers.filter(function (server) {\r\n            return _this.instanceMatch(instanceFilter, server.instance);\r\n        });\r\n        if (matchingServers.length === 0) {\r\n            return [];\r\n        }\r\n        var resultMethodsObject = {};\r\n        if (matchingServers.length === 1) {\r\n            resultMethodsObject = matchingServers[0].methods;\r\n        }\r\n        else {\r\n            matchingServers.forEach(function (server) {\r\n                Object.keys(server.methods).forEach(function (methodKey) {\r\n                    var method = server.methods[methodKey];\r\n                    resultMethodsObject[method.identifier] = method;\r\n                });\r\n            });\r\n        }\r\n        return Object.keys(resultMethodsObject)\r\n            .map(function (key) {\r\n            return resultMethodsObject[key];\r\n        });\r\n    };\r\n    Client.prototype.getServers = function (methodFilter) {\r\n        var _this = this;\r\n        var servers = this.repo.getServers();\r\n        if (methodFilter === undefined) {\r\n            return servers.map(function (server) {\r\n                return { server: server, methods: [] };\r\n            });\r\n        }\r\n        return servers.reduce(function (prev, current) {\r\n            var methodsForServer = Object.values(current.methods);\r\n            var matchingMethods = methodsForServer.filter(function (method) {\r\n                return _this.methodMatch(methodFilter, method);\r\n            });\r\n            if (matchingMethods.length > 0) {\r\n                prev.push({ server: current, methods: matchingMethods });\r\n            }\r\n            return prev;\r\n        }, []);\r\n    };\r\n    Client.prototype.getServerMethodsByFilterAndTarget = function (methodFilter, target) {\r\n        var serversMethodMap = this.getServers(methodFilter);\r\n        return this.filterByTarget(target, serversMethodMap);\r\n    };\r\n    return Client;\r\n}());\n\nvar ServerSubscription = (function () {\r\n    function ServerSubscription(protocol, repoMethod, subscription) {\r\n        this.protocol = protocol;\r\n        this.repoMethod = repoMethod;\r\n        this.subscription = subscription;\r\n    }\r\n    Object.defineProperty(ServerSubscription.prototype, \"stream\", {\r\n        get: function () {\r\n            if (!this.repoMethod.stream) {\r\n                throw new Error(\"no stream\");\r\n            }\r\n            return this.repoMethod.stream;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ServerSubscription.prototype, \"arguments\", {\r\n        get: function () { return this.subscription.arguments || {}; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ServerSubscription.prototype, \"branchKey\", {\r\n        get: function () { return this.subscription.branchKey; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ServerSubscription.prototype, \"instance\", {\r\n        get: function () {\r\n            if (!this.subscription.instance) {\r\n                throw new Error(\"no instance\");\r\n            }\r\n            return this.subscription.instance;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ServerSubscription.prototype.close = function () {\r\n        this.protocol.server.closeSingleSubscription(this.repoMethod, this.subscription);\r\n    };\r\n    ServerSubscription.prototype.push = function (data) {\r\n        this.protocol.server.pushDataToSingle(this.repoMethod, this.subscription, data);\r\n    };\r\n    return ServerSubscription;\r\n}());\n\nvar Request = (function () {\r\n    function Request(protocol, repoMethod, requestContext) {\r\n        this.protocol = protocol;\r\n        this.repoMethod = repoMethod;\r\n        this.requestContext = requestContext;\r\n        this.arguments = requestContext.arguments;\r\n        this.instance = requestContext.instance;\r\n    }\r\n    Request.prototype.accept = function () {\r\n        this.protocol.server.acceptRequestOnBranch(this.requestContext, this.repoMethod, \"\");\r\n    };\r\n    Request.prototype.acceptOnBranch = function (branch) {\r\n        this.protocol.server.acceptRequestOnBranch(this.requestContext, this.repoMethod, branch);\r\n    };\r\n    Request.prototype.reject = function (reason) {\r\n        this.protocol.server.rejectRequest(this.requestContext, this.repoMethod, reason);\r\n    };\r\n    return Request;\r\n}());\n\nvar ServerStreaming = (function () {\r\n    function ServerStreaming(protocol, server) {\r\n        var _this = this;\r\n        this.protocol = protocol;\r\n        this.server = server;\r\n        protocol.server.onSubRequest(function (rc, rm) { return _this.handleSubRequest(rc, rm); });\r\n        protocol.server.onSubAdded(function (sub, rm) { return _this.handleSubAdded(sub, rm); });\r\n        protocol.server.onSubRemoved(function (sub, rm) { return _this.handleSubRemoved(sub, rm); });\r\n    }\r\n    ServerStreaming.prototype.handleSubRequest = function (requestContext, repoMethod) {\r\n        if (!(repoMethod &&\r\n            repoMethod.streamCallbacks &&\r\n            typeof repoMethod.streamCallbacks.subscriptionRequestHandler === \"function\")) {\r\n            return;\r\n        }\r\n        var request = new Request(this.protocol, repoMethod, requestContext);\r\n        repoMethod.streamCallbacks.subscriptionRequestHandler(request);\r\n    };\r\n    ServerStreaming.prototype.handleSubAdded = function (subscription, repoMethod) {\r\n        if (!(repoMethod &&\r\n            repoMethod.streamCallbacks &&\r\n            typeof repoMethod.streamCallbacks.subscriptionAddedHandler === \"function\")) {\r\n            return;\r\n        }\r\n        var sub = new ServerSubscription(this.protocol, repoMethod, subscription);\r\n        repoMethod.streamCallbacks.subscriptionAddedHandler(sub);\r\n    };\r\n    ServerStreaming.prototype.handleSubRemoved = function (subscription, repoMethod) {\r\n        if (!(repoMethod &&\r\n            repoMethod.streamCallbacks &&\r\n            typeof repoMethod.streamCallbacks.subscriptionRemovedHandler === \"function\")) {\r\n            return;\r\n        }\r\n        var sub = new ServerSubscription(this.protocol, repoMethod, subscription);\r\n        repoMethod.streamCallbacks.subscriptionRemovedHandler(sub);\r\n    };\r\n    return ServerStreaming;\r\n}());\n\nvar ServerBranch = (function () {\r\n    function ServerBranch(key, protocol, repoMethod) {\r\n        this.key = key;\r\n        this.protocol = protocol;\r\n        this.repoMethod = repoMethod;\r\n    }\r\n    ServerBranch.prototype.subscriptions = function () {\r\n        var _this = this;\r\n        var subList = this.protocol.server.getSubscriptionList(this.repoMethod, this.key);\r\n        return subList.map(function (sub) {\r\n            return new ServerSubscription(_this.protocol, _this.repoMethod, sub);\r\n        });\r\n    };\r\n    ServerBranch.prototype.close = function () {\r\n        this.protocol.server.closeAllSubscriptions(this.repoMethod, this.key);\r\n    };\r\n    ServerBranch.prototype.push = function (data) {\r\n        this.protocol.server.pushData(this.repoMethod, data, [this.key]);\r\n    };\r\n    return ServerBranch;\r\n}());\n\nvar ServerStream = (function () {\r\n    function ServerStream(_protocol, _repoMethod, _server) {\r\n        this._protocol = _protocol;\r\n        this._repoMethod = _repoMethod;\r\n        this._server = _server;\r\n        this.name = this._repoMethod.definition.name;\r\n    }\r\n    ServerStream.prototype.branches = function (key) {\r\n        var _this = this;\r\n        var bList = this._protocol.server.getBranchList(this._repoMethod);\r\n        if (key) {\r\n            if (bList.indexOf(key) > -1) {\r\n                return new ServerBranch(key, this._protocol, this._repoMethod);\r\n            }\r\n            return undefined;\r\n        }\r\n        else {\r\n            return bList.map(function (branchKey) {\r\n                return new ServerBranch(branchKey, _this._protocol, _this._repoMethod);\r\n            });\r\n        }\r\n    };\r\n    ServerStream.prototype.branch = function (key) {\r\n        return this.branches(key);\r\n    };\r\n    ServerStream.prototype.subscriptions = function () {\r\n        var _this = this;\r\n        var subList = this._protocol.server.getSubscriptionList(this._repoMethod);\r\n        return subList.map(function (sub) {\r\n            return new ServerSubscription(_this._protocol, _this._repoMethod, sub);\r\n        });\r\n    };\r\n    Object.defineProperty(ServerStream.prototype, \"definition\", {\r\n        get: function () {\r\n            var _a;\r\n            var def2 = this._repoMethod.definition;\r\n            return {\r\n                accepts: def2.accepts,\r\n                description: def2.description,\r\n                displayName: def2.displayName,\r\n                name: def2.name,\r\n                objectTypes: def2.objectTypes,\r\n                returns: def2.returns,\r\n                supportsStreaming: def2.supportsStreaming,\r\n                flags: (_a = def2.flags) === null || _a === void 0 ? void 0 : _a.metadata,\r\n            };\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ServerStream.prototype.close = function () {\r\n        this._protocol.server.closeAllSubscriptions(this._repoMethod);\r\n        this._server.unregister(this._repoMethod.definition, true);\r\n    };\r\n    ServerStream.prototype.push = function (data, branches) {\r\n        if (typeof branches !== \"string\" && !Array.isArray(branches) && branches !== undefined) {\r\n            throw new Error(\"invalid branches should be string or string array\");\r\n        }\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Invalid arguments. Data must be an object.\");\r\n        }\r\n        this._protocol.server.pushData(this._repoMethod, data, branches);\r\n    };\r\n    ServerStream.prototype.updateRepoMethod = function (repoMethod) {\r\n        this._repoMethod = repoMethod;\r\n    };\r\n    return ServerStream;\r\n}());\n\nvar Server = (function () {\r\n    function Server(protocol, serverRepository) {\r\n        this.protocol = protocol;\r\n        this.serverRepository = serverRepository;\r\n        this.invocations = 0;\r\n        this.currentlyUnregistering = {};\r\n        this.streaming = new ServerStreaming(protocol, this);\r\n        this.protocol.server.onInvoked(this.onMethodInvoked.bind(this));\r\n    }\r\n    Server.prototype.createStream = function (streamDef, callbacks, successCallback, errorCallback, existingStream) {\r\n        var _this = this;\r\n        var promise = new Promise(function (resolve, reject) {\r\n            if (!streamDef) {\r\n                reject(\"The stream name must be unique! Please, provide either a unique string for a stream name to \\u201Cglue.interop.createStream()\\u201D or a \\u201CmethodDefinition\\u201D object with a unique \\u201Cname\\u201D property for the stream.\");\r\n                return;\r\n            }\r\n            var streamMethodDefinition;\r\n            if (typeof streamDef === \"string\") {\r\n                streamMethodDefinition = { name: \"\" + streamDef };\r\n            }\r\n            else {\r\n                streamMethodDefinition = __assign({}, streamDef);\r\n            }\r\n            if (!streamMethodDefinition.name) {\r\n                return reject(\"The \\u201Cname\\u201D property is required for the \\u201CstreamDefinition\\u201D object and must be unique. Stream definition: \" + JSON.stringify(streamMethodDefinition));\r\n            }\r\n            var nameAlreadyExists = _this.serverRepository.getList()\r\n                .some(function (serverMethod) { return serverMethod.definition.name === streamMethodDefinition.name; });\r\n            if (nameAlreadyExists) {\r\n                return reject(\"A stream with the name \\\"\" + streamMethodDefinition.name + \"\\\" already exists! Please, provide a unique name for the stream.\");\r\n            }\r\n            streamMethodDefinition.supportsStreaming = true;\r\n            if (!callbacks) {\r\n                callbacks = {};\r\n            }\r\n            if (typeof callbacks.subscriptionRequestHandler !== \"function\") {\r\n                callbacks.subscriptionRequestHandler = function (request) {\r\n                    request.accept();\r\n                };\r\n            }\r\n            var repoMethod = _this.serverRepository.add({\r\n                definition: streamMethodDefinition,\r\n                streamCallbacks: callbacks,\r\n                protocolState: {},\r\n            });\r\n            _this.protocol.server.createStream(repoMethod)\r\n                .then(function () {\r\n                var streamUserObject;\r\n                if (existingStream) {\r\n                    streamUserObject = existingStream;\r\n                    existingStream.updateRepoMethod(repoMethod);\r\n                }\r\n                else {\r\n                    streamUserObject = new ServerStream(_this.protocol, repoMethod, _this);\r\n                }\r\n                repoMethod.stream = streamUserObject;\r\n                resolve(streamUserObject);\r\n            })\r\n                .catch(function (err) {\r\n                if (repoMethod.repoId) {\r\n                    _this.serverRepository.remove(repoMethod.repoId);\r\n                }\r\n                reject(err);\r\n            });\r\n        });\r\n        return promisify(promise, successCallback, errorCallback);\r\n    };\r\n    Server.prototype.register = function (methodDefinition, callback) {\r\n        var _this = this;\r\n        if (!methodDefinition) {\r\n            return Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n        }\r\n        if (typeof callback !== \"function\") {\r\n            return Promise.reject(\"The second parameter must be a callback function. Method: \" + (typeof methodDefinition === \"string\" ? methodDefinition : methodDefinition.name));\r\n        }\r\n        var wrappedCallbackFunction = function (context, resultCallback) { return __awaiter(_this, void 0, void 0, function () {\r\n            var result, resultValue, e_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 4, , 5]);\r\n                        result = callback(context.args, context.instance);\r\n                        if (!(result && typeof result.then === \"function\")) return [3, 2];\r\n                        return [4, result];\r\n                    case 1:\r\n                        resultValue = _a.sent();\r\n                        resultCallback(undefined, resultValue);\r\n                        return [3, 3];\r\n                    case 2:\r\n                        resultCallback(undefined, result);\r\n                        _a.label = 3;\r\n                    case 3: return [3, 5];\r\n                    case 4:\r\n                        e_1 = _a.sent();\r\n                        if (!e_1) {\r\n                            e_1 = \"\";\r\n                        }\r\n                        resultCallback(e_1, e_1);\r\n                        return [3, 5];\r\n                    case 5: return [2];\r\n                }\r\n            });\r\n        }); };\r\n        wrappedCallbackFunction.userCallback = callback;\r\n        return this.registerCore(methodDefinition, wrappedCallbackFunction);\r\n    };\r\n    Server.prototype.registerAsync = function (methodDefinition, callback) {\r\n        if (!methodDefinition) {\r\n            return Promise.reject(\"Method definition is required. Please, provide either a unique string for a method name or a \\u201CmethodDefinition\\u201D object with a required \\u201Cname\\u201D property.\");\r\n        }\r\n        if (typeof callback !== \"function\") {\r\n            return Promise.reject(\"The second parameter must be a callback function. Method: \" + (typeof methodDefinition === \"string\" ? methodDefinition : methodDefinition.name));\r\n        }\r\n        var wrappedCallback = function (context, resultCallback) {\r\n            try {\r\n                var resultCalled_1 = false;\r\n                var success = function (result) {\r\n                    if (!resultCalled_1) {\r\n                        resultCallback(undefined, result);\r\n                    }\r\n                    resultCalled_1 = true;\r\n                };\r\n                var error = function (e) {\r\n                    if (!resultCalled_1) {\r\n                        if (!e) {\r\n                            e = \"\";\r\n                        }\r\n                        resultCallback(e, e);\r\n                    }\r\n                    resultCalled_1 = true;\r\n                };\r\n                var methodResult = callback(context.args, context.instance, success, error);\r\n                if (methodResult && typeof methodResult.then === \"function\") {\r\n                    methodResult\r\n                        .then(success)\r\n                        .catch(error);\r\n                }\r\n            }\r\n            catch (e) {\r\n                resultCallback(e, undefined);\r\n            }\r\n        };\r\n        wrappedCallback.userCallbackAsync = callback;\r\n        return this.registerCore(methodDefinition, wrappedCallback);\r\n    };\r\n    Server.prototype.unregister = function (methodFilter, forStream) {\r\n        if (forStream === void 0) { forStream = false; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var methodDefinition, methodToBeRemoved;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (methodFilter === undefined) {\r\n                            return [2, Promise.reject(\"Please, provide either a unique string for a name or an object containing a \\u201Cname\\u201D property.\")];\r\n                        }\r\n                        if (!(typeof methodFilter === \"function\")) return [3, 2];\r\n                        return [4, this.unregisterWithPredicate(methodFilter, forStream)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                    case 2:\r\n                        if (typeof methodFilter === \"string\") {\r\n                            methodDefinition = { name: methodFilter };\r\n                        }\r\n                        else {\r\n                            methodDefinition = methodFilter;\r\n                        }\r\n                        if (methodDefinition.name === undefined) {\r\n                            return [2, Promise.reject(\"Method name is required. Cannot find a method if the method name is undefined!\")];\r\n                        }\r\n                        methodToBeRemoved = this.serverRepository.getList().find(function (serverMethod) {\r\n                            return serverMethod.definition.name === methodDefinition.name\r\n                                && (serverMethod.definition.supportsStreaming || false) === forStream;\r\n                        });\r\n                        if (!methodToBeRemoved) {\r\n                            return [2, Promise.reject(\"Method with a name \\\"\" + methodDefinition.name + \"\\\" does not exist or is not registered by your application!\")];\r\n                        }\r\n                        return [4, this.removeMethodsOrStreams([methodToBeRemoved])];\r\n                    case 3:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.unregisterWithPredicate = function (filterPredicate, forStream) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var methodsOrStreamsToRemove;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        methodsOrStreamsToRemove = this.serverRepository.getList()\r\n                            .filter(function (sm) { return filterPredicate(sm.definition); })\r\n                            .filter(function (serverMethod) {\r\n                            return (serverMethod.definition.supportsStreaming || false) === forStream;\r\n                        });\r\n                        if (!methodsOrStreamsToRemove || methodsOrStreamsToRemove.length === 0) {\r\n                            return [2, Promise.reject(\"Could not find a \" + (forStream ? \"stream\" : \"method\") + \" matching the specified condition!\")];\r\n                        }\r\n                        return [4, this.removeMethodsOrStreams(methodsOrStreamsToRemove)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.removeMethodsOrStreams = function (methodsToRemove) {\r\n        var _this = this;\r\n        var methodUnregPromises = [];\r\n        methodsToRemove.forEach(function (method) {\r\n            var promise = _this.protocol.server.unregister(method)\r\n                .then(function () {\r\n                if (method.repoId) {\r\n                    _this.serverRepository.remove(method.repoId);\r\n                }\r\n            });\r\n            methodUnregPromises.push(promise);\r\n            _this.addAsCurrentlyUnregistering(method.definition.name, promise);\r\n        });\r\n        return Promise.all(methodUnregPromises);\r\n    };\r\n    Server.prototype.addAsCurrentlyUnregistering = function (methodName, promise) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var timeout;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                timeout = new Promise(function (resolve) { return setTimeout(resolve, 5000); });\r\n                this.currentlyUnregistering[methodName] = Promise.race([promise, timeout]).then(function () {\r\n                    delete _this.currentlyUnregistering[methodName];\r\n                });\r\n                return [2];\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.registerCore = function (method, theFunction) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var methodDefinition, unregisterInProgress, nameAlreadyExists, repoMethod;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (typeof method === \"string\") {\r\n                            methodDefinition = { name: \"\" + method };\r\n                        }\r\n                        else {\r\n                            methodDefinition = __assign({}, method);\r\n                        }\r\n                        if (!methodDefinition.name) {\r\n                            return [2, Promise.reject(\"Please, provide a (unique) string value for the \\u201Cname\\u201D property in the \\u201CmethodDefinition\\u201D object: \" + JSON.stringify(method))];\r\n                        }\r\n                        unregisterInProgress = this.currentlyUnregistering[methodDefinition.name];\r\n                        if (!unregisterInProgress) return [3, 2];\r\n                        return [4, unregisterInProgress];\r\n                    case 1:\r\n                        _a.sent();\r\n                        _a.label = 2;\r\n                    case 2:\r\n                        nameAlreadyExists = this.serverRepository.getList()\r\n                            .some(function (serverMethod) { return serverMethod.definition.name === methodDefinition.name; });\r\n                        if (nameAlreadyExists) {\r\n                            return [2, Promise.reject(\"A method with the name \\\"\" + methodDefinition.name + \"\\\" already exists! Please, provide a unique name for the method.\")];\r\n                        }\r\n                        if (methodDefinition.supportsStreaming) {\r\n                            return [2, Promise.reject(\"When you create methods with \\u201Cglue.interop.register()\\u201D or \\u201Cglue.interop.registerAsync()\\u201D the property \\u201CsupportsStreaming\\u201D cannot be \\u201Ctrue\\u201D. If you want \\u201C\" + methodDefinition.name + \"\\u201D to be a stream, please use the \\u201Cglue.interop.createStream()\\u201D method.\")];\r\n                        }\r\n                        repoMethod = this.serverRepository.add({\r\n                            definition: methodDefinition,\r\n                            theFunction: theFunction,\r\n                            protocolState: {},\r\n                        });\r\n                        return [2, this.protocol.server.register(repoMethod)\r\n                                .catch(function (err) {\r\n                                if (repoMethod === null || repoMethod === void 0 ? void 0 : repoMethod.repoId) {\r\n                                    _this.serverRepository.remove(repoMethod.repoId);\r\n                                }\r\n                                throw err;\r\n                            })];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Server.prototype.onMethodInvoked = function (methodToExecute, invocationId, invocationArgs) {\r\n        var _this = this;\r\n        if (!methodToExecute || !methodToExecute.theFunction) {\r\n            return;\r\n        }\r\n        methodToExecute.theFunction(invocationArgs, function (err, result) {\r\n            if (err !== undefined && err !== null) {\r\n                if (err.message && typeof err.message === \"string\") {\r\n                    err = err.message;\r\n                }\r\n                else if (typeof err !== \"string\") {\r\n                    try {\r\n                        err = JSON.stringify(err);\r\n                    }\r\n                    catch (unStrException) {\r\n                        err = \"un-stringifyable error in onMethodInvoked! Top level prop names: \" + Object.keys(err);\r\n                    }\r\n                }\r\n            }\r\n            if (!result) {\r\n                result = {};\r\n            }\r\n            else if (typeof result !== \"object\" || Array.isArray(result)) {\r\n                result = { _value: result };\r\n            }\r\n            _this.protocol.server.methodInvocationResult(methodToExecute, invocationId, err, result);\r\n        });\r\n    };\r\n    return Server;\r\n}());\n\nvar InstanceWrapper = (function () {\r\n    function InstanceWrapper(API, instance, connection) {\r\n        var _this = this;\r\n        this.wrapped = {};\r\n        this.wrapped.getMethods = function () {\r\n            return API.methodsForInstance(this);\r\n        };\r\n        this.wrapped.getStreams = function () {\r\n            return API.methodsForInstance(this).filter(function (m) { return m.supportsStreaming; });\r\n        };\r\n        if (instance) {\r\n            this.refreshWrappedObject(instance);\r\n        }\r\n        if (connection) {\r\n            connection.loggedIn(function () {\r\n                _this.refresh(connection);\r\n            });\r\n            this.refresh(connection);\r\n        }\r\n    }\r\n    InstanceWrapper.prototype.unwrap = function () {\r\n        return this.wrapped;\r\n    };\r\n    InstanceWrapper.prototype.refresh = function (connection) {\r\n        if (!connection) {\r\n            return;\r\n        }\r\n        var resolvedIdentity = connection === null || connection === void 0 ? void 0 : connection.resolvedIdentity;\r\n        var instance = Object.assign({}, resolvedIdentity !== null && resolvedIdentity !== void 0 ? resolvedIdentity : {}, { peerId: connection === null || connection === void 0 ? void 0 : connection.peerId });\r\n        this.refreshWrappedObject(instance);\r\n    };\r\n    InstanceWrapper.prototype.refreshWrappedObject = function (resolvedIdentity) {\r\n        var _a, _b, _c;\r\n        this.wrapped.user = resolvedIdentity.user;\r\n        this.wrapped.instance = resolvedIdentity.instance;\r\n        this.wrapped.application = (_a = resolvedIdentity.application) !== null && _a !== void 0 ? _a : shortid();\r\n        this.wrapped.applicationName = resolvedIdentity.applicationName;\r\n        this.wrapped.pid = (_c = (_b = resolvedIdentity.pid) !== null && _b !== void 0 ? _b : resolvedIdentity.process) !== null && _c !== void 0 ? _c : Math.floor(Math.random() * 10000000000);\r\n        this.wrapped.machine = resolvedIdentity.machine;\r\n        this.wrapped.environment = resolvedIdentity.environment;\r\n        this.wrapped.region = resolvedIdentity.region;\r\n        this.wrapped.windowId = resolvedIdentity.windowId;\r\n        this.wrapped.isLocal = true;\r\n        this.wrapped.api = resolvedIdentity.api;\r\n        this.wrapped.service = resolvedIdentity.service;\r\n        this.wrapped.peerId = resolvedIdentity.peerId;\r\n    };\r\n    return InstanceWrapper;\r\n}());\n\nvar hideMethodSystemFlags = function (method) {\r\n    return __assign(__assign({}, method), { flags: method.flags.metadata || {} });\r\n};\r\nvar ClientRepository = (function () {\r\n    function ClientRepository(logger, API) {\r\n        this.logger = logger;\r\n        this.API = API;\r\n        this.servers = {};\r\n        this.methodsCount = {};\r\n        this.callbacks = lib();\r\n        var peerId = this.API.instance.peerId;\r\n        this.myServer = {\r\n            id: peerId,\r\n            methods: {},\r\n            instance: this.API.instance,\r\n            wrapper: this.API.unwrappedInstance,\r\n        };\r\n        this.servers[peerId] = this.myServer;\r\n    }\r\n    ClientRepository.prototype.addServer = function (info, serverId) {\r\n        this.logger.debug(\"adding server \" + serverId);\r\n        var current = this.servers[serverId];\r\n        if (current) {\r\n            return current.id;\r\n        }\r\n        var wrapper = new InstanceWrapper(this.API, info);\r\n        var serverEntry = {\r\n            id: serverId,\r\n            methods: {},\r\n            instance: wrapper.unwrap(),\r\n            wrapper: wrapper,\r\n        };\r\n        this.servers[serverId] = serverEntry;\r\n        this.callbacks.execute(\"onServerAdded\", serverEntry.instance);\r\n        return serverId;\r\n    };\r\n    ClientRepository.prototype.removeServerById = function (id, reason) {\r\n        var _this = this;\r\n        var server = this.servers[id];\r\n        if (!server) {\r\n            this.logger.warn(\"not aware of server \" + id + \", my state \" + JSON.stringify(Object.keys(this.servers)));\r\n            return;\r\n        }\r\n        else {\r\n            this.logger.debug(\"removing server \" + id);\r\n        }\r\n        Object.keys(server.methods).forEach(function (methodId) {\r\n            _this.removeServerMethod(id, methodId);\r\n        });\r\n        delete this.servers[id];\r\n        this.callbacks.execute(\"onServerRemoved\", server.instance, reason);\r\n    };\r\n    ClientRepository.prototype.addServerMethod = function (serverId, method) {\r\n        var _a;\r\n        var server = this.servers[serverId];\r\n        if (!server) {\r\n            throw new Error(\"server does not exists\");\r\n        }\r\n        if (server.methods[method.id]) {\r\n            return;\r\n        }\r\n        var identifier = this.createMethodIdentifier(method);\r\n        var that = this;\r\n        var methodDefinition = {\r\n            identifier: identifier,\r\n            gatewayId: method.id,\r\n            name: method.name,\r\n            displayName: method.display_name,\r\n            description: method.description,\r\n            version: method.version,\r\n            objectTypes: method.object_types || [],\r\n            accepts: method.input_signature,\r\n            returns: method.result_signature,\r\n            supportsStreaming: typeof method.flags !== \"undefined\" ? method.flags.streaming : false,\r\n            flags: (_a = method.flags) !== null && _a !== void 0 ? _a : {},\r\n            getServers: function () {\r\n                return that.getServersByMethod(identifier);\r\n            }\r\n        };\r\n        methodDefinition.object_types = methodDefinition.objectTypes;\r\n        methodDefinition.display_name = methodDefinition.displayName;\r\n        methodDefinition.version = methodDefinition.version;\r\n        server.methods[method.id] = methodDefinition;\r\n        var clientMethodDefinition = hideMethodSystemFlags(methodDefinition);\r\n        if (!this.methodsCount[identifier]) {\r\n            this.methodsCount[identifier] = 0;\r\n            this.callbacks.execute(\"onMethodAdded\", clientMethodDefinition);\r\n        }\r\n        this.methodsCount[identifier] = this.methodsCount[identifier] + 1;\r\n        this.callbacks.execute(\"onServerMethodAdded\", server.instance, clientMethodDefinition);\r\n        return methodDefinition;\r\n    };\r\n    ClientRepository.prototype.removeServerMethod = function (serverId, methodId) {\r\n        var server = this.servers[serverId];\r\n        if (!server) {\r\n            throw new Error(\"server does not exists\");\r\n        }\r\n        var method = server.methods[methodId];\r\n        delete server.methods[methodId];\r\n        var clientMethodDefinition = hideMethodSystemFlags(method);\r\n        this.methodsCount[method.identifier] = this.methodsCount[method.identifier] - 1;\r\n        if (this.methodsCount[method.identifier] === 0) {\r\n            this.callbacks.execute(\"onMethodRemoved\", clientMethodDefinition);\r\n        }\r\n        this.callbacks.execute(\"onServerMethodRemoved\", server.instance, clientMethodDefinition);\r\n    };\r\n    ClientRepository.prototype.getMethods = function () {\r\n        return this.extractMethodsFromServers(Object.values(this.servers)).map(hideMethodSystemFlags);\r\n    };\r\n    ClientRepository.prototype.getServers = function () {\r\n        return Object.values(this.servers).map(this.hideServerMethodSystemFlags);\r\n    };\r\n    ClientRepository.prototype.onServerAdded = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerAdded\", callback);\r\n        var serversWithMethodsToReplay = this.getServers().map(function (s) { return s.instance; });\r\n        return this.returnUnsubWithDelayedReplay(unsubscribeFunc, serversWithMethodsToReplay, callback);\r\n    };\r\n    ClientRepository.prototype.onMethodAdded = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onMethodAdded\", callback);\r\n        var methodsToReplay = this.getMethods();\r\n        return this.returnUnsubWithDelayedReplay(unsubscribeFunc, methodsToReplay, callback);\r\n    };\r\n    ClientRepository.prototype.onServerMethodAdded = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerMethodAdded\", callback);\r\n        var unsubCalled = false;\r\n        var servers = this.getServers();\r\n        setTimeout(function () {\r\n            servers.forEach(function (server) {\r\n                var methods = server.methods;\r\n                Object.keys(methods).forEach(function (methodId) {\r\n                    if (!unsubCalled) {\r\n                        callback(server.instance, methods[methodId]);\r\n                    }\r\n                });\r\n            });\r\n        }, 0);\r\n        return function () {\r\n            unsubCalled = true;\r\n            unsubscribeFunc();\r\n        };\r\n    };\r\n    ClientRepository.prototype.onMethodRemoved = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onMethodRemoved\", callback);\r\n        return unsubscribeFunc;\r\n    };\r\n    ClientRepository.prototype.onServerRemoved = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerRemoved\", callback);\r\n        return unsubscribeFunc;\r\n    };\r\n    ClientRepository.prototype.onServerMethodRemoved = function (callback) {\r\n        var unsubscribeFunc = this.callbacks.add(\"onServerMethodRemoved\", callback);\r\n        return unsubscribeFunc;\r\n    };\r\n    ClientRepository.prototype.getServerById = function (id) {\r\n        return this.hideServerMethodSystemFlags(this.servers[id]);\r\n    };\r\n    ClientRepository.prototype.reset = function () {\r\n        var _a;\r\n        var _this = this;\r\n        Object.keys(this.servers).forEach(function (key) {\r\n            _this.removeServerById(key, \"reset\");\r\n        });\r\n        this.servers = (_a = {},\r\n            _a[this.myServer.id] = this.myServer,\r\n            _a);\r\n        this.methodsCount = {};\r\n    };\r\n    ClientRepository.prototype.createMethodIdentifier = function (methodInfo) {\r\n        var accepts = methodInfo.input_signature !== undefined ? methodInfo.input_signature : \"\";\r\n        var returns = methodInfo.result_signature !== undefined ? methodInfo.result_signature : \"\";\r\n        return (methodInfo.name + accepts + returns).toLowerCase();\r\n    };\r\n    ClientRepository.prototype.getServersByMethod = function (identifier) {\r\n        var allServers = [];\r\n        Object.values(this.servers).forEach(function (server) {\r\n            Object.values(server.methods).forEach(function (method) {\r\n                if (method.identifier === identifier) {\r\n                    allServers.push(server.instance);\r\n                }\r\n            });\r\n        });\r\n        return allServers;\r\n    };\r\n    ClientRepository.prototype.returnUnsubWithDelayedReplay = function (unsubscribeFunc, collectionToReplay, callback) {\r\n        var unsubCalled = false;\r\n        setTimeout(function () {\r\n            collectionToReplay.forEach(function (item) {\r\n                if (!unsubCalled) {\r\n                    callback(item);\r\n                }\r\n            });\r\n        }, 0);\r\n        return function () {\r\n            unsubCalled = true;\r\n            unsubscribeFunc();\r\n        };\r\n    };\r\n    ClientRepository.prototype.hideServerMethodSystemFlags = function (server) {\r\n        var clientMethods = {};\r\n        Object.entries(server.methods).forEach(function (_a) {\r\n            var name = _a[0], method = _a[1];\r\n            clientMethods[name] = hideMethodSystemFlags(method);\r\n        });\r\n        return __assign(__assign({}, server), { methods: clientMethods });\r\n    };\r\n    ClientRepository.prototype.extractMethodsFromServers = function (servers) {\r\n        var methods = Object.values(servers).reduce(function (clientMethods, server) {\r\n            return __spreadArrays(clientMethods, Object.values(server.methods));\r\n        }, []);\r\n        return methods;\r\n    };\r\n    return ClientRepository;\r\n}());\n\nvar ServerRepository = (function () {\r\n    function ServerRepository() {\r\n        this.nextId = 0;\r\n        this.methods = [];\r\n    }\r\n    ServerRepository.prototype.add = function (method) {\r\n        method.repoId = String(this.nextId);\r\n        this.nextId += 1;\r\n        this.methods.push(method);\r\n        return method;\r\n    };\r\n    ServerRepository.prototype.remove = function (repoId) {\r\n        if (typeof repoId !== \"string\") {\r\n            return new TypeError(\"Expecting a string\");\r\n        }\r\n        this.methods = this.methods.filter(function (m) {\r\n            return m.repoId !== repoId;\r\n        });\r\n    };\r\n    ServerRepository.prototype.getById = function (id) {\r\n        if (typeof id !== \"string\") {\r\n            return undefined;\r\n        }\r\n        return this.methods.find(function (m) {\r\n            return m.repoId === id;\r\n        });\r\n    };\r\n    ServerRepository.prototype.getList = function () {\r\n        return this.methods.map(function (m) { return m; });\r\n    };\r\n    ServerRepository.prototype.length = function () {\r\n        return this.methods.length;\r\n    };\r\n    ServerRepository.prototype.reset = function () {\r\n        this.methods = [];\r\n    };\r\n    return ServerRepository;\r\n}());\n\nvar SUBSCRIPTION_REQUEST = \"onSubscriptionRequest\";\r\nvar SUBSCRIPTION_ADDED = \"onSubscriptionAdded\";\r\nvar SUBSCRIPTION_REMOVED = \"onSubscriptionRemoved\";\r\nvar ServerStreaming$1 = (function () {\r\n    function ServerStreaming(session, repository, serverRepository) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.repository = repository;\r\n        this.serverRepository = serverRepository;\r\n        this.ERR_URI_SUBSCRIPTION_FAILED = \"com.tick42.agm.errors.subscription.failure\";\r\n        this.callbacks = lib();\r\n        this.nextStreamId = 0;\r\n        session.on(\"add-interest\", function (msg) {\r\n            _this.handleAddInterest(msg);\r\n        });\r\n        session.on(\"remove-interest\", function (msg) {\r\n            _this.handleRemoveInterest(msg);\r\n        });\r\n    }\r\n    ServerStreaming.prototype.acceptRequestOnBranch = function (requestContext, streamingMethod, branch) {\r\n        if (typeof branch !== \"string\") {\r\n            branch = \"\";\r\n        }\r\n        if (typeof streamingMethod.protocolState.subscriptionsMap !== \"object\") {\r\n            throw new TypeError(\"The streaming method is missing its subscriptions.\");\r\n        }\r\n        if (!Array.isArray(streamingMethod.protocolState.branchKeyToStreamIdMap)) {\r\n            throw new TypeError(\"The streaming method is missing its branches.\");\r\n        }\r\n        var streamId = this.getStreamId(streamingMethod, branch);\r\n        var key = requestContext.msg.subscription_id;\r\n        var subscription = {\r\n            id: key,\r\n            arguments: requestContext.arguments,\r\n            instance: requestContext.instance,\r\n            branchKey: branch,\r\n            streamId: streamId,\r\n            subscribeMsg: requestContext.msg,\r\n        };\r\n        streamingMethod.protocolState.subscriptionsMap[key] = subscription;\r\n        this.session.sendFireAndForget({\r\n            type: \"accepted\",\r\n            subscription_id: key,\r\n            stream_id: streamId,\r\n        });\r\n        this.callbacks.execute(SUBSCRIPTION_ADDED, subscription, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.rejectRequest = function (requestContext, streamingMethod, reason) {\r\n        if (typeof reason !== \"string\") {\r\n            reason = \"\";\r\n        }\r\n        this.sendSubscriptionFailed(\"Subscription rejected by user. \" + reason, requestContext.msg.subscription_id);\r\n    };\r\n    ServerStreaming.prototype.pushData = function (streamingMethod, data, branches) {\r\n        var _this = this;\r\n        if (typeof streamingMethod !== \"object\" || !Array.isArray(streamingMethod.protocolState.branchKeyToStreamIdMap)) {\r\n            return;\r\n        }\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Invalid arguments. Data must be an object.\");\r\n        }\r\n        if (typeof branches === \"string\") {\r\n            branches = [branches];\r\n        }\r\n        else if (!Array.isArray(branches) || branches.length <= 0) {\r\n            branches = [];\r\n        }\r\n        var streamIdList = streamingMethod.protocolState.branchKeyToStreamIdMap\r\n            .filter(function (br) {\r\n            if (!branches || branches.length === 0) {\r\n                return true;\r\n            }\r\n            return branches.indexOf(br.key) >= 0;\r\n        }).map(function (br) {\r\n            return br.streamId;\r\n        });\r\n        streamIdList.forEach(function (streamId) {\r\n            var publishMessage = {\r\n                type: \"publish\",\r\n                stream_id: streamId,\r\n                data: data,\r\n            };\r\n            _this.session.sendFireAndForget(publishMessage);\r\n        });\r\n    };\r\n    ServerStreaming.prototype.pushDataToSingle = function (method, subscription, data) {\r\n        if (typeof data !== \"object\") {\r\n            throw new Error(\"Invalid arguments. Data must be an object.\");\r\n        }\r\n        var postMessage = {\r\n            type: \"post\",\r\n            subscription_id: subscription.id,\r\n            data: data,\r\n        };\r\n        this.session.sendFireAndForget(postMessage);\r\n    };\r\n    ServerStreaming.prototype.closeSingleSubscription = function (streamingMethod, subscription) {\r\n        if (streamingMethod.protocolState.subscriptionsMap) {\r\n            delete streamingMethod.protocolState.subscriptionsMap[subscription.id];\r\n        }\r\n        var dropSubscriptionMessage = {\r\n            type: \"drop-subscription\",\r\n            subscription_id: subscription.id,\r\n            reason: \"Server dropping a single subscription\",\r\n        };\r\n        this.session.sendFireAndForget(dropSubscriptionMessage);\r\n        var subscriber = subscription.instance;\r\n        this.callbacks.execute(SUBSCRIPTION_REMOVED, subscription, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.closeMultipleSubscriptions = function (streamingMethod, branchKey) {\r\n        var _this = this;\r\n        if (typeof streamingMethod !== \"object\" || typeof streamingMethod.protocolState.subscriptionsMap !== \"object\") {\r\n            return;\r\n        }\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return;\r\n        }\r\n        var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n        var subscriptionsToClose = Object.keys(subscriptionsMap)\r\n            .map(function (key) {\r\n            return subscriptionsMap[key];\r\n        });\r\n        if (typeof branchKey === \"string\") {\r\n            subscriptionsToClose = subscriptionsToClose.filter(function (sub) {\r\n                return sub.branchKey === branchKey;\r\n            });\r\n        }\r\n        subscriptionsToClose.forEach(function (subscription) {\r\n            delete subscriptionsMap[subscription.id];\r\n            var drop = {\r\n                type: \"drop-subscription\",\r\n                subscription_id: subscription.id,\r\n                reason: \"Server dropping all subscriptions on stream_id: \" + subscription.streamId,\r\n            };\r\n            _this.session.sendFireAndForget(drop);\r\n        });\r\n    };\r\n    ServerStreaming.prototype.getSubscriptionList = function (streamingMethod, branchKey) {\r\n        if (typeof streamingMethod !== \"object\") {\r\n            return [];\r\n        }\r\n        var subscriptions = [];\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return [];\r\n        }\r\n        var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n        var allSubscriptions = Object.keys(subscriptionsMap)\r\n            .map(function (key) {\r\n            return subscriptionsMap[key];\r\n        });\r\n        if (typeof branchKey !== \"string\") {\r\n            subscriptions = allSubscriptions;\r\n        }\r\n        else {\r\n            subscriptions = allSubscriptions.filter(function (sub) {\r\n                return sub.branchKey === branchKey;\r\n            });\r\n        }\r\n        return subscriptions;\r\n    };\r\n    ServerStreaming.prototype.getBranchList = function (streamingMethod) {\r\n        if (typeof streamingMethod !== \"object\") {\r\n            return [];\r\n        }\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return [];\r\n        }\r\n        var subscriptionsMap = streamingMethod.protocolState.subscriptionsMap;\r\n        var allSubscriptions = Object.keys(subscriptionsMap)\r\n            .map(function (key) {\r\n            return subscriptionsMap[key];\r\n        });\r\n        var result = [];\r\n        allSubscriptions.forEach(function (sub) {\r\n            var branch = \"\";\r\n            if (typeof sub === \"object\" && typeof sub.branchKey === \"string\") {\r\n                branch = sub.branchKey;\r\n            }\r\n            if (result.indexOf(branch) === -1) {\r\n                result.push(branch);\r\n            }\r\n        });\r\n        return result;\r\n    };\r\n    ServerStreaming.prototype.onSubAdded = function (callback) {\r\n        this.onSubscriptionLifetimeEvent(SUBSCRIPTION_ADDED, callback);\r\n    };\r\n    ServerStreaming.prototype.onSubRequest = function (callback) {\r\n        this.onSubscriptionLifetimeEvent(SUBSCRIPTION_REQUEST, callback);\r\n    };\r\n    ServerStreaming.prototype.onSubRemoved = function (callback) {\r\n        this.onSubscriptionLifetimeEvent(SUBSCRIPTION_REMOVED, callback);\r\n    };\r\n    ServerStreaming.prototype.handleRemoveInterest = function (msg) {\r\n        var streamingMethod = this.serverRepository.getById(msg.method_id);\r\n        if (typeof msg.subscription_id !== \"string\" ||\r\n            typeof streamingMethod !== \"object\") {\r\n            return;\r\n        }\r\n        if (!streamingMethod.protocolState.subscriptionsMap) {\r\n            return;\r\n        }\r\n        if (typeof streamingMethod.protocolState.subscriptionsMap[msg.subscription_id] !== \"object\") {\r\n            return;\r\n        }\r\n        var subscription = streamingMethod.protocolState.subscriptionsMap[msg.subscription_id];\r\n        delete streamingMethod.protocolState.subscriptionsMap[msg.subscription_id];\r\n        this.callbacks.execute(SUBSCRIPTION_REMOVED, subscription, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.onSubscriptionLifetimeEvent = function (eventName, handlerFunc) {\r\n        this.callbacks.add(eventName, handlerFunc);\r\n    };\r\n    ServerStreaming.prototype.getNextStreamId = function () {\r\n        return this.nextStreamId++ + \"\";\r\n    };\r\n    ServerStreaming.prototype.handleAddInterest = function (msg) {\r\n        var caller = this.repository.getServerById(msg.caller_id);\r\n        var instance = caller.instance;\r\n        var requestContext = {\r\n            msg: msg,\r\n            arguments: msg.arguments_kv || {},\r\n            instance: instance,\r\n        };\r\n        var streamingMethod = this.serverRepository.getById(msg.method_id);\r\n        if (streamingMethod === undefined) {\r\n            var errorMsg = \"No method with id \" + msg.method_id + \" on this server.\";\r\n            this.sendSubscriptionFailed(errorMsg, msg.subscription_id);\r\n            return;\r\n        }\r\n        if (streamingMethod.protocolState.subscriptionsMap &&\r\n            streamingMethod.protocolState.subscriptionsMap[msg.subscription_id]) {\r\n            this.sendSubscriptionFailed(\"A subscription with id \" + msg.subscription_id + \" already exists.\", msg.subscription_id);\r\n            return;\r\n        }\r\n        this.callbacks.execute(SUBSCRIPTION_REQUEST, requestContext, streamingMethod);\r\n    };\r\n    ServerStreaming.prototype.sendSubscriptionFailed = function (reason, subscriptionId) {\r\n        var errorMessage = {\r\n            type: \"error\",\r\n            reason_uri: this.ERR_URI_SUBSCRIPTION_FAILED,\r\n            reason: reason,\r\n            request_id: subscriptionId,\r\n        };\r\n        this.session.sendFireAndForget(errorMessage);\r\n    };\r\n    ServerStreaming.prototype.getStreamId = function (streamingMethod, branchKey) {\r\n        if (typeof branchKey !== \"string\") {\r\n            branchKey = \"\";\r\n        }\r\n        if (!streamingMethod.protocolState.branchKeyToStreamIdMap) {\r\n            throw new Error(\"streaming \" + streamingMethod.definition.name + \" method without protocol state\");\r\n        }\r\n        var needleBranch = streamingMethod.protocolState.branchKeyToStreamIdMap.filter(function (branch) {\r\n            return branch.key === branchKey;\r\n        })[0];\r\n        var streamId = (needleBranch ? needleBranch.streamId : undefined);\r\n        if (typeof streamId !== \"string\" || streamId === \"\") {\r\n            streamId = this.getNextStreamId();\r\n            streamingMethod.protocolState.branchKeyToStreamIdMap.push({ key: branchKey, streamId: streamId });\r\n        }\r\n        return streamId;\r\n    };\r\n    return ServerStreaming;\r\n}());\n\nvar ServerProtocol = (function () {\r\n    function ServerProtocol(session, clientRepository, serverRepository, logger) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.clientRepository = clientRepository;\r\n        this.serverRepository = serverRepository;\r\n        this.logger = logger;\r\n        this.callbacks = lib();\r\n        this.streaming = new ServerStreaming$1(session, clientRepository, serverRepository);\r\n        this.session.on(\"invoke\", function (msg) { return _this.handleInvokeMessage(msg); });\r\n    }\r\n    ServerProtocol.prototype.createStream = function (repoMethod) {\r\n        repoMethod.protocolState.subscriptionsMap = {};\r\n        repoMethod.protocolState.branchKeyToStreamIdMap = [];\r\n        return this.register(repoMethod, true);\r\n    };\r\n    ServerProtocol.prototype.register = function (repoMethod, isStreaming) {\r\n        var _this = this;\r\n        var _a;\r\n        var methodDef = repoMethod.definition;\r\n        var flags = Object.assign({}, { metadata: (_a = methodDef.flags) !== null && _a !== void 0 ? _a : {} }, { streaming: isStreaming || false });\r\n        var registerMsg = {\r\n            type: \"register\",\r\n            methods: [{\r\n                    id: repoMethod.repoId,\r\n                    name: methodDef.name,\r\n                    display_name: methodDef.displayName,\r\n                    description: methodDef.description,\r\n                    version: methodDef.version,\r\n                    flags: flags,\r\n                    object_types: methodDef.objectTypes || methodDef.object_types,\r\n                    input_signature: methodDef.accepts,\r\n                    result_signature: methodDef.returns,\r\n                    restrictions: undefined,\r\n                }],\r\n        };\r\n        return this.session.send(registerMsg, { methodId: repoMethod.repoId })\r\n            .then(function () {\r\n            _this.logger.debug(\"registered method \" + repoMethod.definition.name + \" with id \" + repoMethod.repoId);\r\n        })\r\n            .catch(function (msg) {\r\n            _this.logger.warn(\"failed to register method \" + repoMethod.definition.name + \" with id \" + repoMethod.repoId + \" - \" + JSON.stringify(msg));\r\n            throw msg;\r\n        });\r\n    };\r\n    ServerProtocol.prototype.onInvoked = function (callback) {\r\n        this.callbacks.add(\"onInvoked\", callback);\r\n    };\r\n    ServerProtocol.prototype.methodInvocationResult = function (method, invocationId, err, result) {\r\n        var msg;\r\n        if (err || err === \"\") {\r\n            msg = {\r\n                type: \"error\",\r\n                request_id: invocationId,\r\n                reason_uri: \"agm.errors.client_error\",\r\n                reason: err,\r\n                context: result,\r\n                peer_id: undefined,\r\n            };\r\n        }\r\n        else {\r\n            msg = {\r\n                type: \"yield\",\r\n                invocation_id: invocationId,\r\n                peer_id: this.session.peerId,\r\n                result: result,\r\n                request_id: undefined,\r\n            };\r\n        }\r\n        this.session.sendFireAndForget(msg);\r\n    };\r\n    ServerProtocol.prototype.unregister = function (method) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var msg;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        msg = {\r\n                            type: \"unregister\",\r\n                            methods: [method.repoId],\r\n                        };\r\n                        return [4, this.session.send(msg)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    ServerProtocol.prototype.getBranchList = function (method) {\r\n        return this.streaming.getBranchList(method);\r\n    };\r\n    ServerProtocol.prototype.getSubscriptionList = function (method, branchKey) {\r\n        return this.streaming.getSubscriptionList(method, branchKey);\r\n    };\r\n    ServerProtocol.prototype.closeAllSubscriptions = function (method, branchKey) {\r\n        this.streaming.closeMultipleSubscriptions(method, branchKey);\r\n    };\r\n    ServerProtocol.prototype.pushData = function (method, data, branches) {\r\n        this.streaming.pushData(method, data, branches);\r\n    };\r\n    ServerProtocol.prototype.pushDataToSingle = function (method, subscription, data) {\r\n        this.streaming.pushDataToSingle(method, subscription, data);\r\n    };\r\n    ServerProtocol.prototype.closeSingleSubscription = function (method, subscription) {\r\n        this.streaming.closeSingleSubscription(method, subscription);\r\n    };\r\n    ServerProtocol.prototype.acceptRequestOnBranch = function (requestContext, method, branch) {\r\n        this.streaming.acceptRequestOnBranch(requestContext, method, branch);\r\n    };\r\n    ServerProtocol.prototype.rejectRequest = function (requestContext, method, reason) {\r\n        this.streaming.rejectRequest(requestContext, method, reason);\r\n    };\r\n    ServerProtocol.prototype.onSubRequest = function (callback) {\r\n        this.streaming.onSubRequest(callback);\r\n    };\r\n    ServerProtocol.prototype.onSubAdded = function (callback) {\r\n        this.streaming.onSubAdded(callback);\r\n    };\r\n    ServerProtocol.prototype.onSubRemoved = function (callback) {\r\n        this.streaming.onSubRemoved(callback);\r\n    };\r\n    ServerProtocol.prototype.handleInvokeMessage = function (msg) {\r\n        var invocationId = msg.invocation_id;\r\n        var callerId = msg.caller_id;\r\n        var methodId = msg.method_id;\r\n        var args = msg.arguments_kv;\r\n        var methodList = this.serverRepository.getList();\r\n        var method = methodList.filter(function (m) {\r\n            return m.repoId === methodId;\r\n        })[0];\r\n        if (method === undefined) {\r\n            return;\r\n        }\r\n        var client = this.clientRepository.getServerById(callerId).instance;\r\n        var invocationArgs = { args: args, instance: client };\r\n        this.callbacks.execute(\"onInvoked\", method, invocationId, invocationArgs);\r\n    };\r\n    return ServerProtocol;\r\n}());\n\nvar UserSubscription = (function () {\r\n    function UserSubscription(repository, subscriptionData) {\r\n        this.repository = repository;\r\n        this.subscriptionData = subscriptionData;\r\n    }\r\n    Object.defineProperty(UserSubscription.prototype, \"requestArguments\", {\r\n        get: function () {\r\n            return this.subscriptionData.params.arguments || {};\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(UserSubscription.prototype, \"servers\", {\r\n        get: function () {\r\n            var _this = this;\r\n            return this.subscriptionData.trackedServers\r\n                .filter(function (pair) { return pair.subscriptionId; })\r\n                .map(function (pair) { return _this.repository.getServerById(pair.serverId).instance; });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(UserSubscription.prototype, \"serverInstance\", {\r\n        get: function () {\r\n            return this.servers[0];\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(UserSubscription.prototype, \"stream\", {\r\n        get: function () {\r\n            return this.subscriptionData.method;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    UserSubscription.prototype.onData = function (dataCallback) {\r\n        if (typeof dataCallback !== \"function\") {\r\n            throw new TypeError(\"The data callback must be a function.\");\r\n        }\r\n        this.subscriptionData.handlers.onData.push(dataCallback);\r\n        if (this.subscriptionData.handlers.onData.length === 1 && this.subscriptionData.queued.data.length > 0) {\r\n            this.subscriptionData.queued.data.forEach(function (dataItem) {\r\n                dataCallback(dataItem);\r\n            });\r\n        }\r\n    };\r\n    UserSubscription.prototype.onClosed = function (closedCallback) {\r\n        if (typeof closedCallback !== \"function\") {\r\n            throw new TypeError(\"The callback must be a function.\");\r\n        }\r\n        this.subscriptionData.handlers.onClosed.push(closedCallback);\r\n    };\r\n    UserSubscription.prototype.onFailed = function (callback) {\r\n    };\r\n    UserSubscription.prototype.onConnected = function (callback) {\r\n        if (typeof callback !== \"function\") {\r\n            throw new TypeError(\"The callback must be a function.\");\r\n        }\r\n        this.subscriptionData.handlers.onConnected.push(callback);\r\n    };\r\n    UserSubscription.prototype.close = function () {\r\n        this.subscriptionData.close();\r\n    };\r\n    UserSubscription.prototype.setNewSubscription = function (newSub) {\r\n        this.subscriptionData = newSub;\r\n    };\r\n    return UserSubscription;\r\n}());\n\nvar STATUS_AWAITING_ACCEPT = \"awaitingAccept\";\r\nvar STATUS_SUBSCRIBED = \"subscribed\";\r\nvar ERR_MSG_SUB_FAILED = \"Subscription failed.\";\r\nvar ERR_MSG_SUB_REJECTED = \"Subscription rejected.\";\r\nvar ON_CLOSE_MSG_SERVER_INIT = \"ServerInitiated\";\r\nvar ON_CLOSE_MSG_CLIENT_INIT = \"ClientInitiated\";\r\nvar ClientStreaming = (function () {\r\n    function ClientStreaming(session, repository, logger) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.repository = repository;\r\n        this.logger = logger;\r\n        this.subscriptionsList = {};\r\n        this.subscriptionIdToLocalKeyMap = {};\r\n        this.nextSubLocalKey = 0;\r\n        this.handleErrorSubscribing = function (errorResponse) {\r\n            var tag = errorResponse._tag;\r\n            var subLocalKey = tag.subLocalKey;\r\n            var pendingSub = _this.subscriptionsList[subLocalKey];\r\n            if (typeof pendingSub !== \"object\") {\r\n                return;\r\n            }\r\n            pendingSub.trackedServers = pendingSub.trackedServers.filter(function (server) {\r\n                return server.serverId !== tag.serverId;\r\n            });\r\n            if (pendingSub.trackedServers.length <= 0) {\r\n                clearTimeout(pendingSub.timeoutId);\r\n                if (pendingSub.status === STATUS_AWAITING_ACCEPT) {\r\n                    var reason = (typeof errorResponse.reason === \"string\" && errorResponse.reason !== \"\") ?\r\n                        ' Publisher said \"' + errorResponse.reason + '\".' :\r\n                        \" No reason given.\";\r\n                    var callArgs = typeof pendingSub.params.arguments === \"object\" ?\r\n                        JSON.stringify(pendingSub.params.arguments) :\r\n                        \"{}\";\r\n                    pendingSub.error({\r\n                        message: ERR_MSG_SUB_REJECTED + reason + \" Called with:\" + callArgs,\r\n                        called_with: pendingSub.params.arguments,\r\n                        method: pendingSub.method,\r\n                    });\r\n                }\r\n                else if (pendingSub.status === STATUS_SUBSCRIBED) {\r\n                    _this.callOnClosedHandlers(pendingSub);\r\n                }\r\n                delete _this.subscriptionsList[subLocalKey];\r\n            }\r\n        };\r\n        this.handleSubscribed = function (msg) {\r\n            var subLocalKey = msg._tag.subLocalKey;\r\n            var pendingSub = _this.subscriptionsList[subLocalKey];\r\n            if (typeof pendingSub !== \"object\") {\r\n                return;\r\n            }\r\n            var serverId = msg._tag.serverId;\r\n            var acceptingServer = pendingSub.trackedServers\r\n                .filter(function (server) {\r\n                return server.serverId === serverId;\r\n            })[0];\r\n            if (typeof acceptingServer !== \"object\") {\r\n                return;\r\n            }\r\n            acceptingServer.subscriptionId = msg.subscription_id;\r\n            _this.subscriptionIdToLocalKeyMap[msg.subscription_id] = subLocalKey;\r\n            var isFirstResponse = (pendingSub.status === STATUS_AWAITING_ACCEPT);\r\n            pendingSub.status = STATUS_SUBSCRIBED;\r\n            if (isFirstResponse) {\r\n                var reconnect = false;\r\n                var sub = pendingSub.subscription;\r\n                if (sub) {\r\n                    sub.setNewSubscription(pendingSub);\r\n                    pendingSub.success(sub);\r\n                    reconnect = true;\r\n                }\r\n                else {\r\n                    sub = new UserSubscription(_this.repository, pendingSub);\r\n                    pendingSub.subscription = sub;\r\n                    pendingSub.success(sub);\r\n                }\r\n                for (var _i = 0, _a = pendingSub.handlers.onConnected; _i < _a.length; _i++) {\r\n                    var handler = _a[_i];\r\n                    try {\r\n                        handler(sub.serverInstance, reconnect);\r\n                    }\r\n                    catch (e) {\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        this.handleEventData = function (msg) {\r\n            var subLocalKey = _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n            if (typeof subLocalKey === \"undefined\") {\r\n                return;\r\n            }\r\n            var subscription = _this.subscriptionsList[subLocalKey];\r\n            if (typeof subscription !== \"object\") {\r\n                return;\r\n            }\r\n            var trackedServersFound = subscription.trackedServers.filter(function (server) {\r\n                return server.subscriptionId === msg.subscription_id;\r\n            });\r\n            if (trackedServersFound.length !== 1) {\r\n                return;\r\n            }\r\n            var isPrivateData = msg.oob;\r\n            var sendingServerId = trackedServersFound[0].serverId;\r\n            var receivedStreamData = function () {\r\n                return {\r\n                    data: msg.data,\r\n                    server: _this.repository.getServerById(sendingServerId).instance,\r\n                    requestArguments: subscription.params.arguments,\r\n                    message: undefined,\r\n                    private: isPrivateData,\r\n                };\r\n            };\r\n            var onDataHandlers = subscription.handlers.onData;\r\n            var queuedData = subscription.queued.data;\r\n            if (onDataHandlers.length > 0) {\r\n                onDataHandlers.forEach(function (callback) {\r\n                    if (typeof callback === \"function\") {\r\n                        callback(receivedStreamData());\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                queuedData.push(receivedStreamData());\r\n            }\r\n        };\r\n        this.handleSubscriptionCancelled = function (msg) {\r\n            var subLocalKey = _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n            if (typeof subLocalKey === \"undefined\") {\r\n                return;\r\n            }\r\n            var subscription = _this.subscriptionsList[subLocalKey];\r\n            if (typeof subscription !== \"object\") {\r\n                return;\r\n            }\r\n            var expectedNewLength = subscription.trackedServers.length - 1;\r\n            subscription.trackedServers = subscription.trackedServers.filter(function (server) {\r\n                if (server.subscriptionId === msg.subscription_id) {\r\n                    subscription.queued.closers.push(server.serverId);\r\n                    return false;\r\n                }\r\n                else {\r\n                    return true;\r\n                }\r\n            });\r\n            if (subscription.trackedServers.length !== expectedNewLength) {\r\n                return;\r\n            }\r\n            if (subscription.trackedServers.length <= 0) {\r\n                clearTimeout(subscription.timeoutId);\r\n                _this.callOnClosedHandlers(subscription);\r\n                delete _this.subscriptionsList[subLocalKey];\r\n            }\r\n            delete _this.subscriptionIdToLocalKeyMap[msg.subscription_id];\r\n        };\r\n        session.on(\"subscribed\", this.handleSubscribed);\r\n        session.on(\"event\", this.handleEventData);\r\n        session.on(\"subscription-cancelled\", this.handleSubscriptionCancelled);\r\n    }\r\n    ClientStreaming.prototype.subscribe = function (streamingMethod, params, targetServers, success, error, existingSub) {\r\n        var _this = this;\r\n        if (targetServers.length === 0) {\r\n            error({\r\n                method: streamingMethod,\r\n                called_with: params.arguments,\r\n                message: ERR_MSG_SUB_FAILED + \" No available servers matched the target params.\",\r\n            });\r\n            return;\r\n        }\r\n        var subLocalKey = this.getNextSubscriptionLocalKey();\r\n        var pendingSub = this.registerSubscription(subLocalKey, streamingMethod, params, success, error, params.methodResponseTimeout || 10000, existingSub);\r\n        if (typeof pendingSub !== \"object\") {\r\n            error({\r\n                method: streamingMethod,\r\n                called_with: params.arguments,\r\n                message: ERR_MSG_SUB_FAILED + \" Unable to register the user callbacks.\",\r\n            });\r\n            return;\r\n        }\r\n        targetServers.forEach(function (target) {\r\n            var serverId = target.server.id;\r\n            var method = target.methods.find(function (m) { return m.name === streamingMethod.name; });\r\n            if (!method) {\r\n                _this.logger.error(\"can not find method \" + streamingMethod.name + \" for target \" + target.server.id);\r\n                return;\r\n            }\r\n            pendingSub.trackedServers.push({\r\n                serverId: serverId,\r\n                subscriptionId: undefined,\r\n            });\r\n            var msg = {\r\n                type: \"subscribe\",\r\n                server_id: serverId,\r\n                method_id: method.gatewayId,\r\n                arguments_kv: params.arguments,\r\n            };\r\n            _this.session.send(msg, { serverId: serverId, subLocalKey: subLocalKey })\r\n                .then(function (m) { return _this.handleSubscribed(m); })\r\n                .catch(function (err) { return _this.handleErrorSubscribing(err); });\r\n        });\r\n    };\r\n    ClientStreaming.prototype.drainSubscriptions = function () {\r\n        var existing = Object.values(this.subscriptionsList);\r\n        this.subscriptionsList = {};\r\n        this.subscriptionIdToLocalKeyMap = {};\r\n        return existing;\r\n    };\r\n    ClientStreaming.prototype.getNextSubscriptionLocalKey = function () {\r\n        var current = this.nextSubLocalKey;\r\n        this.nextSubLocalKey += 1;\r\n        return current;\r\n    };\r\n    ClientStreaming.prototype.registerSubscription = function (subLocalKey, method, params, success, error, timeout, existingSub) {\r\n        var _this = this;\r\n        var subsInfo = {\r\n            localKey: subLocalKey,\r\n            status: STATUS_AWAITING_ACCEPT,\r\n            method: method,\r\n            params: params,\r\n            success: success,\r\n            error: error,\r\n            trackedServers: [],\r\n            handlers: {\r\n                onData: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onData) || [],\r\n                onClosed: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onClosed) || [],\r\n                onConnected: (existingSub === null || existingSub === void 0 ? void 0 : existingSub.handlers.onConnected) || [],\r\n            },\r\n            queued: {\r\n                data: [],\r\n                closers: [],\r\n            },\r\n            timeoutId: undefined,\r\n            close: function () { return _this.closeSubscription(subLocalKey); },\r\n            subscription: existingSub === null || existingSub === void 0 ? void 0 : existingSub.subscription\r\n        };\r\n        if (!existingSub) {\r\n            if (params.onData) {\r\n                subsInfo.handlers.onData.push(params.onData);\r\n            }\r\n            if (params.onClosed) {\r\n                subsInfo.handlers.onClosed.push(params.onClosed);\r\n            }\r\n            if (params.onConnected) {\r\n                subsInfo.handlers.onConnected.push(params.onConnected);\r\n            }\r\n        }\r\n        this.subscriptionsList[subLocalKey] = subsInfo;\r\n        subsInfo.timeoutId = setTimeout(function () {\r\n            if (_this.subscriptionsList[subLocalKey] === undefined) {\r\n                return;\r\n            }\r\n            var pendingSub = _this.subscriptionsList[subLocalKey];\r\n            if (pendingSub.status === STATUS_AWAITING_ACCEPT) {\r\n                error({\r\n                    method: method,\r\n                    called_with: params.arguments,\r\n                    message: ERR_MSG_SUB_FAILED + \" Subscription attempt timed out after \" + timeout + \" ms.\",\r\n                });\r\n                delete _this.subscriptionsList[subLocalKey];\r\n            }\r\n            else if (pendingSub.status === STATUS_SUBSCRIBED && pendingSub.trackedServers.length > 0) {\r\n                pendingSub.trackedServers = pendingSub.trackedServers.filter(function (server) {\r\n                    return (typeof server.subscriptionId !== \"undefined\");\r\n                });\r\n                delete pendingSub.timeoutId;\r\n                if (pendingSub.trackedServers.length <= 0) {\r\n                    _this.callOnClosedHandlers(pendingSub);\r\n                    delete _this.subscriptionsList[subLocalKey];\r\n                }\r\n            }\r\n        }, timeout);\r\n        return subsInfo;\r\n    };\r\n    ClientStreaming.prototype.callOnClosedHandlers = function (subscription, reason) {\r\n        var closersCount = subscription.queued.closers.length;\r\n        var closingServerId = (closersCount > 0) ? subscription.queued.closers[closersCount - 1] : null;\r\n        var closingServer;\r\n        if (closingServerId !== undefined && typeof closingServerId === \"string\") {\r\n            closingServer = this.repository.getServerById(closingServerId).instance;\r\n        }\r\n        subscription.handlers.onClosed.forEach(function (callback) {\r\n            if (typeof callback !== \"function\") {\r\n                return;\r\n            }\r\n            callback({\r\n                message: reason || ON_CLOSE_MSG_SERVER_INIT,\r\n                requestArguments: subscription.params.arguments || {},\r\n                server: closingServer,\r\n                stream: subscription.method,\r\n            });\r\n        });\r\n    };\r\n    ClientStreaming.prototype.closeSubscription = function (subLocalKey) {\r\n        var _this = this;\r\n        var subscription = this.subscriptionsList[subLocalKey];\r\n        if (typeof subscription !== \"object\") {\r\n            return;\r\n        }\r\n        subscription.trackedServers.forEach(function (server) {\r\n            if (typeof server.subscriptionId === \"undefined\") {\r\n                return;\r\n            }\r\n            subscription.queued.closers.push(server.serverId);\r\n            _this.session.sendFireAndForget({\r\n                type: \"unsubscribe\",\r\n                subscription_id: server.subscriptionId,\r\n                reason_uri: \"\",\r\n                reason: ON_CLOSE_MSG_CLIENT_INIT,\r\n            });\r\n            delete _this.subscriptionIdToLocalKeyMap[server.subscriptionId];\r\n        });\r\n        subscription.trackedServers = [];\r\n        this.callOnClosedHandlers(subscription, ON_CLOSE_MSG_CLIENT_INIT);\r\n        delete this.subscriptionsList[subLocalKey];\r\n    };\r\n    return ClientStreaming;\r\n}());\n\nvar ClientProtocol = (function () {\r\n    function ClientProtocol(session, repository, logger) {\r\n        var _this = this;\r\n        this.session = session;\r\n        this.repository = repository;\r\n        this.logger = logger;\r\n        session.on(\"peer-added\", function (msg) { return _this.handlePeerAdded(msg); });\r\n        session.on(\"peer-removed\", function (msg) { return _this.handlePeerRemoved(msg); });\r\n        session.on(\"methods-added\", function (msg) { return _this.handleMethodsAddedMessage(msg); });\r\n        session.on(\"methods-removed\", function (msg) { return _this.handleMethodsRemovedMessage(msg); });\r\n        this.streaming = new ClientStreaming(session, repository, logger);\r\n    }\r\n    ClientProtocol.prototype.subscribe = function (stream, options, targetServers, success, error, existingSub) {\r\n        this.streaming.subscribe(stream, options, targetServers, success, error, existingSub);\r\n    };\r\n    ClientProtocol.prototype.invoke = function (id, method, args, target) {\r\n        var _this = this;\r\n        var serverId = target.id;\r\n        var methodId = method.gatewayId;\r\n        var msg = {\r\n            type: \"call\",\r\n            server_id: serverId,\r\n            method_id: methodId,\r\n            arguments_kv: args,\r\n        };\r\n        return this.session.send(msg, { invocationId: id, serverId: serverId })\r\n            .then(function (m) { return _this.handleResultMessage(m); })\r\n            .catch(function (err) { return _this.handleInvocationError(err); });\r\n    };\r\n    ClientProtocol.prototype.drainSubscriptions = function () {\r\n        return this.streaming.drainSubscriptions();\r\n    };\r\n    ClientProtocol.prototype.handlePeerAdded = function (msg) {\r\n        var newPeerId = msg.new_peer_id;\r\n        var remoteId = msg.identity;\r\n        var isLocal = msg.meta ? msg.meta.local : true;\r\n        var pid = Number(remoteId.process);\r\n        var serverInfo = {\r\n            machine: remoteId.machine,\r\n            pid: isNaN(pid) ? remoteId.process : pid,\r\n            instance: remoteId.instance,\r\n            application: remoteId.application,\r\n            applicationName: remoteId.applicationName,\r\n            environment: remoteId.environment,\r\n            region: remoteId.region,\r\n            user: remoteId.user,\r\n            windowId: remoteId.windowId,\r\n            peerId: newPeerId,\r\n            api: remoteId.api,\r\n            isLocal: isLocal\r\n        };\r\n        this.repository.addServer(serverInfo, newPeerId);\r\n    };\r\n    ClientProtocol.prototype.handlePeerRemoved = function (msg) {\r\n        var removedPeerId = msg.removed_id;\r\n        var reason = msg.reason;\r\n        this.repository.removeServerById(removedPeerId, reason);\r\n    };\r\n    ClientProtocol.prototype.handleMethodsAddedMessage = function (msg) {\r\n        var _this = this;\r\n        var serverId = msg.server_id;\r\n        var methods = msg.methods;\r\n        methods.forEach(function (method) {\r\n            _this.repository.addServerMethod(serverId, method);\r\n        });\r\n    };\r\n    ClientProtocol.prototype.handleMethodsRemovedMessage = function (msg) {\r\n        var _this = this;\r\n        var serverId = msg.server_id;\r\n        var methodIdList = msg.methods;\r\n        var server = this.repository.getServerById(serverId);\r\n        var serverMethodKeys = Object.keys(server.methods);\r\n        serverMethodKeys.forEach(function (methodKey) {\r\n            var method = server.methods[methodKey];\r\n            if (methodIdList.indexOf(method.gatewayId) > -1) {\r\n                _this.repository.removeServerMethod(serverId, methodKey);\r\n            }\r\n        });\r\n    };\r\n    ClientProtocol.prototype.handleResultMessage = function (msg) {\r\n        var invocationId = msg._tag.invocationId;\r\n        var result = msg.result;\r\n        var serverId = msg._tag.serverId;\r\n        var server = this.repository.getServerById(serverId);\r\n        return {\r\n            invocationId: invocationId,\r\n            result: result,\r\n            instance: server.instance,\r\n            status: InvokeStatus.Success,\r\n            message: \"\"\r\n        };\r\n    };\r\n    ClientProtocol.prototype.handleInvocationError = function (msg) {\r\n        this.logger.debug(\"handle invocation error \" + JSON.stringify(msg));\r\n        if (\"_tag\" in msg) {\r\n            var invocationId = msg._tag.invocationId;\r\n            var serverId = msg._tag.serverId;\r\n            var server = this.repository.getServerById(serverId);\r\n            var message = msg.reason;\r\n            var context_1 = msg.context;\r\n            return {\r\n                invocationId: invocationId,\r\n                result: context_1,\r\n                instance: server.instance,\r\n                status: InvokeStatus.Error,\r\n                message: message\r\n            };\r\n        }\r\n        else {\r\n            return {\r\n                invocationId: \"\",\r\n                message: msg.message,\r\n                status: InvokeStatus.Error,\r\n                error: msg\r\n            };\r\n        }\r\n    };\r\n    return ClientProtocol;\r\n}());\n\nfunction gW3ProtocolFactory (instance, connection, clientRepository, serverRepository, libConfig, interop) {\r\n    var logger = libConfig.logger.subLogger(\"gw3-protocol\");\r\n    var resolveReadyPromise;\r\n    var readyPromise = new Promise(function (resolve) {\r\n        resolveReadyPromise = resolve;\r\n    });\r\n    var session = connection.domain(\"agm\", [\"subscribed\"]);\r\n    var server = new ServerProtocol(session, clientRepository, serverRepository, logger.subLogger(\"server\"));\r\n    var client = new ClientProtocol(session, clientRepository, logger.subLogger(\"client\"));\r\n    function handleReconnect() {\r\n        logger.info(\"reconnected - will replay registered methods and subscriptions\");\r\n        var existingSubscriptions = client.drainSubscriptions();\r\n        for (var _i = 0, existingSubscriptions_1 = existingSubscriptions; _i < existingSubscriptions_1.length; _i++) {\r\n            var sub = existingSubscriptions_1[_i];\r\n            var methodInfo = sub.method;\r\n            var params = Object.assign({}, sub.params);\r\n            logger.info(\"trying to re-subscribe to method \" + methodInfo.name);\r\n            interop.client.subscribe(methodInfo, params, undefined, undefined, sub);\r\n        }\r\n        var registeredMethods = serverRepository.getList();\r\n        serverRepository.reset();\r\n        for (var _a = 0, registeredMethods_1 = registeredMethods; _a < registeredMethods_1.length; _a++) {\r\n            var method = registeredMethods_1[_a];\r\n            var def = method.definition;\r\n            logger.info(\"re-publishing method \" + def.name);\r\n            if (method.stream) {\r\n                interop.server.createStream(def, method.streamCallbacks, undefined, undefined, method.stream);\r\n            }\r\n            else if (method.theFunction && method.theFunction.userCallback) {\r\n                interop.register(def, method.theFunction.userCallback);\r\n            }\r\n            else if (method.theFunction && method.theFunction.userCallbackAsync) {\r\n                interop.registerAsync(def, method.theFunction.userCallbackAsync);\r\n            }\r\n        }\r\n    }\r\n    function handleInitialJoin() {\r\n        if (resolveReadyPromise) {\r\n            resolveReadyPromise({\r\n                client: client,\r\n                server: server,\r\n            });\r\n            resolveReadyPromise = undefined;\r\n        }\r\n    }\r\n    session.onJoined(function (reconnect) {\r\n        clientRepository.addServer(instance, connection.peerId);\r\n        if (reconnect) {\r\n            handleReconnect();\r\n        }\r\n        else {\r\n            handleInitialJoin();\r\n        }\r\n    });\r\n    session.onLeft(function () {\r\n        clientRepository.reset();\r\n    });\r\n    session.join();\r\n    return readyPromise;\r\n}\n\nvar Interop = (function () {\r\n    function Interop(configuration) {\r\n        var _this = this;\r\n        if (typeof configuration === \"undefined\") {\r\n            throw new Error(\"configuration is required\");\r\n        }\r\n        if (typeof configuration.connection === \"undefined\") {\r\n            throw new Error(\"configuration.connections is required\");\r\n        }\r\n        var connection = configuration.connection;\r\n        if (typeof configuration.methodResponseTimeout !== \"number\") {\r\n            configuration.methodResponseTimeout = 30 * 1000;\r\n        }\r\n        if (typeof configuration.waitTimeoutMs !== \"number\") {\r\n            configuration.waitTimeoutMs = 30 * 1000;\r\n        }\r\n        this.unwrappedInstance = new InstanceWrapper(this, undefined, connection);\r\n        this.instance = this.unwrappedInstance.unwrap();\r\n        this.clientRepository = new ClientRepository(configuration.logger.subLogger(\"cRep\"), this);\r\n        this.serverRepository = new ServerRepository();\r\n        var protocolPromise;\r\n        if (connection.protocolVersion === 3) {\r\n            protocolPromise = gW3ProtocolFactory(this.instance, connection, this.clientRepository, this.serverRepository, configuration, this);\r\n        }\r\n        else {\r\n            throw new Error(\"protocol \" + connection.protocolVersion + \" not supported\");\r\n        }\r\n        this.readyPromise = protocolPromise.then(function (protocol) {\r\n            _this.protocol = protocol;\r\n            _this.client = new Client(_this.protocol, _this.clientRepository, _this.instance, configuration);\r\n            _this.server = new Server(_this.protocol, _this.serverRepository);\r\n            return _this;\r\n        });\r\n    }\r\n    Interop.prototype.ready = function () {\r\n        return this.readyPromise;\r\n    };\r\n    Interop.prototype.serverRemoved = function (callback) {\r\n        return this.client.serverRemoved(callback);\r\n    };\r\n    Interop.prototype.serverAdded = function (callback) {\r\n        return this.client.serverAdded(callback);\r\n    };\r\n    Interop.prototype.serverMethodRemoved = function (callback) {\r\n        return this.client.serverMethodRemoved(callback);\r\n    };\r\n    Interop.prototype.serverMethodAdded = function (callback) {\r\n        return this.client.serverMethodAdded(callback);\r\n    };\r\n    Interop.prototype.methodRemoved = function (callback) {\r\n        return this.client.methodRemoved(callback);\r\n    };\r\n    Interop.prototype.methodAdded = function (callback) {\r\n        return this.client.methodAdded(callback);\r\n    };\r\n    Interop.prototype.methodsForInstance = function (instance) {\r\n        return this.client.methodsForInstance(instance);\r\n    };\r\n    Interop.prototype.methods = function (methodFilter) {\r\n        return this.client.methods(methodFilter);\r\n    };\r\n    Interop.prototype.servers = function (methodFilter) {\r\n        return this.client.servers(methodFilter);\r\n    };\r\n    Interop.prototype.subscribe = function (method, options, successCallback, errorCallback) {\r\n        return this.client.subscribe(method, options, successCallback, errorCallback);\r\n    };\r\n    Interop.prototype.createStream = function (streamDef, callbacks, successCallback, errorCallback) {\r\n        return this.server.createStream(streamDef, callbacks, successCallback, errorCallback);\r\n    };\r\n    Interop.prototype.unregister = function (methodFilter) {\r\n        return this.server.unregister(methodFilter);\r\n    };\r\n    Interop.prototype.registerAsync = function (methodDefinition, callback) {\r\n        return this.server.registerAsync(methodDefinition, callback);\r\n    };\r\n    Interop.prototype.register = function (methodDefinition, callback) {\r\n        return this.server.register(methodDefinition, callback);\r\n    };\r\n    Interop.prototype.invoke = function (methodFilter, argumentObj, target, additionalOptions, success, error) {\r\n        return this.client.invoke(methodFilter, argumentObj, target, additionalOptions, success, error);\r\n    };\r\n    Interop.prototype.waitForMethod = function (name) {\r\n        var pw = new PromiseWrapper();\r\n        var unsubscribe = this.client.methodAdded(function (m) {\r\n            if (m.name === name) {\r\n                unsubscribe();\r\n                pw.resolve(m);\r\n            }\r\n        });\r\n        return pw.promise;\r\n    };\r\n    return Interop;\r\n}());\n\nvar successMessages = [\"subscribed\", \"success\"];\r\nvar MessageBus = (function () {\r\n    function MessageBus(connection, logger) {\r\n        var _this = this;\r\n        this.publish = function (topic, data, options) {\r\n            var _a = options || {}, routingKey = _a.routingKey, target = _a.target;\r\n            var args = _this.removeEmptyValues({\r\n                type: \"publish\",\r\n                topic: topic,\r\n                data: data,\r\n                peer_id: _this.peerId,\r\n                routing_key: routingKey,\r\n                target_identity: target\r\n            });\r\n            _this.session.send(args);\r\n        };\r\n        this.subscribe = function (topic, callback, options) {\r\n            return new Promise(function (resolve, reject) {\r\n                var _a = options || {}, routingKey = _a.routingKey, target = _a.target;\r\n                var args = _this.removeEmptyValues({\r\n                    type: \"subscribe\",\r\n                    topic: topic,\r\n                    peer_id: _this.peerId,\r\n                    routing_key: routingKey,\r\n                    source: target\r\n                });\r\n                _this.session.send(args)\r\n                    .then(function (response) {\r\n                    var subscription_id = response.subscription_id;\r\n                    _this.subscriptions.push({ subscription_id: subscription_id, topic: topic, callback: callback, source: target });\r\n                    resolve({\r\n                        unsubscribe: function () {\r\n                            _this.session.send({ type: \"unsubscribe\", subscription_id: subscription_id, peer_id: _this.peerId });\r\n                            _this.subscriptions = _this.subscriptions.filter(function (s) { return s.subscription_id !== subscription_id; });\r\n                            return Promise.resolve();\r\n                        }\r\n                    });\r\n                })\r\n                    .catch(function (error) { return reject(error); });\r\n            });\r\n        };\r\n        this.watchOnEvent = function () {\r\n            _this.session.on(\"event\", function (args) {\r\n                var data = args.data, subscription_id = args.subscription_id;\r\n                var source = args[\"publisher-identity\"];\r\n                var subscription = _this.subscriptions.find(function (s) { return s.subscription_id === subscription_id; });\r\n                if (subscription) {\r\n                    if (!subscription.source) {\r\n                        subscription.callback(data, subscription.topic, source);\r\n                    }\r\n                    else {\r\n                        if (_this.keysMatch(subscription.source, source)) {\r\n                            subscription.callback(data, subscription.topic, source);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        };\r\n        this.connection = connection;\r\n        this.logger = logger;\r\n        this.peerId = connection.peerId;\r\n        this.subscriptions = [];\r\n        this.session = connection.domain(\"bus\", successMessages);\r\n        this.readyPromise = this.session.join();\r\n        this.readyPromise.then(function () {\r\n            _this.watchOnEvent();\r\n        });\r\n    }\r\n    MessageBus.prototype.ready = function () {\r\n        return this.readyPromise;\r\n    };\r\n    MessageBus.prototype.removeEmptyValues = function (obj) {\r\n        var cleaned = {};\r\n        Object.keys(obj).forEach(function (key) {\r\n            if (obj[key] !== undefined && obj[key] !== null) {\r\n                cleaned[key] = obj[key];\r\n            }\r\n        });\r\n        return cleaned;\r\n    };\r\n    MessageBus.prototype.keysMatch = function (obj1, obj2) {\r\n        var keysObj1 = Object.keys(obj1);\r\n        var allMatch = true;\r\n        keysObj1.forEach(function (key) {\r\n            if (obj1[key] !== obj2[key]) {\r\n                allMatch = false;\r\n            }\r\n        });\r\n        return allMatch;\r\n    };\r\n    return MessageBus;\r\n}());\n\nvar GlueCore = function (userConfig, ext) {\r\n    var gdVersion = Utils.getGDMajorVersion();\r\n    var glue42gd;\r\n    var preloadPromise = Promise.resolve();\r\n    if (gdVersion) {\r\n        if (gdVersion < 3) {\r\n            throw new Error(\"GD v2 is not supported. Use v4 of the API to run in that context.\");\r\n        }\r\n        else if (gdVersion >= 3) {\r\n            glue42gd = window.glue42gd;\r\n            preloadPromise = window.gdPreloadPromise || preloadPromise;\r\n        }\r\n    }\r\n    var glueInitTimer = timer(\"glue\");\r\n    userConfig = userConfig || {};\r\n    ext = ext || {};\r\n    var internalConfig = prepareConfig(userConfig, ext, glue42gd);\r\n    var _connection;\r\n    var _interop;\r\n    var _logger;\r\n    var _metrics;\r\n    var _contexts;\r\n    var _bus;\r\n    var _allowTrace;\r\n    var libs = {};\r\n    function registerLib(name, inner, t) {\r\n        _allowTrace = _logger.canPublish(\"trace\");\r\n        if (_allowTrace) {\r\n            _logger.trace(\"registering \" + name + \" module\");\r\n        }\r\n        var done = function () {\r\n            inner.initTime = t.stop();\r\n            inner.initEndTime = t.endTime;\r\n            inner.marks = t.marks;\r\n            if (_allowTrace) {\r\n                _logger.trace(name + \" is ready - \" + (t.endTime - t.startTime));\r\n            }\r\n        };\r\n        inner.initStartTime = t.startTime;\r\n        if (inner.ready) {\r\n            inner.ready().then(function () {\r\n                done();\r\n            });\r\n        }\r\n        else {\r\n            done();\r\n        }\r\n        if (!Array.isArray(name)) {\r\n            name = [name];\r\n        }\r\n        name.forEach(function (n) {\r\n            libs[n] = inner;\r\n            GlueCore[n] = inner;\r\n        });\r\n    }\r\n    function setupConnection() {\r\n        var initTimer = timer(\"connection\");\r\n        _connection = new Connection(internalConfig.connection, _logger.subLogger(\"connection\"));\r\n        var authPromise = Promise.resolve(internalConfig.auth);\r\n        if (internalConfig.connection && !internalConfig.auth) {\r\n            if (glue42gd) {\r\n                authPromise = glue42gd.getGWToken()\r\n                    .then(function (token) {\r\n                    return {\r\n                        gatewayToken: token\r\n                    };\r\n                });\r\n            }\r\n            else {\r\n                authPromise = Promise.reject(\"You need to provide auth information\");\r\n            }\r\n        }\r\n        return authPromise\r\n            .then(function (authConfig) {\r\n            initTimer.mark(\"auth-promise-resolved\");\r\n            var authRequest;\r\n            if (Object.prototype.toString.call(authConfig) === \"[object Object]\") {\r\n                authRequest = authConfig;\r\n            }\r\n            else {\r\n                throw new Error(\"Invalid auth object - \" + JSON.stringify(authConfig));\r\n            }\r\n            return _connection.login(authRequest);\r\n        })\r\n            .then(function () {\r\n            registerLib(\"connection\", _connection, initTimer);\r\n            return internalConfig;\r\n        })\r\n            .catch(function (e) {\r\n            if (_connection) {\r\n                _connection.logout();\r\n            }\r\n            throw e;\r\n        });\r\n    }\r\n    function setupLogger() {\r\n        var _a;\r\n        var initTimer = timer(\"logger\");\r\n        _logger = new Logger(\"\" + ((_a = internalConfig.connection.identity) === null || _a === void 0 ? void 0 : _a.application), undefined, internalConfig.customLogger);\r\n        _logger.consoleLevel(internalConfig.logger.console);\r\n        _logger.publishLevel(internalConfig.logger.publish);\r\n        if (_logger.canPublish(\"debug\")) {\r\n            _logger.debug(\"initializing glue...\");\r\n        }\r\n        registerLib(\"logger\", _logger, initTimer);\r\n        return Promise.resolve(undefined);\r\n    }\r\n    function setupMetrics() {\r\n        var _a, _b, _c, _d, _e;\r\n        var initTimer = timer(\"metrics\");\r\n        var config = internalConfig.metrics;\r\n        var metricsPublishingEnabledFunc = glue42gd === null || glue42gd === void 0 ? void 0 : glue42gd.getMetricsPublishingEnabled;\r\n        var identity = internalConfig.connection.identity;\r\n        var canUpdateMetric = metricsPublishingEnabledFunc ? metricsPublishingEnabledFunc : function () { return true; };\r\n        var disableAutoAppSystem = (_a = (typeof config !== \"boolean\" && config.disableAutoAppSystem)) !== null && _a !== void 0 ? _a : false;\r\n        _metrics = metrics({\r\n            connection: config ? _connection : undefined,\r\n            logger: _logger.subLogger(\"metrics\"),\r\n            canUpdateMetric: canUpdateMetric,\r\n            system: \"Glue42\",\r\n            service: (_c = (_b = identity === null || identity === void 0 ? void 0 : identity.service) !== null && _b !== void 0 ? _b : glue42gd === null || glue42gd === void 0 ? void 0 : glue42gd.applicationName) !== null && _c !== void 0 ? _c : internalConfig.application,\r\n            instance: (_e = (_d = identity === null || identity === void 0 ? void 0 : identity.instance) !== null && _d !== void 0 ? _d : identity === null || identity === void 0 ? void 0 : identity.windowId) !== null && _e !== void 0 ? _e : shortid(),\r\n            disableAutoAppSystem: disableAutoAppSystem,\r\n            pagePerformanceMetrics: typeof config !== \"boolean\" ? config === null || config === void 0 ? void 0 : config.pagePerformanceMetrics : undefined\r\n        });\r\n        registerLib(\"metrics\", _metrics, initTimer);\r\n        return Promise.resolve();\r\n    }\r\n    function setupInterop() {\r\n        var initTimer = timer(\"interop\");\r\n        var agmConfig = {\r\n            connection: _connection,\r\n            logger: _logger.subLogger(\"interop\"),\r\n        };\r\n        _interop = new Interop(agmConfig);\r\n        Logger.Interop = _interop;\r\n        registerLib([\"interop\", \"agm\"], _interop, initTimer);\r\n        return Promise.resolve();\r\n    }\r\n    function setupContexts() {\r\n        var hasActivities = (internalConfig.activities && _connection.protocolVersion === 3);\r\n        var needsContexts = internalConfig.contexts || hasActivities;\r\n        if (needsContexts) {\r\n            var initTimer = timer(\"contexts\");\r\n            _contexts = new ContextsModule({\r\n                connection: _connection,\r\n                logger: _logger.subLogger(\"contexts\")\r\n            });\r\n            registerLib(\"contexts\", _contexts, initTimer);\r\n            return _contexts;\r\n        }\r\n        else {\r\n            var replayer = _connection.replayer;\r\n            if (replayer) {\r\n                replayer.drain(ContextMessageReplaySpec.name);\r\n            }\r\n        }\r\n    }\r\n    function setupBus() {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var initTimer;\r\n            return __generator(this, function (_a) {\r\n                if (!internalConfig.bus) {\r\n                    return [2, Promise.resolve()];\r\n                }\r\n                initTimer = timer(\"bus\");\r\n                _bus = new MessageBus(_connection, _logger.subLogger(\"bus\"));\r\n                registerLib(\"bus\", _bus, initTimer);\r\n                return [2, Promise.resolve()];\r\n            });\r\n        });\r\n    }\r\n    function setupExternalLibs(externalLibs) {\r\n        try {\r\n            externalLibs.forEach(function (lib) {\r\n                setupExternalLib(lib.name, lib.create);\r\n            });\r\n            return Promise.resolve();\r\n        }\r\n        catch (e) {\r\n            return Promise.reject(e);\r\n        }\r\n    }\r\n    function setupExternalLib(name, createCallback) {\r\n        var initTimer = timer(name);\r\n        var lib = createCallback(libs);\r\n        if (lib) {\r\n            registerLib(name, lib, initTimer);\r\n        }\r\n    }\r\n    function waitForLibs() {\r\n        var libsReadyPromises = Object.keys(libs).map(function (key) {\r\n            var lib = libs[key];\r\n            return lib.ready ?\r\n                lib.ready() : Promise.resolve();\r\n        });\r\n        return Promise.all(libsReadyPromises);\r\n    }\r\n    function constructGlueObject() {\r\n        var feedbackFunc = function (feedbackInfo) {\r\n            if (!_interop) {\r\n                return;\r\n            }\r\n            _interop.invoke(\"T42.ACS.Feedback\", feedbackInfo, \"best\");\r\n        };\r\n        var info = {\r\n            coreVersion: version,\r\n            version: internalConfig.version\r\n        };\r\n        glueInitTimer.stop();\r\n        var glue = {\r\n            feedback: feedbackFunc,\r\n            info: info,\r\n            logger: _logger,\r\n            interop: _interop,\r\n            agm: _interop,\r\n            connection: _connection,\r\n            metrics: _metrics,\r\n            contexts: _contexts,\r\n            bus: _bus,\r\n            version: internalConfig.version,\r\n            userConfig: userConfig,\r\n            done: function () {\r\n                _logger === null || _logger === void 0 ? void 0 : _logger.info(\"done called by user...\");\r\n                return _connection.logout();\r\n            }\r\n        };\r\n        glue.performance = {\r\n            get glueVer() {\r\n                return internalConfig.version;\r\n            },\r\n            get glueConfig() {\r\n                return JSON.stringify(userConfig);\r\n            },\r\n            get browser() {\r\n                return window.performance.timing.toJSON();\r\n            },\r\n            get memory() {\r\n                return window.performance.memory;\r\n            },\r\n            get initTimes() {\r\n                var all = getAllTimers();\r\n                return Object.keys(all).map(function (key) {\r\n                    var t = all[key];\r\n                    return {\r\n                        name: key,\r\n                        duration: t.endTime - t.startTime,\r\n                        marks: t.marks\r\n                    };\r\n                });\r\n            }\r\n        };\r\n        Object.keys(libs).forEach(function (key) {\r\n            var lib = libs[key];\r\n            glue[key] = lib;\r\n        });\r\n        glue.config = {};\r\n        Object.keys(internalConfig).forEach(function (k) {\r\n            glue.config[k] = internalConfig[k];\r\n        });\r\n        if (ext && ext.extOptions) {\r\n            Object.keys(ext.extOptions).forEach(function (k) {\r\n                glue.config[k] = ext === null || ext === void 0 ? void 0 : ext.extOptions[k];\r\n            });\r\n        }\r\n        if (ext === null || ext === void 0 ? void 0 : ext.enrichGlue) {\r\n            ext.enrichGlue(glue);\r\n        }\r\n        if (glue42gd && glue42gd.updatePerfData) {\r\n            glue42gd.updatePerfData(glue.performance);\r\n        }\r\n        if (glue.agm) {\r\n            var deprecatedDecorator = function (fn, wrong, proper) {\r\n                return function () {\r\n                    glue.logger.warn(\"glue.js - 'glue.agm.\" + wrong + \"' method is deprecated, use 'glue.interop.\" + proper + \"' instead.\");\r\n                    return fn.apply(glue.agm, arguments);\r\n                };\r\n            };\r\n            var agmAny = glue.agm;\r\n            agmAny.method_added = deprecatedDecorator(glue.agm.methodAdded, \"method_added\", \"methodAdded\");\r\n            agmAny.method_removed = deprecatedDecorator(glue.agm.methodRemoved, \"method_removed\", \"methodRemoved\");\r\n            agmAny.server_added = deprecatedDecorator(glue.agm.serverAdded, \"server_added\", \"serverAdded\");\r\n            agmAny.server_method_aded = deprecatedDecorator(glue.agm.serverMethodAdded, \"server_method_aded\", \"serverMethodAdded\");\r\n            agmAny.server_method_removed = deprecatedDecorator(glue.agm.serverMethodRemoved, \"server_method_removed\", \"serverMethodRemoved\");\r\n        }\r\n        return glue;\r\n    }\r\n    return preloadPromise\r\n        .then(setupLogger)\r\n        .then(setupConnection)\r\n        .then(function () { return Promise.all([setupMetrics(), setupInterop(), setupContexts(), setupBus()]); })\r\n        .then(function () { return _interop.readyPromise; })\r\n        .then(function () {\r\n        return setupExternalLibs(internalConfig.libs || []);\r\n    })\r\n        .then(waitForLibs)\r\n        .then(constructGlueObject)\r\n        .catch(function (err) {\r\n        return Promise.reject({\r\n            err: err,\r\n            libs: libs\r\n        });\r\n    });\r\n};\r\nif (typeof window !== \"undefined\") {\r\n    window.GlueCore = GlueCore;\r\n}\r\nGlueCore.version = version;\r\nGlueCore.default = GlueCore;\n\nexport default GlueCore;\n//# sourceMappingURL=core.es.js.map\n","import { IoC } from \"./shared/ioc\";\r\nimport { composeAPI } from \"./main\";\r\nimport { WorkspacesFactoryFunction } from \"../workspaces\";\r\n\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nconst factoryFunction: WorkspacesFactoryFunction = async (glue: any): Promise<void> => {\r\n\r\n    const ioc = new IoC(glue.agm, glue.windows, glue.layouts, glue.contexts);\r\n\r\n    const actualWindowId = glue.interop.instance.windowId;\r\n\r\n    await ioc.initiate(actualWindowId);\r\n\r\n    glue.workspaces = composeAPI(glue, ioc);\r\n};\r\n\r\n// attach to window object\r\nif (typeof window !== \"undefined\") {\r\n    /* eslint-disable @typescript-eslint/no-explicit-any */\r\n    (window as any).GlueWorkspaces = factoryFunction;\r\n}\r\n\r\nexport default factoryFunction;\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\n/* eslint-disable @typescript-eslint/no-unused-vars */\r\n/* tslint:disable:no-console no-empty */\r\nimport { GlueCoreFactoryFunction } from \"@glue42/core\";\r\nimport { Glue42 } from \"@glue42/desktop\";\r\nimport { Glue42Web, Glue42WebFactoryFunction } from \"../web\";\r\nimport { parseConfig } from \"./config\";\r\nimport { checkSingleton } from \"./config/checkSingleton\";\r\nimport { enterprise } from \"./enterprise\";\r\nimport { IoC } from \"./shared/ioc\";\r\nimport { PromiseWrap } from \"./shared/promise-plus\";\r\nimport { version } from \"../package.json\";\r\n\r\n/** This function creates the factory function which is the default export of the library */\r\nexport const createFactoryFunction = (coreFactoryFunction: GlueCoreFactoryFunction): Glue42WebFactoryFunction => {\r\n\r\n    return async (userConfig?: Glue42Web.Config): Promise<Glue42Web.API | Glue42.Glue> => {\r\n\r\n        const config = parseConfig(userConfig);\r\n\r\n        if (window.glue42gd) {\r\n            return enterprise(config);\r\n        }\r\n\r\n        checkSingleton();\r\n\r\n        const glue = await PromiseWrap<Glue42Web.API>(() => coreFactoryFunction(config, { version }) as Promise<Glue42Web.API>, 30000, \"Glue Web initialization timed out, because core didn't resolve\");\r\n\r\n        const logger = glue.logger.subLogger(\"web.main.controller\");\r\n\r\n        const ioc = new IoC(glue);\r\n\r\n        await ioc.bridge.start(ioc.controllers);\r\n\r\n        logger.trace(\"the bridge has been started, initializing all controllers\");\r\n\r\n        await Promise.all(Object.values(ioc.controllers).map((controller) => controller.start(glue, ioc)));\r\n\r\n        logger.trace(\"all controllers reported started, starting all additional libraries\");\r\n\r\n        await Promise.all(config.libraries.map((lib: any) => lib(glue, config)));\r\n\r\n        logger.trace(\"all libraries were started, glue is ready, returning it\");\r\n\r\n        return glue;\r\n    };\r\n};\r\n","import React, { useContext } from 'react';\r\nimport Workspaces from \"@glue42/workspaces-ui-react\";\r\nimport \"@glue42/workspaces-ui-react/dist/styles/popups.css\";\r\nimport \"@glue42/workspaces-ui-react/dist/styles/goldenlayout-base.css\";\r\nimport \"@glue42/workspaces-ui-react/dist/styles/glue42-theme.css\";\r\nimport \"./index.css\";\r\nimport { GlueContext } from '@glue42/react-hooks';\r\n// import { Glue42Workspaces } from '@glue42/workspaces-api';\r\n// import { Glue42Web } from \"@glue42/web\";\r\n// import { Glue42 } from \"@glue42/desktop\";\r\n\r\nconst App = () => {\r\n    (window as any).glue = useContext(GlueContext);\r\n    return (\r\n        <Workspaces />\r\n    );\r\n}\r\n\r\n// const App = () => {\r\n//     const waitForMyFrame = (glue: Glue42Web.API | Glue42.Glue) => {\r\n//         return new Promise<Glue42Workspaces.Frame>(async (res, rej) => {\r\n//             const unsub = await glue.workspaces?.onFrameOpened((f) => {\r\n//                 if (f.id === getFrameId()) {\r\n//                     res(f);\r\n//                     if (unsub) {\r\n//                         unsub();\r\n//                     }\r\n//                 }\r\n//             });\r\n//             const frames = await glue.workspaces?.getAllFrames();\r\n//             const myFrame = frames?.find(f => f.id === getFrameId());\r\n\r\n//             if (myFrame) {\r\n//                 res(myFrame);\r\n//                 if (unsub) {\r\n//                     unsub();\r\n//                 }\r\n//             }\r\n//         });\r\n//     };\r\n\r\n//     useGlue(async (glue) => {\r\n//         const myFrame = await waitForMyFrame(glue as any);\r\n//         const wsp = (await myFrame.workspaces())[0];\r\n//         const newWsp = await glue.workspaces?.restoreWorkspace(\"example2\", {title: \"example2\", reuseWorkspaceId: wsp.id} as any);\r\n//         await newWsp?.setTitle(\"Default\");\r\n//     });\r\n\r\n//     return (\r\n//         <Workspaces />\r\n//     );\r\n// }\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);  \r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n}\r\n\r\nexport default reportWebVitals;\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { METHODS, webPlatformMethodName, webPlatformWspStreamName } from \"./constants\";\r\nimport { promisePlus } from \"../shared/promisePlus\";\r\nimport { WorkspaceEventType } from \"../types/subscription\";\r\nimport { InteropAPI, Subscription, InvocationResult } from \"../types/glue\";\r\nimport { Glue42Core } from \"@glue42/core\";\r\n\r\nexport class InteropTransport {\r\n\r\n    private readonly defaultTransportTimeout: number = 30000;\r\n    private coreEventMethodInitiated = false;\r\n    private corePlatformSubPromise: Promise<Glue42Core.Interop.Subscription>;\r\n\r\n    constructor(private readonly agm: InteropAPI) { }\r\n\r\n    public async initiate(actualWindowId: string): Promise<void> {\r\n\r\n        if (window.glue42gd) {\r\n            await Promise.all(\r\n                Object.values(METHODS).map((method) => {\r\n\r\n                    return this.verifyMethodLive(method.name);\r\n                })\r\n            );\r\n\r\n            return;\r\n        }\r\n\r\n        await Promise.all([\r\n            this.verifyMethodLive(webPlatformMethodName),\r\n            this.verifyMethodLive(webPlatformWspStreamName)\r\n        ]);\r\n\r\n        await this.transmitControl(\"frameHello\", { windowId: actualWindowId });\r\n    }\r\n\r\n    public coreSubscriptionReady(eventCallback: (args?: any) => void): Promise<Glue42Core.Interop.Subscription> {\r\n        if (!this.coreEventMethodInitiated) {\r\n            this.subscribePlatform(eventCallback);\r\n        }\r\n        return this.corePlatformSubPromise;\r\n    }\r\n\r\n    public subscribePlatform(eventCallback: (args?: any) => void): void {\r\n        this.coreEventMethodInitiated = true;\r\n\r\n        this.corePlatformSubPromise = this.agm.subscribe(webPlatformWspStreamName);\r\n\r\n        this.corePlatformSubPromise\r\n            .then((sub) => {\r\n                sub.onData((data) => eventCallback(data.data));\r\n            });\r\n    }\r\n\r\n    public async subscribe(streamName: string, streamBranch: string, streamType: WorkspaceEventType): Promise<Subscription> {\r\n\r\n        const subscriptionArgs = {\r\n            branch: streamBranch,\r\n            type: streamType\r\n        };\r\n\r\n        let subscription: Subscription;\r\n\r\n        try {\r\n            subscription = await this.agm.subscribe(streamName, { arguments: subscriptionArgs });\r\n        } catch (error) {\r\n            const message = `Internal subscription error! Error details: stream - ${streamName}, branch: ${streamBranch}. Internal message: ${error.message}`;\r\n            throw new Error(message);\r\n        }\r\n\r\n        return subscription;\r\n    }\r\n\r\n    public async transmitControl(operation: string, operationArguments: any): Promise<any> {\r\n\r\n        const invocationArguments = window.glue42gd ? { operation, operationArguments } : { operation, domain: \"workspaces\", data: operationArguments };\r\n        const methodName = window.glue42gd ? METHODS.control.name : webPlatformMethodName;\r\n\r\n        let invocationResult: InvocationResult<any>;\r\n        const baseErrorMessage = `Internal Workspaces Communication Error. Attempted operation: ${JSON.stringify(invocationArguments)}. `;\r\n\r\n        // using the 0 index of the errors and values collections, because we expect only one server and\r\n        // this is to safeguard in case in future we decide to deprecate the default returned/message properties in favor of using only collections\r\n        try {\r\n            invocationResult = await this.agm.invoke(methodName, invocationArguments, \"best\", { methodResponseTimeoutMs: this.defaultTransportTimeout });\r\n\r\n            if (!invocationResult) {\r\n                throw new Error(\"Received unsupported result from GD - empty result\");\r\n            }\r\n\r\n            if (!Array.isArray(invocationResult.all_return_values) || invocationResult.all_return_values.length === 0) {\r\n                throw new Error(\"Received unsupported result from GD - empty values collection\");\r\n            }\r\n\r\n        } catch (error) {\r\n            if (error && error.all_errors && error.all_errors.length) {\r\n                // IMPORTANT: Do NOT change the `Inner message:` string, because it is used by other programs to extract the inner message of a communication error\r\n                const invocationErrorMessage = error.all_errors[0].message;\r\n                throw new Error(`${baseErrorMessage} -> Inner message: ${invocationErrorMessage}`);\r\n\r\n            }\r\n            // IMPORTANT: Do NOT change the `Inner message:` string, because it is used by other programs to extract the inner message of a communication error\r\n            throw new Error(`${baseErrorMessage} -> Inner message: ${error.message}`);\r\n        }\r\n\r\n        return invocationResult.all_return_values[0].returned;\r\n    }\r\n\r\n    private verifyMethodLive(name: string): Promise<void> {\r\n        return promisePlus(() => {\r\n            return new Promise((resolve) => {\r\n                const hasMethod = this.agm.methods().some((method) => method.name === name);\r\n\r\n                if (hasMethod) {\r\n                    resolve();\r\n                    return;\r\n                }\r\n\r\n                let unsubscribe = this.agm.methodAdded((method) => {\r\n                    if (method.name !== name) {\r\n                        return;\r\n                    }\r\n\r\n                    if (unsubscribe) {\r\n                        unsubscribe();\r\n                        unsubscribe = null;\r\n                    } else {\r\n                        setTimeout(() => {\r\n                            if (unsubscribe) {\r\n                                unsubscribe();\r\n                            }\r\n                        }, 0);\r\n                    }\r\n                    resolve();\r\n                });\r\n            });\r\n        }, 15000, \"Timeout waiting for the Workspaces communication channels\");\r\n    }\r\n}\r\n","export const promisePlus = <T>(promise: () => Promise<T>, timeoutMilliseconds: number, timeoutMessage?: string): Promise<T> => {\r\n    return new Promise<T>((resolve, reject) => {\r\n\r\n        let promiseActive = true;\r\n\r\n        const timeout = setTimeout(() => {\r\n            if (!promiseActive) {\r\n                return;\r\n            }\r\n            promiseActive = false;\r\n            const message = timeoutMessage || `Promise timeout hit: ${timeoutMilliseconds}`;\r\n\r\n            reject(message);\r\n        }, timeoutMilliseconds);\r\n\r\n        promise()\r\n            .then((result) => {\r\n                if (!promiseActive) {\r\n                    return;\r\n                }\r\n                promiseActive = false;\r\n                clearTimeout(timeout);\r\n                resolve(result);\r\n            })\r\n            .catch((error) => {\r\n                if (!promiseActive) {\r\n                    return;\r\n                }\r\n                promiseActive = false;\r\n                clearTimeout(timeout);\r\n                reject(error);\r\n            });\r\n    });\r\n};\r\n","import { BaseBuilder } from \"./baseBuilder\";\r\nimport { ChildBuilder } from \"../types/builders\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\n\r\ninterface PrivateData {\r\n    definition: Glue42Workspaces.BoxDefinition;\r\n    base: BaseBuilder;\r\n    children: ChildBuilder[];\r\n}\r\n\r\nconst privateData = new WeakMap<ParentBuilder, PrivateData>();\r\n\r\nexport class ParentBuilder implements ParentBuilder {\r\n\r\n    constructor(\r\n        definition: Glue42Workspaces.BoxDefinition,\r\n        base: BaseBuilder\r\n    ) {\r\n        const children = base.wrapChildren(definition.children);\r\n\r\n        delete definition.children;\r\n\r\n        privateData.set(this, { base, children, definition });\r\n    }\r\n\r\n    public get type(): \"column\" | \"row\" | \"group\" {\r\n        return privateData.get(this).definition.type;\r\n    }\r\n\r\n    public addColumn(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const base = privateData.get(this).base;\r\n\r\n        return base.add(\"column\", privateData.get(this).children, definition);\r\n    }\r\n\r\n    public addRow(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const base = privateData.get(this).base;\r\n\r\n        return base.add(\"row\", privateData.get(this).children, definition);\r\n    }\r\n\r\n    public addGroup(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const base = privateData.get(this).base;\r\n\r\n        return base.add(\"group\", privateData.get(this).children, definition);\r\n    }\r\n\r\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): ParentBuilder {\r\n        const base = privateData.get(this).base;\r\n\r\n        base.addWindow(privateData.get(this).children, definition);\r\n\r\n        return this;\r\n    }\r\n\r\n    public serialize(): Glue42Workspaces.BoxDefinition {\r\n        const definition = privateData.get(this).definition;\r\n        definition.children = privateData.get(this).base.serializeChildren(privateData.get(this).children);\r\n        return definition;\r\n    }\r\n\r\n}\r\n","import { ParentBuilder } from \"./parentBuilder\";\r\nimport { ChildDefinition, ChildBuilder } from \"../types/builders\";\r\nimport { parentDefinitionDecoder, swimlaneWindowDefinitionDecoder } from \"../shared/decoders\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { WorkspaceBuilder } from \"./workspaceBuilder\";\r\n\r\nexport class BaseBuilder {\r\n\r\n    constructor(\r\n        private readonly getBuilder: (config: Glue42Workspaces.BuilderConfig) => ParentBuilder | WorkspaceBuilder,\r\n    ) { }\r\n\r\n    public wrapChildren(children: ChildDefinition[]): ChildBuilder[] {\r\n        return children.map((child) => {\r\n            if (child.type === \"window\") {\r\n                return child;\r\n            }\r\n\r\n            return this.getBuilder({ type: child.type, definition: child }) as ParentBuilder;\r\n        });\r\n    }\r\n\r\n    public add(type: \"row\" | \"column\" | \"group\", children: ChildBuilder[], definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const validatedDefinition = parentDefinitionDecoder.runWithException(definition);\r\n\r\n        const childBuilder = this.getBuilder({ type, definition: validatedDefinition }) as ParentBuilder;\r\n\r\n        children.push(childBuilder);\r\n\r\n        return childBuilder;\r\n    }\r\n\r\n    public addWindow(children: ChildBuilder[], definition: Glue42Workspaces.WorkspaceWindowDefinition): void {\r\n        const validatedDefinition = swimlaneWindowDefinitionDecoder.runWithException(definition);\r\n\r\n        validatedDefinition.type = \"window\";\r\n\r\n        children.push(validatedDefinition);\r\n    }\r\n\r\n    public serializeChildren(children: ChildBuilder[]): ChildDefinition[] {\r\n        return children.map((child) => {\r\n            if (child instanceof ParentBuilder) {\r\n                return child.serialize();\r\n            } else {\r\n                return child as Glue42Workspaces.WorkspaceWindowDefinition;\r\n            }\r\n        });\r\n    }\r\n}\r\n","import { BaseBuilder } from \"./baseBuilder\";\r\nimport { ChildBuilder } from \"../types/builders\";\r\nimport { ParentBuilder } from \"./parentBuilder\";\r\nimport { workspaceBuilderCreateConfigDecoder, nonNegativeNumberDecoder } from \"../shared/decoders\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { WorkspacesController } from \"../types/controller\";\r\n\r\ninterface PrivateData {\r\n    definition: Glue42Workspaces.WorkspaceDefinition;\r\n    children: ChildBuilder[];\r\n    base: BaseBuilder;\r\n    controller: WorkspacesController;\r\n}\r\n\r\nconst privateData = new WeakMap<WorkspaceBuilder, PrivateData>();\r\n\r\nexport class WorkspaceBuilder implements WorkspaceBuilder {\r\n\r\n    constructor(\r\n        definition: Glue42Workspaces.WorkspaceDefinition,\r\n        base: BaseBuilder,\r\n        controller: WorkspacesController\r\n    ) {\r\n        const children = base.wrapChildren(definition.children);\r\n\r\n        delete definition.children;\r\n\r\n        privateData.set(this, { base, children, definition, controller });\r\n    }\r\n\r\n    public addColumn(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const children = privateData.get(this).children;\r\n\r\n        const areAllColumns = children.every((child) => child instanceof ParentBuilder && child.type === \"column\");\r\n\r\n        if (!areAllColumns) {\r\n            throw new Error(\"Cannot add a column to this workspace, because there are already children of another type\");\r\n        }\r\n\r\n        const base = privateData.get(this).base;\r\n\r\n        return base.add(\"column\", children, definition);\r\n    }\r\n\r\n    public addRow(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const children = privateData.get(this).children;\r\n\r\n        const areAllRows = children.every((child) => child instanceof ParentBuilder && child.type === \"row\");\r\n\r\n        if (!areAllRows) {\r\n            throw new Error(\"Cannot add a row to this workspace, because there are already children of another type\");\r\n        }\r\n\r\n        const base = privateData.get(this).base;\r\n\r\n        return base.add(\"row\", children, definition);\r\n    }\r\n\r\n    public addGroup(definition?: Glue42Workspaces.BoxDefinition): ParentBuilder {\r\n        const children = privateData.get(this).children;\r\n\r\n        if (children.length !== 0) {\r\n            throw new Error(\"Cannot add a group to this workspace, because there are already defined children.\");\r\n        }\r\n\r\n        const base = privateData.get(this).base;\r\n\r\n        return base.add(\"group\", children, definition);\r\n    }\r\n\r\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): WorkspaceBuilder {\r\n        const children = privateData.get(this).children;\r\n\r\n        if (children.length !== 0) {\r\n            throw new Error(\"Cannot add a window to this workspace, because there are already defined children.\");\r\n        }\r\n\r\n        const base = privateData.get(this).base;\r\n\r\n        base.addWindow(children, definition);\r\n\r\n        return this;\r\n    }\r\n\r\n    public getChildAt(index: number): ChildBuilder {\r\n        nonNegativeNumberDecoder.runWithException(index);\r\n        const data = privateData.get(this).children;\r\n\r\n        return data[index];\r\n    }\r\n\r\n    public async create(config?: Glue42Workspaces.WorkspaceCreateConfig): Promise<Glue42Workspaces.Workspace> {\r\n        const saveConfig = workspaceBuilderCreateConfigDecoder.runWithException(config);\r\n\r\n        const definition = privateData.get(this).definition;\r\n        definition.children = privateData.get(this).base.serializeChildren(privateData.get(this).children);\r\n\r\n        const controller = privateData.get(this).controller;\r\n\r\n        return controller.createWorkspace(definition, saveConfig);\r\n    }\r\n}\r\n","import { Base } from \"./base/base\";\r\nimport { Glue42Workspaces } from \"../../workspaces.d\";\r\nimport { rowLockConfigDecoder } from \"../shared/decoders\";\r\nimport { RowLockConfig } from \"../types/temp\";\r\n\r\ninterface PrivateData {\r\n    base: Base;\r\n}\r\n\r\nconst privateData = new WeakMap<Row, PrivateData>();\r\n\r\nconst getBase = (model: Row): Base => {\r\n    return privateData.get(model).base;\r\n};\r\n\r\nexport class Row implements Glue42Workspaces.Row {\r\n\r\n    constructor(base: Base) {\r\n        privateData.set(this, { base });\r\n    }\r\n\r\n    public get type(): \"row\" {\r\n        return \"row\";\r\n    }\r\n\r\n    public get id(): string {\r\n        return getBase(this).getId(this);\r\n    }\r\n\r\n    public get frameId(): string {\r\n        return getBase(this).getFrameId(this);\r\n    }\r\n\r\n    public get workspaceId(): string {\r\n        return getBase(this).getWorkspaceId(this);\r\n    }\r\n\r\n    public get positionIndex(): number {\r\n        return getBase(this).getPositionIndex(this);\r\n    }\r\n\r\n    public get children(): Glue42Workspaces.WorkspaceElement[] {\r\n        return getBase(this).getAllChildren(this);\r\n    }\r\n    public get parent(): Glue42Workspaces.Workspace | Glue42Workspaces.WorkspaceBox {\r\n        return getBase(this).getMyParent(this);\r\n    }\r\n    public get frame(): Glue42Workspaces.Frame {\r\n        return getBase(this).getMyFrame(this);\r\n    }\r\n    public get workspace(): Glue42Workspaces.Workspace {\r\n        return getBase(this).getMyWorkspace(this);\r\n    }\r\n    public get allowDrop(): boolean {\r\n        return getBase(this).getAllowDrop(this);\r\n    }\r\n\r\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): Promise<Glue42Workspaces.WorkspaceWindow> {\r\n        return getBase(this).addWindow(this, definition, \"row\");\r\n    }\r\n\r\n    public async addGroup(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Group> {\r\n        if (definition?.type && definition.type !== \"group\") {\r\n            throw new Error(`Expected a group definition, but received ${definition.type}`);\r\n        }\r\n        return getBase(this).addParent<Glue42Workspaces.Group>(this, \"group\", \"row\", definition);\r\n    }\r\n\r\n    public async addColumn(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Column> {\r\n        if (definition?.type && definition.type !== \"column\") {\r\n            throw new Error(`Expected a column definition, but received ${definition.type}`);\r\n        }\r\n        return getBase(this).addParent<Glue42Workspaces.Column>(this, \"column\", \"row\", definition);\r\n    }\r\n\r\n    public async addRow(): Promise<Row> {\r\n        throw new Error(\"Adding rows as row children is not supported\");\r\n    }\r\n\r\n    public removeChild(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\r\n        return getBase(this).removeChild(this, predicate);\r\n    }\r\n\r\n    public maximize(): Promise<void> {\r\n        return getBase(this).maximize(this);\r\n    }\r\n\r\n    public restore(): Promise<void> {\r\n        return getBase(this).restore(this);\r\n    }\r\n\r\n    public close(): Promise<void> {\r\n        return getBase(this).close(this);\r\n    }\r\n\r\n    public lock(config?: RowLockConfig | ((config: RowLockConfig) => RowLockConfig)): Promise<void> {\r\n        let lockConfigResult = undefined;\r\n\r\n        if (typeof config === \"function\") {\r\n            const currentLockConfig = {\r\n                allowDrop: this.allowDrop,\r\n            };\r\n\r\n            lockConfigResult = config(currentLockConfig);\r\n        } else {\r\n            lockConfigResult = config;\r\n        }\r\n\r\n        const verifiedConfig = lockConfigResult === undefined ? undefined : rowLockConfigDecoder.runWithException(lockConfigResult);\r\n\r\n        return getBase(this).lockContainer(this, verifiedConfig);\r\n    }\r\n\r\n}\r\n","import { Base } from \"./base/base\";\r\nimport { Glue42Workspaces } from \"../../workspaces.d\";\r\nimport { columnLockConfigDecoder } from \"../shared/decoders\";\r\nimport { ColumnLockConfig } from \"../types/temp\";\r\n\r\ninterface PrivateData {\r\n    base: Base;\r\n}\r\n\r\nconst privateData = new WeakMap<Column, PrivateData>();\r\n\r\nconst getBase = (model: Column): Base => {\r\n    return privateData.get(model).base;\r\n};\r\n\r\nexport class Column implements Glue42Workspaces.Column {\r\n\r\n    constructor(base: Base) {\r\n        privateData.set(this, { base });\r\n    }\r\n\r\n    public get type(): \"column\" {\r\n        return \"column\";\r\n    }\r\n\r\n    public get id(): string {\r\n        return getBase(this).getId(this);\r\n    }\r\n\r\n    public get frameId(): string {\r\n        return getBase(this).getFrameId(this);\r\n    }\r\n\r\n    public get workspaceId(): string {\r\n        return getBase(this).getWorkspaceId(this);\r\n    }\r\n\r\n    public get positionIndex(): number {\r\n        return getBase(this).getPositionIndex(this);\r\n    }\r\n\r\n    public get children(): Glue42Workspaces.WorkspaceElement[] {\r\n        return getBase(this).getAllChildren(this);\r\n    }\r\n    public get parent(): Glue42Workspaces.Workspace | Glue42Workspaces.WorkspaceBox {\r\n        return getBase(this).getMyParent(this);\r\n    }\r\n    public get frame(): Glue42Workspaces.Frame {\r\n        return getBase(this).getMyFrame(this);\r\n    }\r\n    public get workspace(): Glue42Workspaces.Workspace {\r\n        return getBase(this).getMyWorkspace(this);\r\n    }\r\n    public get allowDrop(): boolean {\r\n        return getBase(this).getAllowDrop(this);\r\n    }\r\n\r\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): Promise<Glue42Workspaces.WorkspaceWindow> {\r\n        return getBase(this).addWindow(this, definition, \"column\");\r\n    }\r\n\r\n    public async addGroup(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Group> {\r\n        if (definition?.type && definition.type !== \"group\") {\r\n            throw new Error(`Expected a group definition, but received ${definition.type}`);\r\n        }\r\n        return getBase(this).addParent<Glue42Workspaces.Group>(this, \"group\", \"column\", definition);\r\n    }\r\n\r\n    public async addColumn(definition?: Glue42Workspaces.BoxDefinition): Promise<Column> {\r\n        throw new Error(\"Adding columns as column children is not supported\");\r\n        return getBase(this).addParent<Column>(this, \"column\", \"column\", definition);\r\n    }\r\n\r\n    public async addRow(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Row> {\r\n        if (definition?.type && definition.type !== \"row\") {\r\n            throw new Error(`Expected a row definition, but received ${definition.type}`);\r\n        }\r\n        return getBase(this).addParent<Glue42Workspaces.Row>(this, \"row\", \"column\", definition);\r\n    }\r\n\r\n    public removeChild(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\r\n        return getBase(this).removeChild(this, predicate);\r\n    }\r\n\r\n    public maximize(): Promise<void> {\r\n        return getBase(this).maximize(this);\r\n    }\r\n\r\n    public restore(): Promise<void> {\r\n        return getBase(this).restore(this);\r\n    }\r\n\r\n    public close(): Promise<void> {\r\n        return getBase(this).close(this);\r\n    }\r\n\r\n    public lock(config?: ColumnLockConfig | ((config: ColumnLockConfig) => ColumnLockConfig)): Promise<void> {\r\n        let lockConfigResult = undefined;\r\n\r\n        if (typeof config === \"function\") {\r\n            const currentLockConfig = {\r\n                allowDrop: this.allowDrop,\r\n            };\r\n\r\n            lockConfigResult = config(currentLockConfig);\r\n\r\n        } else {\r\n            lockConfigResult = config;\r\n        }\r\n        const verifiedConfig = lockConfigResult === undefined ? undefined : columnLockConfigDecoder.runWithException(lockConfigResult);\r\n        return getBase(this).lockContainer(this, verifiedConfig);\r\n    }\r\n}\r\n","import { Base } from \"./base/base\";\r\nimport { Glue42Workspaces } from \"../../workspaces.d\";\r\nimport { groupLockConfigDecoder } from \"../shared/decoders\";\r\nimport { GroupLockConfig } from \"../types/temp\";\r\n\r\ninterface PrivateData {\r\n    base: Base;\r\n}\r\n\r\nconst privateData = new WeakMap<Group, PrivateData>();\r\n\r\nconst getBase = (model: Group): Base => {\r\n    return privateData.get(model).base;\r\n};\r\n\r\nexport class Group implements Glue42Workspaces.Group {\r\n\r\n    constructor(base: Base) {\r\n        privateData.set(this, { base });\r\n    }\r\n\r\n    public get type(): \"group\" {\r\n        return \"group\";\r\n    }\r\n\r\n    public get id(): string {\r\n        return getBase(this).getId(this);\r\n    }\r\n\r\n    public get frameId(): string {\r\n        return getBase(this).getFrameId(this);\r\n    }\r\n\r\n    public get workspaceId(): string {\r\n        return getBase(this).getWorkspaceId(this);\r\n    }\r\n\r\n    public get positionIndex(): number {\r\n        return getBase(this).getPositionIndex(this);\r\n    }\r\n\r\n    public get children(): Glue42Workspaces.WorkspaceElement[] {\r\n        return getBase(this).getAllChildren(this);\r\n    }\r\n    public get parent(): Glue42Workspaces.Workspace | Glue42Workspaces.WorkspaceBox {\r\n        return getBase(this).getMyParent(this);\r\n    }\r\n    public get frame(): Glue42Workspaces.Frame {\r\n        return getBase(this).getMyFrame(this);\r\n    }\r\n    public get workspace(): Glue42Workspaces.Workspace {\r\n        return getBase(this).getMyWorkspace(this);\r\n    }\r\n    public get allowExtract(): boolean {\r\n        return getBase(this).getAllowExtract(this);\r\n    }\r\n\r\n    public get allowDrop(): boolean {\r\n        return getBase(this).getAllowDrop(this);\r\n    }\r\n\r\n    public get showMaximizeButton(): boolean {\r\n        return getBase(this).getShowMaximizeButton(this);\r\n    }\r\n\r\n    public get showEjectButton(): boolean {\r\n        return getBase(this).getShowEjectButton(this);\r\n    }\r\n\r\n    public get showAddWindowButton(): boolean {\r\n        return getBase(this).getShowAddWindowButton(this);\r\n    }\r\n\r\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): Promise<Glue42Workspaces.WorkspaceWindow> {\r\n        return getBase(this).addWindow(this, definition, \"group\");\r\n    }\r\n\r\n    public async addGroup(): Promise<Group> {\r\n        throw new Error(\"Adding groups as group child is not supported\");\r\n    }\r\n\r\n    public async addColumn(): Promise<Glue42Workspaces.Column> {\r\n        throw new Error(\"Adding columns as group child is not supported\");\r\n    }\r\n\r\n    public async addRow(): Promise<Glue42Workspaces.Row> {\r\n        throw new Error(\"Adding rows as group child is not supported\");\r\n    }\r\n\r\n    public removeChild(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\r\n        return getBase(this).removeChild(this, predicate);\r\n    }\r\n\r\n    public maximize(): Promise<void> {\r\n        return getBase(this).maximize(this);\r\n    }\r\n\r\n    public restore(): Promise<void> {\r\n        return getBase(this).restore(this);\r\n    }\r\n\r\n    public close(): Promise<void> {\r\n        return getBase(this).close(this);\r\n    }\r\n\r\n    public lock(config?: GroupLockConfig | ((config: GroupLockConfig) => GroupLockConfig)): Promise<void> {\r\n        let lockConfigResult = undefined;\r\n\r\n        if (typeof config === \"function\") {\r\n            const currentLockConfig = {\r\n                allowDrop: this.allowDrop,\r\n                allowExtract: this.allowExtract,\r\n                showAddWindowButton: this.showAddWindowButton,\r\n                showEjectButton: this.showEjectButton,\r\n                showMaximizeButton: this.showMaximizeButton\r\n            };\r\n\r\n            lockConfigResult = config(currentLockConfig);\r\n        } else {\r\n            lockConfigResult = config;\r\n        }\r\n        const verifiedConfig = lockConfigResult === undefined ? undefined : groupLockConfigDecoder.runWithException(lockConfigResult);\r\n        return getBase(this).lockContainer(this, verifiedConfig);\r\n    }\r\n\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { WorkspaceSnapshotResult, WindowStreamData } from \"../types/protocol\";\r\nimport { checkThrowCallback, nonEmptyStringDecoder, workspaceLockConfigDecoder } from \"../shared/decoders\";\r\nimport { PrivateDataManager } from \"../shared/privateDataManager\";\r\nimport { FrameCreateConfig } from \"../types/ioc\";\r\nimport { Frame } from \"./frame\";\r\nimport { SubscriptionConfig } from \"../types/subscription\";\r\nimport { WorkspacePrivateData } from \"../types/privateData\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { WorkspaceLockConfig } from \"../types/temp\";\r\n\r\ninterface PrivateData {\r\n    manager: PrivateDataManager;\r\n}\r\n\r\nconst data = new WeakMap<Workspace, PrivateData>();\r\n\r\nconst getData = (model: Workspace): WorkspacePrivateData => {\r\n    return data.get(model).manager.getWorkspaceData(model);\r\n};\r\n\r\nconst getDataManager = (model: Workspace): PrivateDataManager => {\r\n    return data.get(model).manager;\r\n};\r\n\r\nexport class Workspace implements Glue42Workspaces.Workspace {\r\n\r\n    constructor(dataManager: PrivateDataManager) {\r\n        data.set(this, { manager: dataManager });\r\n    }\r\n\r\n    public get id(): string {\r\n        return getData(this).id;\r\n    }\r\n\r\n    public get frameId(): string {\r\n        return getData(this).config.frameId;\r\n    }\r\n\r\n    public get positionIndex(): number {\r\n        return getData(this).config.positionIndex;\r\n    }\r\n\r\n    public get title(): string {\r\n        return getData(this).config.title;\r\n    }\r\n\r\n    public get layoutName(): string | undefined {\r\n        return getData(this).config.layoutName;\r\n    }\r\n\r\n    public get isHibernated(): boolean {\r\n        return getData(this).config.isHibernated;\r\n    }\r\n\r\n    public get children(): Glue42Workspaces.WorkspaceElement[] {\r\n        return getData(this).children;\r\n    }\r\n\r\n    public get frame(): Frame {\r\n        return getData(this).frame;\r\n    }\r\n\r\n    public get allowSplitters(): boolean {\r\n        return getData(this).config.allowSplitters;\r\n    }\r\n\r\n    public get allowDrop(): boolean {\r\n        return getData(this).config.allowDrop;\r\n    }\r\n\r\n    public get allowDropLeft(): boolean {\r\n        return getData(this).config.allowDropLeft;\r\n    }\r\n\r\n    public get allowDropTop(): boolean {\r\n        return getData(this).config.allowDropTop;\r\n    }\r\n\r\n    public get allowDropRight(): boolean {\r\n        return getData(this).config.allowDropRight;\r\n    }\r\n\r\n    public get allowDropBottom(): boolean {\r\n        return getData(this).config.allowDropBottom;\r\n    }\r\n\r\n    public get allowExtract(): boolean {\r\n        return getData(this).config.allowExtract;\r\n    }\r\n\r\n    public get showCloseButton(): boolean {\r\n        return getData(this).config.showCloseButton;\r\n    }\r\n\r\n    public get showSaveButton(): boolean {\r\n        return getData(this).config.showSaveButton;\r\n    }\r\n\r\n    public async removeChild(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\r\n        checkThrowCallback(predicate);\r\n        const child = this.children.find(predicate);\r\n        if (!child) {\r\n            return;\r\n        }\r\n        await child.close();\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async remove(predicate: (child: Glue42Workspaces.WorkspaceElement) => boolean): Promise<void> {\r\n        checkThrowCallback(predicate);\r\n        const controller = getData(this).controller;\r\n\r\n        const child = controller.iterateFindChild(this.children, predicate);\r\n\r\n        await child.close();\r\n\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async focus(): Promise<void> {\r\n        await getData(this).controller.focusItem(this.id);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async close(): Promise<void> {\r\n        const controller = getData(this).controller;\r\n\r\n        const workspaces = await getData(this).frame.workspaces();\r\n\r\n        const shouldCloseFrame = workspaces.length === 1 && workspaces.every((wsp) => wsp.id === this.id);\r\n\r\n        if (shouldCloseFrame) {\r\n            return this.frame.close();\r\n        }\r\n\r\n        await controller.closeItem(this.id);\r\n    }\r\n\r\n    public snapshot(): Promise<Glue42Workspaces.WorkspaceSnapshot> {\r\n        return getData(this).controller.getSnapshot(this.id, \"workspace\");\r\n    }\r\n\r\n    public async saveLayout(name: string, config?: { saveContext?: boolean }): Promise<void> {\r\n        nonEmptyStringDecoder.runWithException(name);\r\n        await getData(this).controller.saveLayout({ name, workspaceId: this.id, saveContext: config?.saveContext });\r\n    }\r\n\r\n    public async setTitle(title: string): Promise<void> {\r\n        nonEmptyStringDecoder.runWithException(title);\r\n        const controller = getData(this).controller;\r\n\r\n        await controller.setItemTitle(this.id, title);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public getContext(): Promise<any> {\r\n        const controller = getData(this).controller;\r\n        return controller.getWorkspaceContext(this.id);\r\n    }\r\n\r\n    public setContext(data: any): Promise<void> {\r\n        const controller = getData(this).controller;\r\n        return controller.setWorkspaceContext(this.id, data);\r\n    }\r\n\r\n    public updateContext(data: any): Promise<void> {\r\n        const controller = getData(this).controller;\r\n        return controller.updateWorkspaceContext(this.id, data);\r\n    }\r\n\r\n    public onContextUpdated(callback: (data: any) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        const controller = getData(this).controller;\r\n        return controller.subscribeWorkspaceContextUpdated(this.id, callback);\r\n    }\r\n\r\n    public async refreshReference(): Promise<void> {\r\n        const newSnapshot = (await getData(this).controller.getSnapshot(this.id, \"workspace\")) as WorkspaceSnapshotResult;\r\n\r\n        const currentChildrenFlat = getData(this).controller.flatChildren(getData(this).children);\r\n\r\n        const newChildren = getData(this).controller.refreshChildren({\r\n            existingChildren: currentChildrenFlat,\r\n            workspace: this,\r\n            parent: this,\r\n            children: newSnapshot.children\r\n        });\r\n\r\n        const currentFrame = this.frame;\r\n        let actualFrame: Frame;\r\n\r\n        if (currentFrame.id === newSnapshot.config.frameId) {\r\n            getDataManager(this).remapFrame(currentFrame, newSnapshot.frameSummary);\r\n            actualFrame = currentFrame;\r\n        } else {\r\n            const frameCreateConfig: FrameCreateConfig = {\r\n                summary: newSnapshot.frameSummary\r\n            };\r\n            const newFrame = getData(this).ioc.getModel<\"frame\">(\"frame\", frameCreateConfig);\r\n            actualFrame = newFrame;\r\n        }\r\n\r\n        getDataManager(this).remapWorkspace(this, {\r\n            config: newSnapshot.config,\r\n            children: newChildren,\r\n            frame: actualFrame\r\n        });\r\n    }\r\n\r\n    public getBox(predicate: (box: Glue42Workspaces.WorkspaceBox) => boolean): Glue42Workspaces.WorkspaceBox {\r\n        checkThrowCallback(predicate);\r\n        const children = getData(this).children;\r\n        const controller = getData(this).controller;\r\n\r\n        return controller.iterateFindChild(children, (child) => child.type !== \"window\" && predicate(child)) as Glue42Workspaces.WorkspaceBox;\r\n    }\r\n\r\n    public getAllBoxes(predicate?: (parent: Glue42Workspaces.WorkspaceBox) => boolean): Glue42Workspaces.WorkspaceBox[] {\r\n        checkThrowCallback(predicate, true);\r\n        const children = getData(this).children;\r\n        const controller = getData(this).controller;\r\n\r\n        const allParents = controller.iterateFilterChildren(children, (child) => child.type !== \"window\") as Glue42Workspaces.WorkspaceBox[];\r\n\r\n        if (!predicate) {\r\n            return allParents;\r\n        }\r\n\r\n        return allParents.filter(predicate);\r\n    }\r\n\r\n    public getRow(predicate: (row: Glue42Workspaces.Row) => boolean): Glue42Workspaces.Row {\r\n        checkThrowCallback(predicate);\r\n        return this.getBox((parent) => parent.type === \"row\" && predicate(parent)) as Glue42Workspaces.Row;\r\n    }\r\n\r\n    public getAllRows(predicate?: (row: Glue42Workspaces.Row) => boolean): Glue42Workspaces.Row[] {\r\n        checkThrowCallback(predicate, true);\r\n        if (predicate) {\r\n            return this.getAllBoxes((parent) => parent.type === \"row\" && predicate(parent)) as Glue42Workspaces.Row[];\r\n        }\r\n        return this.getAllBoxes((parent) => parent.type === \"row\") as Glue42Workspaces.Row[];\r\n    }\r\n\r\n    public getColumn(predicate: (column: Glue42Workspaces.Column) => boolean): Glue42Workspaces.Column {\r\n        checkThrowCallback(predicate);\r\n        return this.getBox((parent) => parent.type === \"column\" && predicate(parent)) as Glue42Workspaces.Column;\r\n    }\r\n\r\n    public getAllColumns(predicate?: (columns: Glue42Workspaces.Column) => boolean): Glue42Workspaces.Column[] {\r\n        checkThrowCallback(predicate, true);\r\n        if (predicate) {\r\n            return this.getAllBoxes((parent) => parent.type === \"column\" && predicate(parent)) as Glue42Workspaces.Column[];\r\n        }\r\n        return this.getAllBoxes((parent) => parent.type === \"column\") as Glue42Workspaces.Column[];\r\n    }\r\n\r\n    public getGroup(predicate: (group: Glue42Workspaces.Group) => boolean): Glue42Workspaces.Group {\r\n        checkThrowCallback(predicate);\r\n        return this.getBox((parent) => parent.type === \"group\" && predicate(parent)) as Glue42Workspaces.Group;\r\n    }\r\n\r\n    public getAllGroups(predicate?: (group: Glue42Workspaces.Group) => boolean): Glue42Workspaces.Group[] {\r\n        checkThrowCallback(predicate, true);\r\n        if (predicate) {\r\n            return this.getAllBoxes((parent) => parent.type === \"group\" && predicate(parent)) as Glue42Workspaces.Group[];\r\n        }\r\n        return this.getAllBoxes((parent) => parent.type === \"group\") as Glue42Workspaces.Group[];\r\n    }\r\n\r\n    public getWindow(predicate: (window: Glue42Workspaces.WorkspaceWindow) => boolean): Glue42Workspaces.WorkspaceWindow {\r\n        checkThrowCallback(predicate);\r\n        const children = getData(this).children;\r\n        const controller = getData(this).controller;\r\n\r\n        return controller.iterateFindChild(children, (child) => child.type === \"window\" && predicate(child)) as Glue42Workspaces.WorkspaceWindow;\r\n    }\r\n\r\n    public getAllWindows(predicate?: (window: Glue42Workspaces.WorkspaceWindow) => boolean): Glue42Workspaces.WorkspaceWindow[] {\r\n        checkThrowCallback(predicate, true);\r\n        const children = getData(this).children;\r\n        const controller = getData(this).controller;\r\n\r\n        const allWindows = controller.iterateFilterChildren(children, (child) => child.type === \"window\") as Glue42Workspaces.WorkspaceWindow[];\r\n\r\n        if (!predicate) {\r\n            return allWindows;\r\n        }\r\n\r\n        return allWindows.filter(predicate);\r\n    }\r\n\r\n    public addRow(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Row> {\r\n        return getData(this).base.addParent<Glue42Workspaces.Row>(this, \"row\", \"workspace\", definition);\r\n    }\r\n\r\n    public addColumn(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Column> {\r\n        return getData(this).base.addParent<Glue42Workspaces.Column>(this, \"column\", \"workspace\", definition);\r\n    }\r\n\r\n    public addGroup(definition?: Glue42Workspaces.BoxDefinition): Promise<Glue42Workspaces.Group> {\r\n        return getData(this).base.addParent<Glue42Workspaces.Group>(this, \"group\", \"workspace\", definition);\r\n    }\r\n\r\n    public addWindow(definition: Glue42Workspaces.WorkspaceWindowDefinition): Promise<Glue42Workspaces.WorkspaceWindow> {\r\n        return getData(this).base.addWindow(this, definition, \"workspace\");\r\n    }\r\n\r\n    public async bundleToRow(): Promise<void> {\r\n        await getData(this).controller.bundleTo(\"row\", this.id);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async bundleToColumn(): Promise<void> {\r\n        await getData(this).controller.bundleTo(\"column\", this.id);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async hibernate(): Promise<void> {\r\n        await getData(this).controller.hibernateWorkspace(this.id);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async resume(): Promise<void> {\r\n        await getData(this).controller.resumeWorkspace(this.id);\r\n        await this.refreshReference();\r\n    }\r\n\r\n    public async lock(config?: WorkspaceLockConfig | ((config: WorkspaceLockConfig) => WorkspaceLockConfig)): Promise<void> {\r\n        let lockConfigResult = undefined;\r\n\r\n        if (typeof config === \"function\") {\r\n            const currentLockConfig = {\r\n                allowDrop: this.allowDrop,\r\n                allowDropLeft: this.allowDropLeft,\r\n                allowDropTop: this.allowDropTop,\r\n                allowDropRight: this.allowDropRight,\r\n                allowDropBottom: this.allowDropBottom,\r\n                allowExtract: this.allowExtract,\r\n                allowSplitters: this.allowSplitters,\r\n                showCloseButton: this.showCloseButton,\r\n                showSaveButton: this.showSaveButton\r\n            };\r\n\r\n            lockConfigResult = config(currentLockConfig);\r\n        } else {\r\n            lockConfigResult = config;\r\n        }\r\n\r\n        const verifiedConfig = lockConfigResult === undefined ? undefined : workspaceLockConfigDecoder.runWithException(lockConfigResult);\r\n\r\n        await getData(this).controller.lockWorkspace(this.id, verifiedConfig);\r\n        await this.refreshReference();\r\n    }\r\n\r\n\r\n    public async onClosed(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const id = getData(this).id;\r\n\r\n        const wrappedCallback = async (): Promise<void> => {\r\n            // await this.refreshReference();\r\n            callback();\r\n        };\r\n        const config: SubscriptionConfig = {\r\n            action: \"closed\",\r\n            eventType: \"workspace\",\r\n            scope: \"workspace\",\r\n            scopeId: id,\r\n            callback: wrappedCallback\r\n        };\r\n\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowAdded(callback: (window: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const id = getData(this).id;\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            await this.refreshReference();\r\n            const windowParent = this.getBox((parent) => parent.id === payload.windowSummary.parentId);\r\n\r\n            const foundWindow = windowParent.children.find((child) => {\r\n\r\n                return child.type === \"window\" && child.positionIndex === payload.windowSummary.config.positionIndex;\r\n            });\r\n            callback(foundWindow as Glue42Workspaces.WorkspaceWindow);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            action: \"added\",\r\n            eventType: \"window\",\r\n            scope: \"workspace\",\r\n            scopeId: id,\r\n            callback: wrappedCallback\r\n        };\r\n\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowRemoved(callback: (removed: { windowId?: string; workspaceId: string; frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const id = getData(this).id;\r\n\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            await this.refreshReference();\r\n            const { windowId, workspaceId, frameId } = payload.windowSummary.config;\r\n            callback({ windowId, workspaceId, frameId });\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            action: \"removed\",\r\n            eventType: \"window\",\r\n            scope: \"workspace\",\r\n            scopeId: id,\r\n            callback: wrappedCallback\r\n        };\r\n\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowLoaded(callback: (window: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const id = getData(this).id;\r\n\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            await this.refreshReference();\r\n            const foundWindow = this.getWindow((win) => {\r\n                return win.id && win.id === payload.windowSummary.config.windowId;\r\n            });\r\n            callback(foundWindow);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            action: \"loaded\",\r\n            eventType: \"window\",\r\n            scope: \"workspace\",\r\n            scopeId: id,\r\n            callback: wrappedCallback\r\n        };\r\n\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\r\n        return unsubscribe;\r\n    }\r\n}\r\n","import { checkThrowCallback, nonEmptyStringDecoder, windowLockConfigDecoder } from \"../shared//decoders\";\r\nimport { SubscriptionConfig } from \"../types/subscription\";\r\nimport { PrivateDataManager } from \"../shared/privateDataManager\";\r\nimport { WindowPrivateData } from \"../types/privateData\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { GDWindow } from \"../types/glue\";\r\nimport { Row } from \"./row\";\r\nimport { Column } from \"./column\";\r\nimport { Group } from \"./group\";\r\nimport { WorkspaceWindowLockConfig } from \"../types/temp\";\r\n\r\ninterface PrivateData {\r\n    manager: PrivateDataManager;\r\n}\r\n\r\nconst data = new WeakMap<Window, PrivateData>();\r\n\r\nconst getData = (model: Window): WindowPrivateData => {\r\n    return data.get(model).manager.getWindowData(model);\r\n};\r\n\r\nexport class Window implements Glue42Workspaces.WorkspaceWindow {\r\n\r\n    constructor(dataManager: PrivateDataManager) {\r\n        data.set(this, { manager: dataManager });\r\n    }\r\n\r\n    public get id(): string {\r\n        return getData(this).config.windowId;\r\n    }\r\n\r\n    public get elementId(): string {\r\n        return getData(this).id;\r\n    }\r\n\r\n    public get type(): \"window\" {\r\n        return \"window\";\r\n    }\r\n\r\n    public get frameId(): string {\r\n        return getData(this).frame.id;\r\n    }\r\n\r\n    public get workspaceId(): string {\r\n        return getData(this).workspace.id;\r\n    }\r\n\r\n    public get positionIndex(): number {\r\n        return getData(this).config.positionIndex;\r\n    }\r\n\r\n    public get isMaximized(): boolean {\r\n        return getData(this).config.isMaximized;\r\n    }\r\n\r\n    public get isLoaded(): boolean {\r\n        return getData(this).controller.checkIsWindowLoaded(this.id);\r\n    }\r\n\r\n    public get focused(): boolean {\r\n        return getData(this).config.isFocused;\r\n    }\r\n\r\n    public get title(): string {\r\n        return getData(this).config.title;\r\n    }\r\n\r\n    public get allowExtract(): boolean {\r\n        return getData(this).config.allowExtract;\r\n    }\r\n\r\n    public get showCloseButton(): boolean {\r\n        return getData(this).config.showCloseButton;\r\n    }\r\n\r\n    public get workspace(): Glue42Workspaces.Workspace {\r\n        return getData(this).workspace;\r\n    }\r\n\r\n    public get frame(): Glue42Workspaces.Frame {\r\n        return getData(this).frame;\r\n    }\r\n\r\n    public get parent(): Glue42Workspaces.Workspace | Glue42Workspaces.Row | Glue42Workspaces.Column | Glue42Workspaces.Group {\r\n        return getData(this).parent;\r\n    }\r\n\r\n    public get appName(): string {\r\n        return getData(this).config.appName;\r\n    }\r\n\r\n    public async forceLoad(): Promise<void> {\r\n        if (this.isLoaded) {\r\n            return;\r\n        }\r\n        const controller = getData(this).controller;\r\n        const itemId = getData(this).id;\r\n\r\n        const windowId = await controller.forceLoadWindow(itemId);\r\n\r\n        getData(this).config.windowId = windowId;\r\n\r\n        await this.workspace.refreshReference();\r\n    }\r\n\r\n    public async focus(): Promise<void> {\r\n        const id = getData(this).id;\r\n        const controller = getData(this).controller;\r\n\r\n        await controller.focusItem(id);\r\n\r\n        await this.workspace.refreshReference();\r\n    }\r\n\r\n    public async close(): Promise<void> {\r\n        const id = getData(this).id;\r\n        const controller = getData(this).controller;\r\n\r\n        await controller.closeItem(id);\r\n\r\n        await getData(this)\r\n            .parent\r\n            .removeChild((child) => child.id === id);\r\n\r\n        await this.workspace.refreshReference();\r\n    }\r\n\r\n    public async setTitle(title: string): Promise<void> {\r\n        nonEmptyStringDecoder.runWithException(title);\r\n\r\n        const itemId = getData(this).id;\r\n        const controller = getData(this).controller;\r\n\r\n        await controller.setItemTitle(itemId, title);\r\n\r\n        await this.workspace.refreshReference();\r\n    }\r\n\r\n    public async maximize(): Promise<void> {\r\n        const id = getData(this).id;\r\n        const controller = getData(this).controller;\r\n\r\n        await controller.maximizeItem(id);\r\n\r\n        await this.workspace.refreshReference();\r\n    }\r\n\r\n    public async restore(): Promise<void> {\r\n        const id = getData(this).id;\r\n        const controller = getData(this).controller;\r\n\r\n        await controller.restoreItem(id);\r\n\r\n        await this.workspace.refreshReference();\r\n    }\r\n\r\n    public async eject(): Promise<GDWindow> {\r\n        if (!this.isLoaded) {\r\n            throw new Error(\"Cannot eject this window, because it is not loaded yet\");\r\n        }\r\n        const itemId: string = getData(this).id;\r\n\r\n        const newWindowId: string = await getData(this).controller.ejectWindow(itemId);\r\n\r\n        getData(this).config.windowId = newWindowId;\r\n\r\n        await this.workspace.refreshReference();\r\n\r\n        return this.getGdWindow();\r\n    }\r\n\r\n    public getGdWindow(): GDWindow {\r\n        if (!this.isLoaded) {\r\n            throw new Error(\"Cannot fetch this GD window, because the window is not yet loaded\");\r\n        }\r\n\r\n        const myId = getData(this).config.windowId;\r\n        const controller = getData(this).controller;\r\n\r\n        return controller.getGDWindow(myId);\r\n    }\r\n\r\n    public async moveTo(parent: Glue42Workspaces.Row | Glue42Workspaces.Column | Glue42Workspaces.Group): Promise<void> {\r\n        if (!(parent instanceof Row || parent instanceof Column || parent instanceof Group)) {\r\n            throw new Error(\"Cannot add to the provided parent, because the provided parent is not an instance of Row, Column or Group\");\r\n        }\r\n\r\n        const myId = getData(this).id;\r\n        const controller = getData(this).controller;\r\n\r\n        const foundParent = await controller.getParent((p) => p.id === parent.id);\r\n\r\n        if (!foundParent) {\r\n            throw new Error(\"Cannot move the window to the selected parent, because this parent does not exist.\");\r\n        }\r\n\r\n        await controller.moveWindowTo(myId, parent.id);\r\n\r\n        await this.workspace.refreshReference();\r\n    }\r\n\r\n    public async lock(config?: WorkspaceWindowLockConfig | ((config: WorkspaceWindowLockConfig) => WorkspaceWindowLockConfig)): Promise<void> {\r\n        let lockConfigResult = undefined;\r\n\r\n        if (typeof config === \"function\") {\r\n            const currentLockConfig = {\r\n                allowExtract: this.allowExtract,\r\n                showCloseButton: this.showCloseButton\r\n            };\r\n            lockConfigResult = config(currentLockConfig);\r\n        } else {\r\n            lockConfigResult = config;\r\n        }\r\n\r\n        const verifiedConfig = lockConfigResult === undefined ? undefined : windowLockConfigDecoder.runWithException(lockConfigResult);\r\n        const windowPlacementId = getData(this).id;\r\n        await getData(this).controller.lockWindow(windowPlacementId, verifiedConfig);\r\n        await this.workspace.refreshReference();\r\n    }\r\n\r\n    public async onRemoved(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const id = getData(this).id;\r\n        const wrappedCallback = async (): Promise<void> => {\r\n            await this.workspace.refreshReference();\r\n            callback();\r\n        };\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"removed\",\r\n            eventType: \"window\",\r\n            scope: \"window\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, id);\r\n        return unsubscribe;\r\n    }\r\n}\r\n","import { checkThrowCallback, nonEmptyStringDecoder, restoreWorkspaceConfigDecoder, workspaceDefinitionDecoder, workspaceBuilderCreateConfigDecoder, resizeConfigDecoder, moveConfigDecoder } from \"../shared/decoders\";\r\nimport { SubscriptionConfig } from \"../types/subscription\";\r\nimport { PrivateDataManager } from \"../shared/privateDataManager\";\r\nimport { FrameStreamData, WorkspaceStreamData, WindowStreamData } from \"../types/protocol\";\r\nimport { Glue42Workspaces } from \"../../workspaces.d\";\r\nimport { FramePrivateData } from \"../types/privateData\";\r\n\r\ninterface PrivateData {\r\n    manager: PrivateDataManager;\r\n}\r\n\r\nconst data = new WeakMap<Frame, PrivateData>();\r\n\r\nconst getData = (model: Frame): FramePrivateData => {\r\n    return data.get(model).manager.getFrameData(model);\r\n};\r\n\r\nexport class Frame implements Glue42Workspaces.Frame {\r\n\r\n    constructor(dataManager: PrivateDataManager) {\r\n        data.set(this, { manager: dataManager });\r\n    }\r\n\r\n    public get id(): string {\r\n        return getData(this).summary.id;\r\n    }\r\n\r\n    public resize(config: Glue42Workspaces.ResizeConfig): Promise<void> {\r\n        const validatedConfig = resizeConfigDecoder.runWithException(config);\r\n        const myId = getData(this).summary.id;\r\n\r\n        return getData(this).controller.resizeItem(myId, validatedConfig);\r\n    }\r\n\r\n    public move(config: Glue42Workspaces.MoveConfig): Promise<void> {\r\n        const validatedConfig = moveConfigDecoder.runWithException(config);\r\n\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.moveFrame(myId, validatedConfig);\r\n    }\r\n\r\n    public focus(): Promise<void> {\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.focusItem(myId);\r\n    }\r\n\r\n    public async state(): Promise<Glue42Workspaces.FrameState> {\r\n        if (!window.glue42gd) {\r\n            throw new Error(\"State operations are not supported in Glue42 Core\");\r\n        }\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.getFrameState(myId);\r\n    }\r\n\r\n    public async minimize(): Promise<void> {\r\n        if (!window.glue42gd) {\r\n            throw new Error(\"State operations are not supported in Glue42 Core\");\r\n        }\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.changeFrameState(myId, \"minimized\");\r\n    }\r\n\r\n    public async maximize(): Promise<void> {\r\n        if (!window.glue42gd) {\r\n            throw new Error(\"State operations are not supported in Glue42 Core\");\r\n        }\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.changeFrameState(myId, \"maximized\");\r\n    }\r\n\r\n    public async restore(): Promise<void> {\r\n        if (!window.glue42gd) {\r\n            throw new Error(\"State operations are not supported in Glue42 Core\");\r\n        }\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.changeFrameState(myId, \"normal\");\r\n    }\r\n\r\n    public close(): Promise<void> {\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.closeItem(myId);\r\n    }\r\n\r\n    public snapshot(): Promise<Glue42Workspaces.FrameSnapshot> {\r\n        const myId = getData(this).summary.id;\r\n        return getData(this).controller.getSnapshot(myId, \"frame\");\r\n    }\r\n\r\n    public async workspaces(): Promise<Glue42Workspaces.Workspace[]> {\r\n        const controller = getData(this).controller;\r\n        return controller.getWorkspaces((wsp) => wsp.frameId === this.id);\r\n    }\r\n\r\n    public async restoreWorkspace(name: string, options?: Glue42Workspaces.RestoreWorkspaceConfig): Promise<Glue42Workspaces.Workspace> {\r\n        nonEmptyStringDecoder.runWithException(name);\r\n        const validatedOptions = restoreWorkspaceConfigDecoder.runWithException(options);\r\n\r\n        return getData(this).controller.restoreWorkspace(name, validatedOptions);\r\n    }\r\n\r\n    public createWorkspace(definition: Glue42Workspaces.WorkspaceDefinition, config?: Glue42Workspaces.WorkspaceCreateConfig): Promise<Glue42Workspaces.Workspace> {\r\n        const validatedDefinition = workspaceDefinitionDecoder.runWithException(definition);\r\n        const validatedConfig = workspaceBuilderCreateConfigDecoder.runWithException(config);\r\n\r\n        return getData(this).controller.createWorkspace(validatedDefinition, validatedConfig);\r\n    }\r\n\r\n    public async onClosed(callback: (closed: { frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (payload: FrameStreamData): void => {\r\n            callback({ frameId: payload.frameSummary.id });\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"closed\",\r\n            eventType: \"frame\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onMaximized(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (): void => {\r\n            callback();\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"maximized\",\r\n            eventType: \"frame\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onMinimized(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (): void => {\r\n            callback();\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"minimized\",\r\n            eventType: \"frame\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onNormal(callback: () => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (): void => {\r\n            callback();\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"normal\",\r\n            eventType: \"frame\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWorkspaceOpened(callback: (workspace: Glue42Workspaces.Workspace) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = async (payload: WorkspaceStreamData): Promise<void> => {\r\n            const workspace = await getData(this).controller.getWorkspace((wsp) => wsp.id === payload.workspaceSummary.id);\r\n            callback(workspace);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"opened\",\r\n            eventType: \"workspace\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWorkspaceSelected(callback: (workspace: Glue42Workspaces.Workspace) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = async (payload: WorkspaceStreamData): Promise<void> => {\r\n            const workspace = await getData(this).controller.getWorkspace((wsp) => wsp.id === payload.workspaceSummary.id);\r\n            callback(workspace);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"selected\",\r\n            eventType: \"workspace\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWorkspaceClosed(callback: (closed: { frameId: string; workspaceId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (payload: WorkspaceStreamData): void => {\r\n            callback({ frameId: payload.frameSummary.id, workspaceId: payload.workspaceSummary.id });\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"closed\",\r\n            eventType: \"workspace\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowAdded(callback: (window: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            const foundParent = await getData(this).controller.getParent((parent) => parent.id === payload.windowSummary.parentId);\r\n            const foundWindow = foundParent.children.find((child) => child.type === \"window\" && child.positionIndex === payload.windowSummary.config.positionIndex);\r\n            callback(foundWindow as Glue42Workspaces.WorkspaceWindow);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"added\",\r\n            eventType: \"window\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowRemoved(callback: (removed: { windowId?: string; workspaceId: string; frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = (payload: WindowStreamData): void => {\r\n            const { windowId, workspaceId, frameId } = payload.windowSummary.config;\r\n            callback({ windowId, workspaceId, frameId });\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"removed\",\r\n            eventType: \"window\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n\r\n    public async onWindowLoaded(callback: (window: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> {\r\n        checkThrowCallback(callback);\r\n        const myId = getData(this).summary.id;\r\n\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            const foundParent = await getData(this).controller.getParent((parent) => {\r\n                return parent.id === payload.windowSummary.parentId;\r\n            });\r\n            const foundWindow = foundParent.children.find((child) => child.type === \"window\" && child.positionIndex === payload.windowSummary.config.positionIndex);\r\n            callback(foundWindow as Glue42Workspaces.WorkspaceWindow);\r\n        };\r\n\r\n        const config: SubscriptionConfig = {\r\n            callback: wrappedCallback,\r\n            action: \"loaded\",\r\n            eventType: \"window\",\r\n            scope: \"frame\"\r\n        };\r\n        const unsubscribe = await getData(this).controller.processLocalSubscription(config, myId);\r\n        return unsubscribe;\r\n    }\r\n}\r\n","import { Row } from \"../models/row\";\r\nimport { Column } from \"../models/column\";\r\nimport { Group } from \"../models/group\";\r\nimport { ParentPrivateData, WorkspacePrivateData, WindowPrivateData, FramePrivateData, RemapChildData, RemapWorkspaceData } from \"../types/privateData\";\r\nimport { Workspace } from \"../models/workspace\";\r\nimport { Window } from \"../models/window\";\r\nimport { Frame } from \"../models/frame\";\r\nimport { SwimlaneWindowSnapshotConfig, ParentSnapshotConfig, FrameSummaryResult } from \"../types/protocol\";\r\nimport { Child, SubParentTypes } from \"../types/builders\";\r\n\r\nexport class PrivateDataManager {\r\n    private readonly parentsData = new WeakMap<SubParentTypes, ParentPrivateData>();\r\n    private readonly workspacesData = new WeakMap<Workspace, WorkspacePrivateData>();\r\n    private readonly windowsData = new WeakMap<Window, WindowPrivateData>();\r\n    private readonly framesData = new WeakMap<Frame, FramePrivateData>();\r\n    // Without this collection there is no way to get a window instance before its loaded\r\n    // e.g addWindow returns a window however this window doesn't have a placement id needed for force load\r\n    private readonly windowPlacementIdData: { [key: string]: Window } = {};\r\n\r\n    public deleteData<T>(model: T): void {\r\n        if (model instanceof Window) {\r\n            const keyForDeleting =\r\n                Object.keys(this.windowPlacementIdData)\r\n                    .find((k) => this.windowPlacementIdData[k] === model);\r\n\r\n            if (keyForDeleting) {\r\n                delete this.windowPlacementIdData[keyForDeleting];\r\n            }\r\n\r\n            this.windowsData.delete(model);\r\n        }\r\n\r\n        if (model instanceof Workspace) {\r\n            this.workspacesData.delete(model);\r\n        }\r\n\r\n        if (model instanceof Row || model instanceof Column || model instanceof Group) {\r\n            this.parentsData.delete(model);\r\n        }\r\n\r\n        if (model instanceof Frame) {\r\n            this.framesData.delete(model);\r\n        }\r\n    }\r\n\r\n    public setWindowData(model: Window, data: WindowPrivateData): void {\r\n\r\n        this.windowPlacementIdData[data.id] = model;\r\n        this.windowsData.set(model, data);\r\n    }\r\n\r\n    public setWorkspaceData(model: Workspace, data: WorkspacePrivateData): void {\r\n        this.workspacesData.set(model, data);\r\n    }\r\n\r\n    public setParentData(model: SubParentTypes, data: ParentPrivateData): void {\r\n        this.parentsData.set(model, data);\r\n    }\r\n\r\n    public setFrameData(model: Frame, data: FramePrivateData): void {\r\n        this.framesData.set(model, data);\r\n    }\r\n\r\n    public getWindowData(model: Window): WindowPrivateData {\r\n        return this.windowsData.get(model);\r\n    }\r\n\r\n    public getWindowByPlacementId(placementId: string): Window {\r\n        return this.windowPlacementIdData[placementId];\r\n    }\r\n\r\n    public getWorkspaceData(model: Workspace): WorkspacePrivateData {\r\n        return this.workspacesData.get(model);\r\n    }\r\n\r\n    public getParentData(model: SubParentTypes): ParentPrivateData {\r\n        return this.parentsData.get(model);\r\n    }\r\n\r\n    public getFrameData(model: Frame): FramePrivateData {\r\n        return this.framesData.get(model);\r\n    }\r\n\r\n    public remapChild(model: Child, newData: RemapChildData): void {\r\n        if (model instanceof Window) {\r\n            const data = this.windowsData.get(model);\r\n            data.parent = newData.parent || data.parent;\r\n            data.config = newData.config as SwimlaneWindowSnapshotConfig || data.config;\r\n        }\r\n\r\n        if (model instanceof Row || model instanceof Column || model instanceof Group) {\r\n            const data = this.parentsData.get(model);\r\n            data.parent = newData.parent || data.parent;\r\n            data.config = newData.config as ParentSnapshotConfig || data.config;\r\n            data.children = newData.children || data.children;\r\n        }\r\n    }\r\n\r\n    public remapFrame(model: Frame, newData: FrameSummaryResult): void {\r\n        const data = this.framesData.get(model);\r\n        data.summary = newData;\r\n    }\r\n\r\n    public remapWorkspace(model: Workspace, newData: RemapWorkspaceData): void {\r\n        const data = this.workspacesData.get(model);\r\n        data.frame = newData.frame || data.frame;\r\n        data.config = newData.config || data.config;\r\n        data.children = newData.children || data.children;\r\n    }\r\n}\r\n","import { Workspace } from \"../workspace\";\r\nimport { ParentBuilder } from \"../../builders/parentBuilder\";\r\nimport { strictParentDefinitionDecoder, swimlaneWindowDefinitionDecoder, checkThrowCallback } from \"../../shared/decoders\";\r\nimport { SubParent, AllParentTypes, Child, SubParentTypes, AllParent, ContainerLockConfig } from \"../../types/builders\";\r\nimport { PrivateDataManager } from \"../../shared/privateDataManager\";\r\nimport { ParentPrivateData, WorkspacePrivateData } from \"../../types/privateData\";\r\nimport { Window } from \"../../models/window\";\r\nimport { Glue42Workspaces } from \"../../../workspaces\";\r\nimport { Group } from \"../group\";\r\n\r\ninterface PrivateData {\r\n    manager: PrivateDataManager;\r\n}\r\n\r\nconst data = new WeakMap<Base, PrivateData>();\r\n\r\nconst getData = (base: Base, model: AllParentTypes): WorkspacePrivateData | ParentPrivateData => {\r\n    const manager = data.get(base).manager;\r\n\r\n    if (model instanceof Workspace) {\r\n        return manager.getWorkspaceData(model);\r\n    }\r\n\r\n    return data.get(base).manager.getParentData(model as SubParentTypes);\r\n};\r\n\r\nconst getWindowFromPlacementId = (base: Base, placemenId: string): Window => {\r\n    const manager = data.get(base).manager;\r\n\r\n    return manager.getWindowByPlacementId(placemenId);\r\n};\r\n\r\nexport class Base {\r\n    public frameId: string;\r\n    public workspaceId: string;\r\n    public positionIndex: number;\r\n\r\n    constructor(dataManager: PrivateDataManager) {\r\n        data.set(this, { manager: dataManager });\r\n    }\r\n\r\n    public getId(model: AllParentTypes): string {\r\n        return getData(this, model).id;\r\n    }\r\n\r\n    public getPositionIndex(model: AllParentTypes): number {\r\n        return getData(this, model).config.positionIndex;\r\n    }\r\n\r\n    public getWorkspaceId(model: AllParentTypes): string {\r\n        const privateData = getData(this, model) as ParentPrivateData;\r\n        return privateData.config.workspaceId || privateData.workspace.id;\r\n    }\r\n\r\n    public getFrameId(model: AllParentTypes): string {\r\n        return getData(this, model).frame.id;\r\n    }\r\n\r\n    public getAllChildren(model: AllParentTypes, predicate?: (child: Child) => boolean): Child[] {\r\n        checkThrowCallback(predicate, true);\r\n        const children = getData(this, model).children;\r\n\r\n        if (typeof predicate === \"undefined\") {\r\n            return children;\r\n        }\r\n\r\n        return children.filter(predicate);\r\n    }\r\n\r\n    public getMyParent(model: AllParentTypes): AllParentTypes {\r\n        if (model instanceof Workspace) {\r\n            return;\r\n        }\r\n        return (getData(this, model) as ParentPrivateData).parent;\r\n    }\r\n\r\n    public getMyFrame(model: AllParentTypes): Glue42Workspaces.Frame {\r\n        return getData(this, model).frame;\r\n    }\r\n\r\n    public getMyWorkspace(model: AllParentTypes): Workspace {\r\n        if (model instanceof Workspace) {\r\n            return;\r\n        }\r\n        return (getData(this, model) as ParentPrivateData).workspace;\r\n    }\r\n\r\n    public async addWindow(model: AllParentTypes, definition: Glue42Workspaces.WorkspaceWindowDefinition, parentType: AllParent): Promise<Glue42Workspaces.WorkspaceWindow> {\r\n        if (!definition.appName && !definition.windowId) {\r\n            throw new Error(\"The window definition should contain either an appName or a windowId\");\r\n        }\r\n\r\n        const validatedDefinition = swimlaneWindowDefinitionDecoder.runWithException(definition);\r\n        const controller = getData(this, model).controller;\r\n\r\n        const operationResult = await controller.add(\"window\", getData(this, model).id, parentType, validatedDefinition);\r\n\r\n        if (model instanceof Workspace) {\r\n            await model.refreshReference();\r\n            return getWindowFromPlacementId(this, operationResult.itemId);\r\n        }\r\n\r\n        await this.getMyWorkspace(model).refreshReference();\r\n\r\n        return getWindowFromPlacementId(this, operationResult.itemId);\r\n    }\r\n\r\n    public async addParent<T>(model: AllParentTypes, typeToAdd: SubParent, parentType: AllParent, definition?: Glue42Workspaces.BoxDefinition | ParentBuilder): Promise<T> {\r\n        const parentDefinition = this.transformDefinition(typeToAdd, definition);\r\n        const controller = getData(this, model).controller;\r\n\r\n        const newParentId = (await controller.add(\"container\", getData(this, model).id, parentType, parentDefinition)).itemId;\r\n\r\n        if (model instanceof Workspace) {\r\n            await model.refreshReference();\r\n            return model.getBox((parent) => parent.id === newParentId) as unknown as T;\r\n        }\r\n\r\n        const myWorkspace = this.getMyWorkspace(model);\r\n        await myWorkspace.refreshReference();\r\n\r\n        return myWorkspace.getBox((parent) => parent.id === newParentId) as unknown as T;\r\n    }\r\n\r\n    public async removeChild(model: AllParentTypes, predicate: (child: Child) => boolean): Promise<void> {\r\n        checkThrowCallback(predicate);\r\n        const child = this.getAllChildren(model).find(predicate);\r\n        if (!child) {\r\n            return;\r\n        }\r\n\r\n        await child.close();\r\n\r\n        if (model instanceof Workspace) {\r\n\r\n            await model.refreshReference();\r\n            return;\r\n        }\r\n\r\n        await this.getMyWorkspace(model).refreshReference();\r\n    }\r\n\r\n    public async maximize(model: AllParentTypes): Promise<void> {\r\n        const controller = getData(this, model).controller;\r\n\r\n        await controller.maximizeItem(getData(this, model).id);\r\n    }\r\n\r\n    public async restore(model: AllParentTypes): Promise<void> {\r\n        const controller = getData(this, model).controller;\r\n\r\n        await controller.restoreItem(getData(this, model).id);\r\n    }\r\n\r\n    public async close(model: SubParentTypes): Promise<void> {\r\n        const modelData = getData(this, model) as ParentPrivateData;\r\n\r\n        const controller = getData(this, model).controller;\r\n\r\n        await controller.closeItem(modelData.id);\r\n\r\n        if (modelData.parent instanceof Workspace) {\r\n            await modelData.parent.refreshReference();\r\n        } else {\r\n            await this.getMyWorkspace(modelData.parent).refreshReference();\r\n        }\r\n    }\r\n\r\n    public async lockContainer(model: SubParentTypes, config?: ContainerLockConfig) {\r\n        const modelData = getData(this, model) as ParentPrivateData;\r\n\r\n        const controller = getData(this, model).controller;\r\n\r\n        await controller.lockContainer(modelData.id, model.type, config);\r\n\r\n        if (modelData.parent instanceof Workspace) {\r\n            await modelData.parent.refreshReference();\r\n        } else {\r\n            await this.getMyWorkspace(modelData.parent).refreshReference();\r\n        }\r\n    }\r\n\r\n    public getAllowDrop(model: SubParentTypes) {\r\n        return getData(this, model).config.allowDrop;\r\n    }\r\n\r\n    public getAllowExtract(model: Group) {\r\n        const privateData = getData(this, model);\r\n        if (privateData.type !== \"group\") {\r\n            throw new Error(`Cannot get allow extract from private data${privateData.type} with config ${privateData.type !== \"workspace\" ? privateData.config.type : \"\"}`);\r\n        }\r\n        return privateData.config.allowExtract;\r\n    }\r\n\r\n    public getShowMaximizeButton(model: Group) {\r\n        const privateData = getData(this, model);\r\n        if (privateData.type !== \"group\") {\r\n            throw new Error(`Cannot get show maximize button from private data${privateData.type} with config ${privateData.type !== \"workspace\" ? privateData.config.type : \"\"}`);\r\n        }\r\n        return privateData.config.showMaximizeButton;\r\n    }\r\n\r\n    public getShowEjectButton(model: Group) {\r\n        const privateData = getData(this, model);\r\n        if (privateData.type !== \"group\") {\r\n            throw new Error(`Cannot get show eject button from private data${privateData.type} with config ${privateData.type !== \"workspace\" ? privateData.config.type : \"\"}`);\r\n        }\r\n        return privateData.config.showEjectButton;\r\n    }\r\n\r\n    public getShowAddWindowButton(model: Group) {\r\n        const privateData = getData(this, model);\r\n        if (privateData.type !== \"group\") {\r\n            throw new Error(`Cannot get add window button from private data${privateData.type} with config ${privateData.type !== \"workspace\" ? privateData.config.type : \"\"}`);\r\n        }\r\n        return privateData.config.showAddWindowButton;\r\n    }\r\n\r\n    private transformDefinition(type: \"group\" | \"row\" | \"column\", definition?: Glue42Workspaces.BoxDefinition | ParentBuilder): Glue42Workspaces.BoxDefinition {\r\n        let parentDefinition: Glue42Workspaces.BoxDefinition;\r\n\r\n        if (typeof definition === \"undefined\") {\r\n            parentDefinition = { type, children: [] };\r\n        } else if (definition instanceof ParentBuilder) {\r\n            parentDefinition = definition.serialize();\r\n        } else {\r\n            if (typeof definition.type === \"undefined\") {\r\n                definition.type = type;\r\n            }\r\n            parentDefinition = strictParentDefinitionDecoder.runWithException(definition);\r\n            parentDefinition.children = parentDefinition.children || [];\r\n        }\r\n\r\n        return parentDefinition;\r\n    }\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Workspace } from \"../models/workspace\";\r\nimport { WorkspaceSnapshotResult, WorkspaceCreateConfigProtocol, FrameSummaryResult, AddItemResult, WorkspaceSummariesResult, WorkspaceSummaryResult, SimpleWindowOperationSuccessResult, FrameSnapshotResult } from \"../types/protocol\";\r\nimport { OPERATIONS } from \"../communication/constants\";\r\nimport { FrameCreateConfig, WorkspaceIoCCreateConfig, WindowCreateConfig, ParentCreateConfig } from \"../types/ioc\";\r\nimport { IoC } from \"../shared/ioc\";\r\nimport { Bridge } from \"../communication/bridge\";\r\nimport { GDWindow, WindowsAPI, ContextsAPI, LayoutsAPI } from \"../types/glue\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { Frame } from \"../models/frame\";\r\nimport { RefreshChildrenConfig } from \"../types/privateData\";\r\nimport { AllParentTypes, Child, ContainerLockConfig, SubParentTypes } from \"../types/builders\";\r\nimport { PrivateDataManager } from \"../shared/privateDataManager\";\r\nimport { Window } from \"../models/window\";\r\nimport { UnsubscribeFunction } from \"callback-registry\";\r\nimport { WorkspaceLockConfig, WorkspaceWindowLockConfig } from \"../types/temp\";\r\n\r\nexport class BaseController {\r\n\r\n    constructor(\r\n        private readonly ioc: IoC,\r\n        private readonly windows: WindowsAPI,\r\n        private readonly contexts: ContextsAPI,\r\n        private readonly layouts: LayoutsAPI,\r\n    ) { }\r\n\r\n    private get bridge(): Bridge {\r\n        return this.ioc.bridge;\r\n    }\r\n\r\n    private get privateDataManager(): PrivateDataManager {\r\n        return this.ioc.privateDataManager;\r\n    }\r\n\r\n    public checkIsWindowLoaded(windowId: string): boolean {\r\n        return windowId && this.windows.list().some((win) => win.id === windowId);\r\n    }\r\n\r\n    public async createWorkspace(createConfig: WorkspaceCreateConfigProtocol): Promise<Workspace> {\r\n        const snapshot = await this.bridge.send<WorkspaceSnapshotResult>(OPERATIONS.createWorkspace.name, createConfig);\r\n\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: snapshot.frameSummary\r\n        };\r\n        const frame = this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n        const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n        return this.ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n    }\r\n\r\n    public async restoreWorkspace(name: string, options: Glue42Workspaces.RestoreWorkspaceConfig): Promise<Workspace> {\r\n        const snapshot = await this.bridge.send<WorkspaceSnapshotResult>(OPERATIONS.openWorkspace.name, { name, restoreOptions: options });\r\n\r\n        const frameSummary = await this.bridge.send<FrameSummaryResult>(OPERATIONS.getFrameSummary.name, { itemId: snapshot.config.frameId });\r\n\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: frameSummary\r\n        };\r\n        const frame = this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n        const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n        return this.ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n    }\r\n\r\n    public async add(type: \"container\" | \"window\", parentId: string, parentType: \"row\" | \"column\" | \"group\" | \"workspace\", definition: Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition): Promise<AddItemResult> {\r\n        let operationName: string;\r\n        const operationArgs = { definition, parentId, parentType };\r\n\r\n        if (type === \"window\") {\r\n            operationName = OPERATIONS.addWindow.name;\r\n        } else if (type === \"container\") {\r\n            operationName = OPERATIONS.addContainer.name;\r\n        } else {\r\n            throw new Error(`Unrecognized add type: ${type}`);\r\n        }\r\n\r\n        return await this.bridge.send<AddItemResult>(operationName, operationArgs);\r\n    }\r\n\r\n    public async getFrame(windowId: string): Promise<Frame> {\r\n        const frameSummary = await this.bridge.send<FrameSummaryResult>(OPERATIONS.getFrameSummary.name, { itemId: windowId });\r\n\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: frameSummary\r\n        };\r\n        return this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n    }\r\n\r\n    public getFrames(allFrameSummaries: FrameSummaryResult[], predicate?: (frame: Frame) => boolean): Frame[] {\r\n\r\n        return allFrameSummaries.reduce<Frame[]>((frames, frameSummary) => {\r\n\r\n            const frameConfig: FrameCreateConfig = {\r\n                summary: frameSummary\r\n            };\r\n            const frameToCheck = this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n            if (!predicate || predicate(frameToCheck)) {\r\n                frames.push(frameToCheck);\r\n            }\r\n\r\n            return frames;\r\n        }, []);\r\n    }\r\n\r\n    public getAllWorkspaceSummaries(...bridgeResults: WorkspaceSummariesResult[]): Glue42Workspaces.WorkspaceSummary[] {\r\n\r\n        const allSummaries = bridgeResults.reduce<WorkspaceSummaryResult[]>((summaries, summaryResult) => {\r\n            summaries.push(...summaryResult.summaries);\r\n            return summaries;\r\n        }, []);\r\n\r\n        return allSummaries.map<Glue42Workspaces.WorkspaceSummary>((summary) => {\r\n            return {\r\n                id: summary.id,\r\n                frameId: summary.config.frameId,\r\n                positionIndex: summary.config.positionIndex,\r\n                title: summary.config.title,\r\n                layoutName: summary.config.layoutName\r\n            };\r\n        });\r\n    }\r\n\r\n    public handleOnSaved(callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): UnsubscribeFunction {\r\n        const wrappedCallback = (layout: Glue42Workspaces.WorkspaceLayout): void => {\r\n            if (layout.type !== \"Workspace\") {\r\n                return;\r\n            }\r\n\r\n            callback(layout);\r\n        };\r\n\r\n        const addedUnSub: UnsubscribeFunction = this.layouts.onAdded(wrappedCallback);\r\n        const changedUnSub: UnsubscribeFunction = this.layouts.onChanged(wrappedCallback);\r\n\r\n        return (): void => {\r\n            addedUnSub();\r\n            changedUnSub();\r\n        };\r\n    }\r\n\r\n    public handleOnRemoved(callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): UnsubscribeFunction {\r\n        const wrappedCallback = (layout: Glue42Workspaces.WorkspaceLayout): void => {\r\n            if (layout.type !== \"Workspace\") {\r\n                return;\r\n            }\r\n\r\n            callback(layout);\r\n        };\r\n\r\n        return this.layouts.onRemoved(wrappedCallback);\r\n    }\r\n\r\n    public async fetchWorkspace(workspaceId: string): Promise<Workspace> {\r\n\r\n        const snapshot = await this.bridge.send<WorkspaceSnapshotResult>(OPERATIONS.getWorkspaceSnapshot.name, { itemId: workspaceId });\r\n\r\n        const frameConfig: FrameCreateConfig = {\r\n            summary: snapshot.frameSummary\r\n        };\r\n\r\n        const frame = this.ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n        const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n        return this.ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n\r\n    }\r\n\r\n    public async bundleTo(type: \"row\" | \"column\", workspaceId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.bundleWorkspace.name, { type, workspaceId });\r\n    }\r\n\r\n    public getWorkspaceContext(workspaceId: string): Promise<any> {\r\n        const contextName = `___workspace___${workspaceId}`;\r\n        return this.contexts.get(contextName);\r\n    }\r\n\r\n    public setWorkspaceContext(workspaceId: string, data: any): Promise<void> {\r\n        const contextName = `___workspace___${workspaceId}`;\r\n        return this.contexts.set(contextName, data);\r\n    }\r\n\r\n    public updateWorkspaceContext(workspaceId: string, data: any): Promise<void> {\r\n        const contextName = `___workspace___${workspaceId}`;\r\n        return this.contexts.update(contextName, data);\r\n    }\r\n\r\n    public subscribeWorkspaceContextUpdated(workspaceId: string, callback: (data: any) => void): Promise<UnsubscribeFunction> {\r\n        const contextName = `___workspace___${workspaceId}`;\r\n        return this.contexts.subscribe(contextName, callback);\r\n    }\r\n\r\n    public async restoreItem(itemId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.restoreItem.name, { itemId });\r\n    }\r\n\r\n    public async maximizeItem(itemId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.maximizeItem.name, { itemId });\r\n    }\r\n\r\n    public async focusItem(itemId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.focusItem.name, { itemId });\r\n    }\r\n\r\n    public async closeItem(itemId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.closeItem.name, { itemId });\r\n    }\r\n\r\n    public async resizeItem(itemId: string, config: Glue42Workspaces.ResizeConfig): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.resizeItem.name, Object.assign({}, { itemId }, config));\r\n    }\r\n\r\n    public async moveFrame(itemId: string, config: Glue42Workspaces.MoveConfig): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.moveFrame.name, Object.assign({}, { itemId }, config));\r\n    }\r\n\r\n    public getGDWindow(itemId: string): GDWindow {\r\n        return this.windows.list().find((gdWindow) => gdWindow.id === itemId);\r\n    }\r\n\r\n    public async forceLoadWindow(itemId: string): Promise<string> {\r\n        const controlResult = await this.bridge.send<SimpleWindowOperationSuccessResult>(OPERATIONS.forceLoadWindow.name, { itemId });\r\n\r\n        return controlResult.windowId;\r\n    }\r\n\r\n    public async ejectWindow(itemId: string): Promise<SimpleWindowOperationSuccessResult> {\r\n        return await this.bridge.send<SimpleWindowOperationSuccessResult>(OPERATIONS.ejectWindow.name, { itemId });\r\n    }\r\n\r\n    public async moveWindowTo(itemId: string, newParentId: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.moveWindowTo.name, { itemId, containerId: newParentId });\r\n    }\r\n\r\n    public async getSnapshot(itemId: string, type: \"workspace\" | \"frame\"): Promise<WorkspaceSnapshotResult | FrameSnapshotResult> {\r\n        let result: WorkspaceSnapshotResult | FrameSnapshotResult;\r\n\r\n        if (type === \"workspace\") {\r\n            result = await this.bridge.send<WorkspaceSnapshotResult>(OPERATIONS.getWorkspaceSnapshot.name, { itemId });\r\n        } else if (type === \"frame\") {\r\n            result = await this.bridge.send<FrameSnapshotResult>(OPERATIONS.getFrameSnapshot.name, { itemId });\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    public async setItemTitle(itemId: string, title: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.setItemTitle.name, { itemId, title });\r\n    }\r\n\r\n    public refreshChildren(config: RefreshChildrenConfig): Child[] {\r\n        const { parent, children, existingChildren, workspace } = config;\r\n        if (parent instanceof Window || (parent as Glue42Workspaces.WorkspaceWindow).type === \"window\") {\r\n            return;\r\n        }\r\n\r\n        const newChildren = children.map((newChildSnapshot) => {\r\n            let childToAdd = existingChildren.find((child) => {\r\n                return child.type === \"window\" ? child.elementId === newChildSnapshot.id : child.id === newChildSnapshot.id;\r\n            });\r\n\r\n            if (childToAdd) {\r\n                this.privateDataManager.remapChild(childToAdd, {\r\n                    parent: parent as AllParentTypes,\r\n                    children: [],\r\n                    config: newChildSnapshot.config\r\n                });\r\n            } else {\r\n                let createConfig: WindowCreateConfig | ParentCreateConfig;\r\n                \r\n                if (newChildSnapshot.type === \"window\") {\r\n                    createConfig = {\r\n                        id: newChildSnapshot.id,\r\n                        parent: parent as AllParentTypes,\r\n                        frame: workspace.frame,\r\n                        workspace,\r\n                        config: newChildSnapshot.config,\r\n                    } as WindowCreateConfig;\r\n                } else {\r\n                    createConfig = {\r\n                        id: newChildSnapshot.id,\r\n                        parent: parent as AllParentTypes,\r\n                        frame: workspace.frame,\r\n                        workspace,\r\n                        config: newChildSnapshot.config,\r\n                        children: []\r\n                    } as ParentCreateConfig;\r\n                }\r\n\r\n                childToAdd = this.ioc.getModel<\"child\">(newChildSnapshot.type, createConfig);\r\n            }\r\n\r\n            if (newChildSnapshot.type !== \"window\") {\r\n                this.refreshChildren({\r\n                    workspace, existingChildren,\r\n                    children: newChildSnapshot.children,\r\n                    parent: childToAdd\r\n                });\r\n            }\r\n\r\n            return childToAdd;\r\n        });\r\n\r\n        if (parent instanceof Workspace) {\r\n            return newChildren;\r\n        } else {\r\n            this.privateDataManager.remapChild(parent as SubParentTypes, { children: newChildren });\r\n            return newChildren;\r\n        }\r\n    }\r\n\r\n    public iterateFindChild(children: Child[], predicate: (child: Child) => boolean): Child {\r\n        let foundChild = children.find((child) => predicate(child));\r\n\r\n        if (foundChild) {\r\n            return foundChild;\r\n        }\r\n\r\n        children.some((child) => {\r\n            if (child instanceof Window) {\r\n                return false;\r\n            }\r\n\r\n            foundChild = this.iterateFindChild((child as SubParentTypes).children, predicate);\r\n\r\n            if (foundChild) {\r\n                return true;\r\n            }\r\n        });\r\n\r\n        return foundChild;\r\n    }\r\n\r\n    public iterateFilterChildren(children: Child[], predicate: (child: Child) => boolean): Child[] {\r\n        const foundChildren = children.filter((child) => predicate(child));\r\n\r\n        const grandChildren = children.reduce<Child[]>((innerFound, child) => {\r\n            if (child instanceof Window) {\r\n                return innerFound;\r\n            }\r\n\r\n            innerFound.push(...this.iterateFilterChildren((child as SubParentTypes).children, predicate));\r\n\r\n            return innerFound;\r\n        }, []);\r\n\r\n        foundChildren.push(...grandChildren);\r\n\r\n        return foundChildren;\r\n    }\r\n\r\n    public notifyWindowAdded(windowId: string): Promise<void> {\r\n        return new Promise((resolve) => {\r\n\r\n            const alreadyPresent: boolean = this.windows.list().some((win) => win.id === windowId);\r\n\r\n            if (alreadyPresent) {\r\n                return resolve();\r\n            }\r\n\r\n            const unsubscribe: UnsubscribeFunction = this.windows.onWindowAdded((win) => {\r\n\r\n                if (win.id !== windowId) {\r\n                    return;\r\n                }\r\n\r\n                if (unsubscribe) {\r\n                    unsubscribe();\r\n                }\r\n\r\n                resolve();\r\n            });\r\n        });\r\n    }\r\n\r\n    public async hibernateWorkspace(workspaceId: string): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.hibernateWorkspace.name, { workspaceId });\r\n    }\r\n\r\n    public async resumeWorkspace(workspaceId: string): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.resumeWorkspace.name, { workspaceId });\r\n    }\r\n\r\n    public async lockWorkspace(workspaceId: string, config?: WorkspaceLockConfig): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.lockWorkspace.name, { workspaceId, config });\r\n    }\r\n\r\n    public async lockWindow(windowPlacementId: string, config?: WorkspaceWindowLockConfig): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.lockWindow.name, { windowPlacementId, config });\r\n    }\r\n\r\n    public async lockContainer(itemId: string, type: SubParentTypes[\"type\"], config?: ContainerLockConfig): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.lockContainer.name, { itemId, type, config });\r\n    }\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Bridge } from \"../communication/bridge\";\r\nimport { IsWindowInSwimlaneResult, WorkspaceCreateConfigProtocol, WorkspaceSnapshotResult, FrameSummariesResult, WorkspaceSummariesResult, LayoutSummariesResult, ExportedLayoutsResult, FrameSnapshotResult, AddItemResult, WindowStreamData, FrameStateResult } from \"../types/protocol\";\r\nimport { OPERATIONS } from \"../communication/constants\";\r\nimport { SubscriptionConfig, WorkspaceEventType, WorkspaceEventAction } from \"../types/subscription\";\r\nimport { Workspace } from \"../models/workspace\";\r\nimport { Frame } from \"../models/frame\";\r\nimport { Child, ContainerLockConfig, SubParentTypes } from \"../types/builders\";\r\nimport { RefreshChildrenConfig } from \"../types/privateData\";\r\nimport { Glue42Workspaces } from \"../../workspaces\";\r\nimport { WorkspacesController } from \"../types/controller\";\r\nimport { GDWindow } from \"../types/glue\";\r\nimport { BaseController } from \"./base\";\r\nimport { UnsubscribeFunction } from \"callback-registry\";\r\nimport { WorkspaceLockConfig, WorkspaceWindowLockConfig } from \"../types/temp\";\r\n\r\nexport class MainController implements WorkspacesController {\r\n\r\n    constructor(\r\n        private readonly bridge: Bridge,\r\n        private readonly base: BaseController\r\n    ) { }\r\n\r\n    public checkIsWindowLoaded(windowId: string): boolean {\r\n        return this.base.checkIsWindowLoaded(windowId);\r\n    }\r\n\r\n    public async checkIsInSwimlane(windowId: string): Promise<boolean> {\r\n\r\n        const controlResult = await this.bridge.send<IsWindowInSwimlaneResult>(OPERATIONS.isWindowInWorkspace.name, { itemId: windowId });\r\n\r\n        return controlResult.inWorkspace;\r\n    }\r\n\r\n    public async createWorkspace(definition: Glue42Workspaces.WorkspaceDefinition, saveConfig?: Glue42Workspaces.WorkspaceCreateConfig): Promise<Workspace> {\r\n        const createConfig: WorkspaceCreateConfigProtocol = Object.assign({}, definition, { saveConfig });\r\n\r\n        return await this.base.createWorkspace(createConfig);\r\n    }\r\n\r\n    public async restoreWorkspace(name: string, options?: Glue42Workspaces.RestoreWorkspaceConfig): Promise<Workspace> {\r\n        const allLayouts = await this.getLayoutSummaries();\r\n\r\n        const layoutExists = allLayouts.some((summary) => summary.name === name);\r\n\r\n        if (!layoutExists) {\r\n            throw new Error(`This layout: ${name} cannot be restored, because it doesn't exist.`);\r\n        }\r\n\r\n        if (options?.frameId) {\r\n            const allFrameSummaries = await this.bridge.send<FrameSummariesResult>(OPERATIONS.getAllFramesSummaries.name);\r\n\r\n            const foundMatchingFrame = allFrameSummaries.summaries.some((summary) => summary.id === options.frameId);\r\n\r\n            if (!foundMatchingFrame) {\r\n                throw new Error(`Cannot reuse the frame with id: ${options.frameId}, because there is no frame with that ID found`);\r\n            }\r\n        }\r\n\r\n        return await this.base.restoreWorkspace(name, options);\r\n    }\r\n\r\n    public async add(type: \"container\" | \"window\", parentId: string, parentType: \"row\" | \"column\" | \"group\" | \"workspace\", definition: Glue42Workspaces.WorkspaceWindowDefinition | Glue42Workspaces.BoxDefinition): Promise<AddItemResult> {\r\n        return await this.base.add(type, parentId, parentType, definition);\r\n    }\r\n\r\n    public processLocalSubscription(config: SubscriptionConfig, levelId: string): Promise<Glue42Workspaces.Unsubscribe> {\r\n        return window.glue42gd ?\r\n            this.handleEnterpriseLocalSubscription(config, levelId) :\r\n            this.handleCoreLocalSubscription(config, levelId);\r\n    }\r\n\r\n    public processGlobalSubscription(callback: (callbackData: unknown) => void, eventType: WorkspaceEventType, action: WorkspaceEventAction): Promise<Glue42Workspaces.Unsubscribe> {\r\n        return window.glue42gd ?\r\n            this.handleEnterpriseGlobalSubscription(callback, eventType, action) :\r\n            this.handleCoreGlobalSubscription(callback, eventType, action);\r\n    }\r\n\r\n    public async getFrame(selector: { windowId?: string; predicate?: (frame: Frame) => boolean }): Promise<Frame> {\r\n\r\n        if (selector.windowId) {\r\n            return await this.base.getFrame(selector.windowId);\r\n        }\r\n\r\n        if (selector.predicate) {\r\n            return (await this.getFrames(selector.predicate))[0];\r\n        }\r\n\r\n        throw new Error(`The provided selector is not valid: ${JSON.stringify(selector)}`);\r\n    }\r\n\r\n    public async getFrames(predicate?: (frame: Frame) => boolean): Promise<Frame[]> {\r\n\r\n        const allFrameSummaries = await this.bridge.send<FrameSummariesResult>(OPERATIONS.getAllFramesSummaries.name);\r\n\r\n        return this.base.getFrames(allFrameSummaries.summaries, predicate);\r\n    }\r\n\r\n    public async getWorkspace(predicate: (workspace: Workspace) => boolean): Promise<Workspace> {\r\n        let foundWorkspace: Workspace;\r\n\r\n        await this.iterateWorkspaces((wsp, end) => {\r\n            if (predicate(wsp)) {\r\n                foundWorkspace = wsp;\r\n                end();\r\n            }\r\n        });\r\n\r\n        return foundWorkspace;\r\n    }\r\n\r\n    public async getWorkspaces(predicate?: (workspace: Workspace) => boolean): Promise<Workspace[]> {\r\n        const matchingWorkspaces: Workspace[] = [] as Workspace[];\r\n\r\n        await this.iterateWorkspaces((wsp) => {\r\n            if (!predicate || predicate(wsp)) {\r\n                matchingWorkspaces.push(wsp);\r\n            }\r\n        });\r\n\r\n        return matchingWorkspaces;\r\n    }\r\n\r\n    public async getAllWorkspaceSummaries(): Promise<Glue42Workspaces.WorkspaceSummary[]> {\r\n\r\n        const allSummariesResult = await this.bridge.send<WorkspaceSummariesResult>(OPERATIONS.getAllWorkspacesSummaries.name, {});\r\n\r\n        return this.base.getAllWorkspaceSummaries(allSummariesResult);\r\n    }\r\n\r\n    public async getWindow(predicate: (swimlaneWindow: Glue42Workspaces.WorkspaceWindow) => boolean): Promise<Glue42Workspaces.WorkspaceWindow> {\r\n        let resultWindow: Glue42Workspaces.WorkspaceWindow;\r\n\r\n        await this.iterateWorkspaces((wsp, end) => {\r\n            const foundWindow = wsp.getWindow(predicate);\r\n\r\n            if (foundWindow) {\r\n                resultWindow = foundWindow;\r\n                end();\r\n            }\r\n        });\r\n\r\n        return resultWindow;\r\n    }\r\n\r\n    public async getParent(predicate: (parent: Glue42Workspaces.WorkspaceBox) => boolean): Promise<Glue42Workspaces.WorkspaceBox> {\r\n        let resultParent: Glue42Workspaces.WorkspaceBox;\r\n\r\n        await this.iterateWorkspaces((wsp, end) => {\r\n\r\n            const foundParent = wsp.getBox(predicate);\r\n\r\n            if (foundParent) {\r\n                resultParent = foundParent;\r\n                end();\r\n            }\r\n        });\r\n\r\n        return resultParent;\r\n    }\r\n\r\n    public async getLayoutSummaries(): Promise<Glue42Workspaces.WorkspaceLayoutSummary[]> {\r\n        const allLayouts = await this.bridge.send<LayoutSummariesResult>(OPERATIONS.getAllLayoutsSummaries.name);\r\n        return allLayouts.summaries;\r\n    }\r\n\r\n    public async deleteLayout(name: string): Promise<void> {\r\n        await this.bridge.send(OPERATIONS.deleteLayout.name, { name });\r\n    }\r\n\r\n    public async exportLayout(predicate?: (layout: Glue42Workspaces.WorkspaceLayout) => boolean): Promise<Glue42Workspaces.WorkspaceLayout[]> {\r\n        const allLayoutsResult = await this.bridge.send<ExportedLayoutsResult>(OPERATIONS.exportAllLayouts.name);\r\n        return allLayoutsResult.layouts.reduce<Glue42Workspaces.WorkspaceLayout[]>((matchingLayouts, layout) => {\r\n\r\n            if (!predicate || predicate(layout)) {\r\n                matchingLayouts.push(layout);\r\n            }\r\n\r\n            return matchingLayouts;\r\n        }, []);\r\n    }\r\n\r\n    public async saveLayout(config: Glue42Workspaces.WorkspaceLayoutSaveConfig): Promise<Glue42Workspaces.WorkspaceLayout> {\r\n        return await this.bridge.send(OPERATIONS.saveLayout.name, config);\r\n    }\r\n\r\n    public async importLayout(layouts: Glue42Workspaces.WorkspaceLayout[], mode: \"replace\" | \"merge\"): Promise<void> {\r\n\r\n        await Promise.all(layouts.map((layout) => this.bridge.send(OPERATIONS.importLayout.name, { layout, mode })));\r\n    }\r\n\r\n    public handleOnSaved(callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): UnsubscribeFunction {\r\n        return this.base.handleOnSaved(callback);\r\n    }\r\n\r\n    public handleOnRemoved(callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): UnsubscribeFunction {\r\n        return this.base.handleOnRemoved(callback);\r\n    }\r\n\r\n    public async bundleTo(type: \"row\" | \"column\", workspaceId: string): Promise<void> {\r\n        return await this.base.bundleTo(type, workspaceId);\r\n    }\r\n\r\n    public getWorkspaceContext(workspaceId: string): Promise<any> {\r\n        return this.base.getWorkspaceContext(workspaceId);\r\n    }\r\n\r\n    public setWorkspaceContext(workspaceId: string, data: any): Promise<void> {\r\n        return this.base.setWorkspaceContext(workspaceId, data);\r\n    }\r\n\r\n    public updateWorkspaceContext(workspaceId: string, data: any): Promise<void> {\r\n        return this.base.updateWorkspaceContext(workspaceId, data);\r\n    }\r\n\r\n    public subscribeWorkspaceContextUpdated(workspaceId: string, callback: (data: any) => void): Promise<import(\"callback-registry\").UnsubscribeFunction> {\r\n        return this.base.subscribeWorkspaceContextUpdated(workspaceId, callback);\r\n    }\r\n\r\n    public async restoreItem(itemId: string): Promise<void> {\r\n        return await this.base.restoreItem(itemId);\r\n    }\r\n\r\n    public async maximizeItem(itemId: string): Promise<void> {\r\n        return await this.base.maximizeItem(itemId);\r\n    }\r\n\r\n    public async focusItem(itemId: string): Promise<void> {\r\n        return await this.base.focusItem(itemId);\r\n    }\r\n\r\n    public async changeFrameState(frameId: string, state: Glue42Workspaces.FrameState): Promise<void> {\r\n        await this.bridge.send<void>(OPERATIONS.changeFrameState.name, { frameId, requestedState: state });\r\n    }\r\n\r\n    public async getFrameState(frameId: string): Promise<Glue42Workspaces.FrameState> {\r\n        const frameResult = await this.bridge.send<FrameStateResult>(OPERATIONS.getFrameState.name, { itemId: frameId });\r\n        return frameResult.state;\r\n    }\r\n\r\n    public async closeItem(itemId: string): Promise<void> {\r\n        return await this.base.closeItem(itemId);\r\n    }\r\n\r\n    public async resizeItem(itemId: string, config: Glue42Workspaces.ResizeConfig): Promise<void> {\r\n        return await this.base.resizeItem(itemId, config);\r\n    }\r\n\r\n    public async moveFrame(itemId: string, config: Glue42Workspaces.MoveConfig): Promise<void> {\r\n        return await this.base.moveFrame(itemId, config);\r\n    }\r\n\r\n    public getGDWindow(itemId: string): GDWindow {\r\n        return this.base.getGDWindow(itemId);\r\n    }\r\n\r\n    public async forceLoadWindow(itemId: string): Promise<string> {\r\n        const windowId = await this.base.forceLoadWindow(itemId);\r\n\r\n        await this.base.notifyWindowAdded(windowId);\r\n\r\n        return windowId;\r\n    }\r\n\r\n    public async ejectWindow(itemId: string): Promise<string> {\r\n        const windowId: string = (await this.base.ejectWindow(itemId)).windowId;\r\n\r\n        await this.base.notifyWindowAdded(windowId);\r\n\r\n        return windowId;\r\n    }\r\n\r\n    public async moveWindowTo(itemId: string, newParentId: string): Promise<void> {\r\n        return await this.base.moveWindowTo(itemId, newParentId);\r\n    }\r\n\r\n    public async getSnapshot(itemId: string, type: \"workspace\" | \"frame\"): Promise<WorkspaceSnapshotResult | FrameSnapshotResult> {\r\n        return await this.base.getSnapshot(itemId, type);\r\n    }\r\n\r\n    public async setItemTitle(itemId: string, title: string): Promise<void> {\r\n        return await this.base.setItemTitle(itemId, title);\r\n    }\r\n\r\n    public flatChildren(children: Child[]): Child[] {\r\n        return children.reduce<Child[]>((soFar, child) => {\r\n\r\n            soFar.push(child);\r\n\r\n            if (child.type !== \"window\") {\r\n                soFar.push(...this.flatChildren(child.children));\r\n            }\r\n\r\n            return soFar;\r\n        }, []);\r\n    }\r\n\r\n    public refreshChildren(config: RefreshChildrenConfig): Child[] {\r\n        return this.base.refreshChildren(config);\r\n    }\r\n\r\n    public iterateFindChild(children: Child[], predicate: (child: Child) => boolean): Child {\r\n        return this.base.iterateFindChild(children, predicate);\r\n    }\r\n\r\n    public iterateFilterChildren(children: Child[], predicate: (child: Child) => boolean): Child[] {\r\n        return this.base.iterateFilterChildren(children, predicate);\r\n    }\r\n\r\n    public hibernateWorkspace(workspaceId: string): Promise<void> {\r\n        return this.base.hibernateWorkspace(workspaceId);\r\n    }\r\n\r\n    public resumeWorkspace(workspaceId: string): Promise<void> {\r\n        return this.base.resumeWorkspace(workspaceId);\r\n    }\r\n\r\n    public lockWorkspace(workspaceId: string, config?: WorkspaceLockConfig): Promise<void> {\r\n        return this.base.lockWorkspace(workspaceId, config);\r\n    }\r\n\r\n    public lockWindow(windowPlacementId: string, config?: WorkspaceWindowLockConfig): Promise<void> {\r\n        return this.base.lockWindow(windowPlacementId, config);\r\n    }\r\n\r\n    public lockContainer(itemId: string, type: SubParentTypes[\"type\"], config?: ContainerLockConfig): Promise<void> {\r\n        return this.base.lockContainer(itemId, type, config);\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    private async handleCoreLocalSubscription(config: SubscriptionConfig, levelId: string): Promise<Glue42Workspaces.Unsubscribe> {\r\n        await this.bridge.createCoreEventSubscription();\r\n\r\n        config.scopeId = config.scopeId || levelId;\r\n\r\n        if (config.eventType === \"window\" && config.action === \"loaded\") {\r\n            const originalCB = config.callback;\r\n\r\n            const wrappedCB = async (callbackData: WindowStreamData): Promise<void> => {\r\n\r\n                await this.base.notifyWindowAdded(callbackData.windowSummary.config.windowId);\r\n\r\n                originalCB(callbackData);\r\n            };\r\n\r\n            config.callback = wrappedCB;\r\n        }\r\n\r\n        return this.bridge.handleCoreSubscription(config);\r\n    }\r\n\r\n    private handleEnterpriseLocalSubscription(config: SubscriptionConfig, levelId: string): Promise<Glue42Workspaces.Unsubscribe> {\r\n        config.scopeId = config.scopeId || levelId;\r\n\r\n        if (config.eventType === \"window\" && config.action === \"loaded\") {\r\n            const originalCB = config.callback;\r\n\r\n            const wrappedCB = async (callbackData: WindowStreamData): Promise<void> => {\r\n                await this.base.notifyWindowAdded(callbackData.windowSummary.config.windowId);\r\n                originalCB(callbackData);\r\n            };\r\n\r\n            config.callback = wrappedCB;\r\n        }\r\n\r\n        return this.bridge.subscribe(config);\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    private async handleCoreGlobalSubscription(callback: (callbackData: unknown) => void, eventType: WorkspaceEventType, action: WorkspaceEventAction): Promise<Glue42Workspaces.Unsubscribe> {\r\n        await this.bridge.createCoreEventSubscription();\r\n\r\n        const config: SubscriptionConfig = {\r\n            eventType, callback, action,\r\n            scope: \"global\",\r\n        };\r\n\r\n        if (eventType === \"window\" && action === \"loaded\") {\r\n            const wrappedCB = async (callbackData: WindowStreamData): Promise<void> => {\r\n\r\n                await this.base.notifyWindowAdded(callbackData.windowSummary.config.windowId);\r\n\r\n                callback(callbackData);\r\n            };\r\n\r\n            config.callback = wrappedCB;\r\n        }\r\n\r\n        return this.bridge.handleCoreSubscription(config);\r\n    }\r\n\r\n    private handleEnterpriseGlobalSubscription(callback: (callbackData: unknown) => void, eventType: WorkspaceEventType, action: WorkspaceEventAction): Promise<Glue42Workspaces.Unsubscribe> {\r\n        const config: SubscriptionConfig = {\r\n            eventType, callback, action,\r\n            scope: \"global\",\r\n        };\r\n\r\n        if (eventType === \"window\" && action === \"loaded\") {\r\n            const wrappedCB = async (callbackData: WindowStreamData): Promise<void> => {\r\n\r\n                await this.base.notifyWindowAdded(callbackData.windowSummary.config.windowId);\r\n\r\n                callback(callbackData);\r\n            };\r\n\r\n            config.callback = wrappedCB;\r\n        }\r\n\r\n        return this.bridge.subscribe(config);\r\n    }\r\n\r\n    private async iterateWorkspaces(callback: (workspace: Workspace, end: () => void) => void): Promise<void> {\r\n        let ended = false;\r\n\r\n        const end = (): void => { ended = true; };\r\n\r\n        const workspaceSummaries = await this.getAllWorkspaceSummaries();\r\n\r\n        for (const summary of workspaceSummaries) {\r\n            if (ended) {\r\n                return;\r\n            }\r\n\r\n            const wsp = await this.base.fetchWorkspace(summary.id);\r\n\r\n            callback(wsp, end);\r\n        }\r\n    }\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { IoC } from \"./shared/ioc\";\r\nimport { checkThrowCallback, nonEmptyStringDecoder, workspaceLayoutDecoder, workspaceDefinitionDecoder, workspaceBuilderCreateConfigDecoder, builderConfigDecoder, restoreWorkspaceConfigDecoder, workspaceLayoutSaveConfigDecoder } from \"./shared/decoders\";\r\nimport { FrameStreamData, WorkspaceStreamData, WorkspaceSnapshotResult, WindowStreamData } from \"./types/protocol\";\r\nimport { FrameCreateConfig, WorkspaceIoCCreateConfig } from \"./types/ioc\";\r\nimport { Glue42Workspaces } from \"./../workspaces\";\r\nimport { WorkspacesController } from \"./types/controller\";\r\n\r\nexport const composeAPI = (glue: any, ioc: IoC): Glue42Workspaces.API => {\r\n\r\n    const controller: WorkspacesController = ioc.controller;\r\n\r\n    const inWorkspace = (): Promise<boolean> => {\r\n        const myId: string = glue.windows.my().id;\r\n\r\n        if (!myId) {\r\n            throw new Error(\"Cannot get my frame, because my id is undefined.\");\r\n        }\r\n\r\n        return controller.checkIsInSwimlane(myId);\r\n    };\r\n\r\n    const getBuilder = (config: Glue42Workspaces.BuilderConfig): Glue42Workspaces.WorkspaceBuilder | Glue42Workspaces.BoxBuilder => {\r\n        const validatedConfig = builderConfigDecoder.runWithException(config);\r\n\r\n        return ioc.getBuilder(validatedConfig);\r\n    };\r\n\r\n    const getMyFrame = async (): Promise<Glue42Workspaces.Frame> => {\r\n        const windowId: string = glue.windows.my().id;\r\n\r\n        if (!windowId) {\r\n            throw new Error(\"Cannot get my frame, because my id is undefined.\");\r\n        }\r\n\r\n        const isInSwimlane = await controller.checkIsInSwimlane(windowId);\r\n\r\n        if (!isInSwimlane) {\r\n            throw new Error(\"Cannot fetch your frame, because this window is not in a workspace\");\r\n        }\r\n\r\n        return controller.getFrame({ windowId });\r\n    };\r\n\r\n    const getFrame = async (predicate: (frame: Glue42Workspaces.Frame) => boolean): Promise<Glue42Workspaces.Frame> => {\r\n        checkThrowCallback(predicate);\r\n\r\n        return controller.getFrame({ predicate });\r\n    };\r\n\r\n    const getAllFrames = async (predicate?: (frame: Glue42Workspaces.Frame) => boolean): Promise<Glue42Workspaces.Frame[]> => {\r\n        checkThrowCallback(predicate, true);\r\n\r\n        return controller.getFrames(predicate);\r\n    };\r\n\r\n    const getAllWorkspacesSummaries = (): Promise<Glue42Workspaces.WorkspaceSummary[]> => {\r\n        return controller.getAllWorkspaceSummaries();\r\n    };\r\n\r\n    const getMyWorkspace = async (): Promise<Glue42Workspaces.Workspace> => {\r\n        const myId: string = glue.windows.my().id;\r\n\r\n        if (!myId) {\r\n            throw new Error(\"Cannot get my workspace, because my id is undefined.\");\r\n        }\r\n\r\n        const isInSwimlane = await controller.checkIsInSwimlane(myId);\r\n\r\n        if (!isInSwimlane) {\r\n            throw new Error(\"Cannot fetch your workspace, because this window is not in a workspace\");\r\n        }\r\n\r\n        return (await controller.getWorkspaces((wsp) => !!wsp.getWindow((w) => w.id === myId)))[0];\r\n    };\r\n\r\n    const getWorkspace = async (predicate: (workspace: Glue42Workspaces.Workspace) => boolean): Promise<Glue42Workspaces.Workspace> => {\r\n        checkThrowCallback(predicate);\r\n        return (await controller.getWorkspaces(predicate))[0];\r\n    };\r\n\r\n    const getAllWorkspaces = (predicate?: (workspace: Glue42Workspaces.Workspace) => boolean): Promise<Glue42Workspaces.Workspace[]> => {\r\n        checkThrowCallback(predicate, true);\r\n        return controller.getWorkspaces(predicate);\r\n    };\r\n\r\n    const getWindow = async (predicate: (swimlaneWindow: Glue42Workspaces.WorkspaceWindow) => boolean): Promise<Glue42Workspaces.WorkspaceWindow> => {\r\n        checkThrowCallback(predicate);\r\n        return controller.getWindow(predicate);\r\n    };\r\n\r\n    const getParent = async (predicate: (parent: Glue42Workspaces.WorkspaceBox) => boolean): Promise<Glue42Workspaces.WorkspaceBox> => {\r\n        checkThrowCallback(predicate);\r\n        return controller.getParent(predicate);\r\n    };\r\n\r\n    const restoreWorkspace = async (name: string, options?: Glue42Workspaces.RestoreWorkspaceConfig): Promise<Glue42Workspaces.Workspace> => {\r\n        nonEmptyStringDecoder.runWithException(name);\r\n        const validatedOptions = restoreWorkspaceConfigDecoder.runWithException(options);\r\n        return controller.restoreWorkspace(name, validatedOptions);\r\n    };\r\n\r\n    const createWorkspace = async (definition: Glue42Workspaces.WorkspaceDefinition, saveConfig?: Glue42Workspaces.WorkspaceCreateConfig): Promise<Glue42Workspaces.Workspace> => {\r\n        const validatedDefinition = workspaceDefinitionDecoder.runWithException(definition);\r\n        const validatedConfig = workspaceBuilderCreateConfigDecoder.runWithException(saveConfig);\r\n\r\n        return controller.createWorkspace(validatedDefinition, validatedConfig);\r\n    };\r\n\r\n    const layouts = {\r\n        getSummaries: (): Promise<Glue42Workspaces.WorkspaceLayoutSummary[]> => {\r\n            return controller.getLayoutSummaries();\r\n        },\r\n        delete: async (name: string): Promise<void> => {\r\n            nonEmptyStringDecoder.runWithException(name);\r\n            return controller.deleteLayout(name);\r\n        },\r\n        export: async (predicate?: (layout: Glue42Workspaces.WorkspaceLayout) => boolean): Promise<Glue42Workspaces.WorkspaceLayout[]> => {\r\n            checkThrowCallback(predicate, true);\r\n            return controller.exportLayout(predicate);\r\n        },\r\n        import: async (layouts: Glue42Workspaces.WorkspaceLayout[], mode: \"replace\" | \"merge\" = \"replace\"): Promise<void> => {\r\n\r\n            if (!Array.isArray(layouts)) {\r\n                throw new Error(`The provided layouts argument is not an array: ${JSON.stringify(layouts)}`);\r\n            }\r\n\r\n            layouts.forEach((layout) => workspaceLayoutDecoder.runWithException(layout));\r\n            return controller.importLayout(layouts, mode);\r\n        },\r\n        save: async (config: Glue42Workspaces.WorkspaceLayoutSaveConfig): Promise<Glue42Workspaces.WorkspaceLayout> => {\r\n            const verifiedConfig = workspaceLayoutSaveConfigDecoder.runWithException(config);\r\n            return controller.saveLayout(verifiedConfig);\r\n        },\r\n        onSaved: async (callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n            checkThrowCallback(callback);\r\n\r\n            return controller.handleOnSaved(callback);\r\n        },\r\n        onRemoved: async (callback: (layout: Glue42Workspaces.WorkspaceLayout) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n            checkThrowCallback(callback);\r\n\r\n            return controller.handleOnRemoved(callback);\r\n        }\r\n    };\r\n\r\n    const onFrameOpened = async (callback: (frame: Glue42Workspaces.Frame) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n        checkThrowCallback(callback);\r\n\r\n        const wrappedCallback = (payload: FrameStreamData): void => {\r\n            const frameConfig: FrameCreateConfig = {\r\n                summary: payload.frameSummary\r\n            };\r\n            const frame = ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n            callback(frame);\r\n        };\r\n\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"frame\", \"opened\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    const onFrameClosed = async (callback: (closed: { frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n        checkThrowCallback(callback);\r\n        const wrappedCallback = (payload: FrameStreamData): void => {\r\n            callback({ frameId: payload.frameSummary.id });\r\n        };\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"frame\", \"closed\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    const onWorkspaceOpened = async (callback: (workspace: Glue42Workspaces.Workspace) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n\r\n        checkThrowCallback(callback);\r\n        const wrappedCallback = async (payload: WorkspaceStreamData): Promise<void> => {\r\n            const frameConfig: FrameCreateConfig = {\r\n                summary: payload.frameSummary\r\n            };\r\n            const frame = ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n            const snapshot = (await controller.getSnapshot(payload.workspaceSummary.id, \"workspace\")) as WorkspaceSnapshotResult;\r\n\r\n            const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n            const workspace = ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n\r\n            callback(workspace);\r\n        };\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"workspace\", \"opened\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    const onWorkspaceClosed = async (callback: (closed: { frameId: string; workspaceId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n        checkThrowCallback(callback);\r\n\r\n        const wrappedCallback = (payload: WorkspaceStreamData): void => {\r\n            callback({ frameId: payload.frameSummary.id, workspaceId: payload.workspaceSummary.id });\r\n        };\r\n\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"workspace\", \"closed\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    const onWindowAdded = async (callback: (swimlaneWindow: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n        checkThrowCallback(callback);\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            const snapshot = (await controller.getSnapshot(payload.windowSummary.config.workspaceId, \"workspace\")) as WorkspaceSnapshotResult;\r\n\r\n            const frameConfig: FrameCreateConfig = {\r\n                summary: snapshot.frameSummary\r\n            };\r\n            const frame = ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n            const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n            const workspace = ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n\r\n            const windowParent = workspace.getBox((parent) => parent.id === payload.windowSummary.parentId);\r\n            const foundWindow = windowParent.children.find((child) => child.type === \"window\" && child.positionIndex === payload.windowSummary.config.positionIndex);\r\n\r\n            callback(foundWindow as Glue42Workspaces.WorkspaceWindow);\r\n        };\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"window\", \"added\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    const onWindowLoaded = async (callback: (swimlaneWindow: Glue42Workspaces.WorkspaceWindow) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n        checkThrowCallback(callback);\r\n        const wrappedCallback = async (payload: WindowStreamData): Promise<void> => {\r\n            const snapshot = (await controller.getSnapshot(payload.windowSummary.config.workspaceId, \"workspace\")) as WorkspaceSnapshotResult;\r\n\r\n            const frameConfig: FrameCreateConfig = {\r\n                summary: snapshot.frameSummary\r\n            };\r\n            const frame = ioc.getModel<\"frame\">(\"frame\", frameConfig);\r\n\r\n            const workspaceConfig: WorkspaceIoCCreateConfig = { frame, snapshot };\r\n\r\n            const workspace = ioc.getModel<\"workspace\">(\"workspace\", workspaceConfig);\r\n\r\n            const foundWindow = workspace.getWindow((win) => win.id && win.id === payload.windowSummary.config.windowId);\r\n\r\n            callback(foundWindow);\r\n        };\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"window\", \"loaded\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    const onWindowRemoved = async (callback: (removed: { windowId: string; workspaceId: string; frameId: string }) => void): Promise<Glue42Workspaces.Unsubscribe> => {\r\n        checkThrowCallback(callback);\r\n        const wrappedCallback = (payload: WindowStreamData): void => {\r\n            const { windowId, workspaceId, frameId } = payload.windowSummary.config;\r\n            callback({ windowId, workspaceId, frameId });\r\n        };\r\n        const unsubscribe = await controller.processGlobalSubscription(wrappedCallback, \"window\", \"removed\");\r\n        return unsubscribe;\r\n    };\r\n\r\n    return {\r\n        inWorkspace,\r\n        getBuilder,\r\n        getMyFrame,\r\n        getFrame,\r\n        getAllFrames,\r\n        getAllWorkspacesSummaries,\r\n        getMyWorkspace,\r\n        getWorkspace,\r\n        getAllWorkspaces,\r\n        getWindow,\r\n        getBox: getParent,\r\n        restoreWorkspace,\r\n        createWorkspace,\r\n        layouts,\r\n        onFrameOpened,\r\n        onFrameClosed,\r\n        onWorkspaceOpened,\r\n        onWorkspaceClosed,\r\n        onWindowAdded,\r\n        onWindowLoaded,\r\n        onWindowRemoved,\r\n    };\r\n};\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { GlueProvider } from '@glue42/react-hooks';\r\nimport Glue, { Glue42 } from \"@glue42/desktop\";\r\nimport GlueWeb, { Glue42Web } from \"@glue42/web\";\r\nimport GlueWorkspaces from \"@glue42/workspaces-api\";\r\n\r\n// import GlueWebPlatform from \"@glue42/web-platform\";\r\n\r\ndeclare const window: Window & { glue42gd: any };\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <GlueProvider glueFactory={(config: any) => {\r\n\r\n      // const layouts = {\r\n      //   mode: \"session\",\r\n      //   local: [\r\n      //     { \"name\": \"example2\", \"type\": \"Workspace\", \"components\": [{ \"type\": \"Workspace\", \"state\": { \"config\": { \"name\": \"second\", \"title\": \"Untitled 1\" }, \"context\": {}, \"children\": [{ \"type\": \"column\", \"config\": {}, \"children\": [{ \"type\": \"row\", \"config\": {}, \"children\": [{ \"type\": \"group\", \"config\": {}, \"children\": [{ \"type\": \"window\", \"config\": { \"appName\": \"SimpleOne\", \"title\": \"asd\" } }] }, { \"type\": \"group\", \"config\": {}, \"children\": [{ \"type\": \"window\", \"config\": { \"appName\": \"SimpleOne\" } }] }] }, { \"type\": \"group\", \"config\": {}, \"children\": [{ \"type\": \"window\", \"config\": { \"appName\": \"SimpleOne\" } }] }] }] } }], \"metadata\": {} },\r\n      //     { \"name\": \"not-example\", \"type\": \"Workspace\", \"components\": [{ \"type\": \"Workspace\", \"state\": { \"config\": { \"name\": \"second\", \"title\": \"Untitled 1\" }, \"context\": {}, \"children\": [{ \"type\": \"column\", \"config\": {}, \"children\": [{ \"type\": \"row\", \"config\": {}, \"children\": [{ \"type\": \"group\", \"config\": {}, \"children\": [{ \"type\": \"window\", \"config\": { \"appName\": \"SimpleOne\" } }] }, { \"type\": \"group\", \"config\": {}, \"children\": [{ \"type\": \"window\", \"config\": { \"appName\": \"SimpleOne\" } }] }] }, { \"type\": \"group\", \"config\": {}, \"children\": [{ \"type\": \"window\", \"config\": { \"appName\": \"SimpleOne\" } }] }] }] } }], \"metadata\": {} },\r\n      //     {\r\n      //       \"name\": \"asd\",\r\n      //       \"type\": \"Workspace\",\r\n      //       \"metadata\": {},\r\n      //       \"components\": [\r\n      //         {\r\n      //           \"type\": \"Workspace\",\r\n      //           \"state\": {\r\n      //             \"config\": {\r\n      //               \"name\": \"asd\",\r\n      //               \"title\": \"Untitled 1\"\r\n      //             },\r\n      //             \"context\": null,\r\n      //             \"children\": [\r\n      //               {\r\n      //                 \"type\": \"column\",\r\n      //                 \"config\": {},\r\n      //                 \"children\": [\r\n      //                   {\r\n      //                     \"type\": \"group\",\r\n      //                     \"config\": {},\r\n      //                     \"children\": [\r\n      //                       {\r\n      //                         \"type\": \"window\",\r\n      //                         \"config\": {\r\n      //                           \"appName\": \"SimpleOne\"\r\n      //                         }\r\n      //                       }\r\n      //                     ]\r\n      //                   }\r\n      //                 ]\r\n      //               }\r\n      //             ]\r\n      //           }\r\n      //         }\r\n      //       ]\r\n      //     }\r\n      //   ]\r\n      // };\r\n\r\n      // const applications = {\r\n      //   local: [\r\n      //     {\r\n      //       name: \"SimpleOne\",\r\n      //       type: \"window\",\r\n      //       title: \"maybe\",\r\n      //       details: {\r\n      //         url: \"http://localhost:9200/\"\r\n      //       },\r\n      //       customProperties: {\r\n      //         includeInWorkspaces: true\r\n      //       }\r\n      //     }\r\n      //   ]\r\n      // }\r\n\r\n      // const platformConfig = {\r\n      //   glue: {\r\n      //     libraries: [GlueWorkspaces],\r\n      //     systemLogger: { level: \"trace\" }\r\n      //   },\r\n      //   applications,\r\n      //   layouts,\r\n      //   workspaces: {\r\n      //     src: \"/\",\r\n      //     isFrame: true\r\n      //   }\r\n      // };\r\n\r\n      // return GlueWebPlatform(platformConfig as any).then((data) => data.glue) as any;\r\n\r\n      return window.glue42gd ?\r\n        Glue(Object.assign(config, { libraries: [GlueWorkspaces], appManager: \"skipIcons\" }) as Glue42.Config) :\r\n        GlueWeb(Object.assign(config, { libraries: [GlueWorkspaces] }) as Glue42Web.Config) as any\r\n    }}>\r\n      <App />\r\n    </GlueProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}